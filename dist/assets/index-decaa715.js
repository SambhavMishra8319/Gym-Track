var wV=Object.defineProperty;var EV=(e,t,n)=>t in e?wV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ng=(e,t,n)=>(EV(e,typeof t!="symbol"?t+"":t,n),n);function bV(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Si(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gI={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=Symbol.for("react.element"),PV=Symbol.for("react.portal"),SV=Symbol.for("react.fragment"),TV=Symbol.for("react.strict_mode"),xV=Symbol.for("react.profiler"),AV=Symbol.for("react.provider"),IV=Symbol.for("react.context"),kV=Symbol.for("react.forward_ref"),CV=Symbol.for("react.suspense"),OV=Symbol.for("react.memo"),RV=Symbol.for("react.lazy"),Ib=Symbol.iterator;function NV(e){return e===null||typeof e!="object"?null:(e=Ib&&e[Ib]||e["@@iterator"],typeof e=="function"?e:null)}var vI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yI=Object.assign,_I={};function zs(e,t,n){this.props=e,this.context=t,this.refs=_I,this.updater=n||vI}zs.prototype.isReactComponent={};zs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wI(){}wI.prototype=zs.prototype;function N0(e,t,n){this.props=e,this.context=t,this.refs=_I,this.updater=n||vI}var D0=N0.prototype=new wI;D0.constructor=N0;yI(D0,zs.prototype);D0.isPureReactComponent=!0;var kb=Array.isArray,EI=Object.prototype.hasOwnProperty,M0={current:null},bI={key:!0,ref:!0,__self:!0,__source:!0};function PI(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)EI.call(t,r)&&!bI.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:oc,type:e,key:o,ref:a,props:i,_owner:M0.current}}function DV(e,t){return{$$typeof:oc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function L0(e){return typeof e=="object"&&e!==null&&e.$$typeof===oc}function MV(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cb=/\/+/g;function rg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MV(""+e.key):t.toString(36)}function Yf(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case oc:case PV:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+rg(a,0):r,kb(i)?(n="",e!=null&&(n=e.replace(Cb,"$&/")+"/"),Yf(i,t,n,"",function(u){return u})):i!=null&&(L0(i)&&(i=DV(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Cb,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",kb(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+rg(o,s);a+=Yf(o,t,n,l,i)}else if(l=NV(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+rg(o,s++),a+=Yf(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function uf(e,t,n){if(e==null)return e;var r=[],i=0;return Yf(e,r,"","",function(o){return t.call(n,o,i++)}),r}function LV(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dn={current:null},Qf={transition:null},jV={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Qf,ReactCurrentOwner:M0};function SI(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:uf,forEach:function(e,t,n){uf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return uf(e,function(){t++}),t},toArray:function(e){return uf(e,function(t){return t})||[]},only:function(e){if(!L0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=zs;he.Fragment=SV;he.Profiler=xV;he.PureComponent=N0;he.StrictMode=TV;he.Suspense=CV;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jV;he.act=SI;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yI({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=M0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)EI.call(t,l)&&!bI.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:oc,type:e.type,key:i,ref:o,props:r,_owner:a}};he.createContext=function(e){return e={$$typeof:IV,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:AV,_context:e},e.Consumer=e};he.createElement=PI;he.createFactory=function(e){var t=PI.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:kV,render:e}};he.isValidElement=L0;he.lazy=function(e){return{$$typeof:RV,_payload:{_status:-1,_result:e},_init:LV}};he.memo=function(e,t){return{$$typeof:OV,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Qf.transition;Qf.transition={};try{e()}finally{Qf.transition=t}};he.unstable_act=SI;he.useCallback=function(e,t){return dn.current.useCallback(e,t)};he.useContext=function(e){return dn.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return dn.current.useDeferredValue(e)};he.useEffect=function(e,t){return dn.current.useEffect(e,t)};he.useId=function(){return dn.current.useId()};he.useImperativeHandle=function(e,t,n){return dn.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return dn.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return dn.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return dn.current.useMemo(e,t)};he.useReducer=function(e,t,n){return dn.current.useReducer(e,t,n)};he.useRef=function(e){return dn.current.useRef(e)};he.useState=function(e){return dn.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return dn.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return dn.current.useTransition()};he.version="18.3.1";gI.exports=he;var v=gI.exports;const A=Si(v),TI=bV({__proto__:null,default:A},[v]);var xI={exports:{}},Vn={},AI={exports:{}},II={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,B){var X=z.length;z.push(B);e:for(;0<X;){var le=X-1>>>1,ue=z[le];if(0<i(ue,B))z[le]=B,z[X]=ue,X=le;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],X=z.pop();if(X!==B){z[0]=X;e:for(var le=0,ue=z.length,Ee=ue>>>1;le<Ee;){var Qe=2*(le+1)-1,en=z[Qe],tn=Qe+1,Oe=z[tn];if(0>i(en,X))tn<ue&&0>i(Oe,en)?(z[le]=Oe,z[tn]=X,le=tn):(z[le]=en,z[Qe]=X,le=Qe);else if(tn<ue&&0>i(Oe,X))z[le]=Oe,z[tn]=X,le=tn;else break e}}return B}function i(z,B){var X=z.sortIndex-B.sortIndex;return X!==0?X:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,p=!1,g=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(z){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=z)r(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(u)}}function k(z){if(_=!1,P(z),!g)if(n(l)!==null)g=!0,fe(O);else{var B=n(u);B!==null&&se(k,B.startTime-z)}}function O(z,B){g=!1,_&&(_=!1,w(S),S=-1),p=!0;var X=h;try{for(P(B),d=n(l);d!==null&&(!(d.expirationTime>B)||z&&!C());){var le=d.callback;if(typeof le=="function"){d.callback=null,h=d.priorityLevel;var ue=le(d.expirationTime<=B);B=e.unstable_now(),typeof ue=="function"?d.callback=ue:d===n(l)&&r(l),P(B)}else r(l);d=n(l)}if(d!==null)var Ee=!0;else{var Qe=n(u);Qe!==null&&se(k,Qe.startTime-B),Ee=!1}return Ee}finally{d=null,h=X,p=!1}}var M=!1,T=null,S=-1,I=5,R=-1;function C(){return!(e.unstable_now()-R<I)}function D(){if(T!==null){var z=e.unstable_now();R=z;var B=!0;try{B=T(!0,z)}finally{B?N():(M=!1,T=null)}}else M=!1}var N;if(typeof b=="function")N=function(){b(D)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ce=Z.port2;Z.port1.onmessage=D,N=function(){ce.postMessage(null)}}else N=function(){y(D,0)};function fe(z){T=z,M||(M=!0,N())}function se(z,B){S=y(function(){z(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,fe(O))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var X=h;h=B;try{return z()}finally{h=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=h;h=z;try{return B()}finally{h=X}},e.unstable_scheduleCallback=function(z,B,X){var le=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?le+X:le):X=le,z){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=X+ue,z={id:c++,callback:B,priorityLevel:z,startTime:X,expirationTime:ue,sortIndex:-1},X>le?(z.sortIndex=X,t(u,z),n(l)===null&&z===n(u)&&(_?(w(S),S=-1):_=!0,se(k,X-le))):(z.sortIndex=ue,t(l,z),g||p||(g=!0,fe(O))),z},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(z){var B=h;return function(){var X=h;h=B;try{return z.apply(this,arguments)}finally{h=X}}}})(II);AI.exports=II;var VV=AI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $V=v,Ln=VV;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kI=new Set,fu={};function Ta(e,t){ys(e,t),ys(e+"Capture",t)}function ys(e,t){for(fu[e]=t,e=0;e<t.length;e++)kI.add(t[e])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pv=Object.prototype.hasOwnProperty,UV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ob={},Rb={};function FV(e){return pv.call(Rb,e)?!0:pv.call(Ob,e)?!1:UV.test(e)?Rb[e]=!0:(Ob[e]=!0,!1)}function zV(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BV(e,t,n,r){if(t===null||typeof t>"u"||zV(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hn(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mt[e]=new hn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mt[t]=new hn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mt[e]=new hn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mt[e]=new hn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mt[e]=new hn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mt[e]=new hn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mt[e]=new hn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mt[e]=new hn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mt[e]=new hn(e,5,!1,e.toLowerCase(),null,!1,!1)});var j0=/[\-:]([a-z])/g;function V0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(j0,V0);Mt[t]=new hn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(j0,V0);Mt[t]=new hn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(j0,V0);Mt[t]=new hn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mt[e]=new hn(e,1,!1,e.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mt[e]=new hn(e,1,!1,e.toLowerCase(),null,!0,!0)});function $0(e,t,n,r){var i=Mt.hasOwnProperty(t)?Mt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BV(t,n,i,r)&&(n=null),r||i===null?FV(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ti=$V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cf=Symbol.for("react.element"),Ha=Symbol.for("react.portal"),qa=Symbol.for("react.fragment"),U0=Symbol.for("react.strict_mode"),mv=Symbol.for("react.profiler"),CI=Symbol.for("react.provider"),OI=Symbol.for("react.context"),F0=Symbol.for("react.forward_ref"),gv=Symbol.for("react.suspense"),vv=Symbol.for("react.suspense_list"),z0=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),RI=Symbol.for("react.offscreen"),Nb=Symbol.iterator;function wl(e){return e===null||typeof e!="object"?null:(e=Nb&&e[Nb]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,ig;function jl(e){if(ig===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ig=t&&t[1]||""}return`
`+ig+e}var og=!1;function ag(e,t){if(!e||og)return"";og=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{og=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jl(e):""}function WV(e){switch(e.tag){case 5:return jl(e.type);case 16:return jl("Lazy");case 13:return jl("Suspense");case 19:return jl("SuspenseList");case 0:case 2:case 15:return e=ag(e.type,!1),e;case 11:return e=ag(e.type.render,!1),e;case 1:return e=ag(e.type,!0),e;default:return""}}function yv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qa:return"Fragment";case Ha:return"Portal";case mv:return"Profiler";case U0:return"StrictMode";case gv:return"Suspense";case vv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case OI:return(e.displayName||"Context")+".Consumer";case CI:return(e._context.displayName||"Context")+".Provider";case F0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z0:return t=e.displayName||null,t!==null?t:yv(e.type)||"Memo";case $i:t=e._payload,e=e._init;try{return yv(e(t))}catch{}}return null}function KV(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yv(t);case 8:return t===U0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function po(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function NI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HV(e){var t=NI(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ff(e){e._valueTracker||(e._valueTracker=HV(e))}function DI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=NI(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _v(e,t){var n=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Db(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=po(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function MI(e,t){t=t.checked,t!=null&&$0(e,"checked",t,!1)}function wv(e,t){MI(e,t);var n=po(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ev(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ev(e,t.type,po(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mb(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ev(e,t,n){(t!=="number"||bd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vl=Array.isArray;function as(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+po(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function bv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(Vl(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:po(n)}}function LI(e,t){var n=po(t.value),r=po(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function jb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var df,VI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(df=df||document.createElement("div"),df.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=df.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function du(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qV=["Webkit","ms","Moz","O"];Object.keys(Yl).forEach(function(e){qV.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yl[t]=Yl[e]})});function $I(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Yl.hasOwnProperty(e)&&Yl[e]?(""+t).trim():t+"px"}function UI(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$I(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var GV=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sv(e,t){if(t){if(GV[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function Tv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xv=null;function B0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Av=null,ss=null,ls=null;function Vb(e){if(e=lc(e)){if(typeof Av!="function")throw Error(K(280));var t=e.stateNode;t&&(t=op(t),Av(e.stateNode,e.type,t))}}function FI(e){ss?ls?ls.push(e):ls=[e]:ss=e}function zI(){if(ss){var e=ss,t=ls;if(ls=ss=null,Vb(e),t)for(e=0;e<t.length;e++)Vb(t[e])}}function BI(e,t){return e(t)}function WI(){}var sg=!1;function KI(e,t,n){if(sg)return e(t,n);sg=!0;try{return BI(e,t,n)}finally{sg=!1,(ss!==null||ls!==null)&&(WI(),zI())}}function hu(e,t){var n=e.stateNode;if(n===null)return null;var r=op(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Iv=!1;if(ui)try{var El={};Object.defineProperty(El,"passive",{get:function(){Iv=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{Iv=!1}function YV(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ql=!1,Pd=null,Sd=!1,kv=null,QV={onError:function(e){Ql=!0,Pd=e}};function XV(e,t,n,r,i,o,a,s,l){Ql=!1,Pd=null,YV.apply(QV,arguments)}function JV(e,t,n,r,i,o,a,s,l){if(XV.apply(this,arguments),Ql){if(Ql){var u=Pd;Ql=!1,Pd=null}else throw Error(K(198));Sd||(Sd=!0,kv=u)}}function xa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function HI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $b(e){if(xa(e)!==e)throw Error(K(188))}function ZV(e){var t=e.alternate;if(!t){if(t=xa(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $b(i),e;if(o===r)return $b(i),t;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function qI(e){return e=ZV(e),e!==null?GI(e):null}function GI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GI(e);if(t!==null)return t;e=e.sibling}return null}var YI=Ln.unstable_scheduleCallback,Ub=Ln.unstable_cancelCallback,e4=Ln.unstable_shouldYield,t4=Ln.unstable_requestPaint,Ze=Ln.unstable_now,n4=Ln.unstable_getCurrentPriorityLevel,W0=Ln.unstable_ImmediatePriority,QI=Ln.unstable_UserBlockingPriority,Td=Ln.unstable_NormalPriority,r4=Ln.unstable_LowPriority,XI=Ln.unstable_IdlePriority,tp=null,kr=null;function i4(e){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(tp,e,void 0,(e.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:s4,o4=Math.log,a4=Math.LN2;function s4(e){return e>>>=0,e===0?32:31-(o4(e)/a4|0)|0}var hf=64,pf=4194304;function $l(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=$l(s):(o&=a,o!==0&&(r=$l(o)))}else a=n&~i,a!==0?r=$l(a):o!==0&&(r=$l(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dr(t),i=1<<n,r|=e[n],t&=~i;return r}function l4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u4(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-dr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=l4(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Cv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function JI(){var e=hf;return hf<<=1,!(hf&4194240)&&(hf=64),e}function lg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ac(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dr(t),e[t]=n}function c4(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-dr(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function K0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Se=0;function ZI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ek,H0,tk,nk,rk,Ov=!1,mf=[],eo=null,to=null,no=null,pu=new Map,mu=new Map,Bi=[],f4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fb(e,t){switch(e){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":pu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(t.pointerId)}}function bl(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=lc(t),t!==null&&H0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function d4(e,t,n,r,i){switch(t){case"focusin":return eo=bl(eo,e,t,n,r,i),!0;case"dragenter":return to=bl(to,e,t,n,r,i),!0;case"mouseover":return no=bl(no,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return pu.set(o,bl(pu.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,mu.set(o,bl(mu.get(o)||null,e,t,n,r,i)),!0}return!1}function ik(e){var t=Ho(e.target);if(t!==null){var n=xa(t);if(n!==null){if(t=n.tag,t===13){if(t=HI(n),t!==null){e.blockedOn=t,rk(e.priority,function(){tk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xv=r,n.target.dispatchEvent(r),xv=null}else return t=lc(n),t!==null&&H0(t),e.blockedOn=n,!1;t.shift()}return!0}function zb(e,t,n){Xf(e)&&n.delete(t)}function h4(){Ov=!1,eo!==null&&Xf(eo)&&(eo=null),to!==null&&Xf(to)&&(to=null),no!==null&&Xf(no)&&(no=null),pu.forEach(zb),mu.forEach(zb)}function Pl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ov||(Ov=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,h4)))}function gu(e){function t(i){return Pl(i,e)}if(0<mf.length){Pl(mf[0],e);for(var n=1;n<mf.length;n++){var r=mf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(eo!==null&&Pl(eo,e),to!==null&&Pl(to,e),no!==null&&Pl(no,e),pu.forEach(t),mu.forEach(t),n=0;n<Bi.length;n++)r=Bi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bi.length&&(n=Bi[0],n.blockedOn===null);)ik(n),n.blockedOn===null&&Bi.shift()}var us=Ti.ReactCurrentBatchConfig,Ad=!0;function p4(e,t,n,r){var i=Se,o=us.transition;us.transition=null;try{Se=1,q0(e,t,n,r)}finally{Se=i,us.transition=o}}function m4(e,t,n,r){var i=Se,o=us.transition;us.transition=null;try{Se=4,q0(e,t,n,r)}finally{Se=i,us.transition=o}}function q0(e,t,n,r){if(Ad){var i=Rv(e,t,n,r);if(i===null)yg(e,t,r,Id,n),Fb(e,r);else if(d4(i,e,t,n,r))r.stopPropagation();else if(Fb(e,r),t&4&&-1<f4.indexOf(e)){for(;i!==null;){var o=lc(i);if(o!==null&&ek(o),o=Rv(e,t,n,r),o===null&&yg(e,t,r,Id,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else yg(e,t,r,null,n)}}var Id=null;function Rv(e,t,n,r){if(Id=null,e=B0(r),e=Ho(e),e!==null)if(t=xa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=HI(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Id=e,null}function ok(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n4()){case W0:return 1;case QI:return 4;case Td:case r4:return 16;case XI:return 536870912;default:return 16}default:return 16}}var Qi=null,G0=null,Jf=null;function ak(){if(Jf)return Jf;var e,t=G0,n=t.length,r,i="value"in Qi?Qi.value:Qi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Jf=i.slice(e,1<r?1-r:void 0)}function Zf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gf(){return!0}function Bb(){return!1}function $n(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?gf:Bb,this.isPropagationStopped=Bb,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gf)},persist:function(){},isPersistent:gf}),t}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y0=$n(Bs),sc=Be({},Bs,{view:0,detail:0}),g4=$n(sc),ug,cg,Sl,np=Be({},sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sl&&(Sl&&e.type==="mousemove"?(ug=e.screenX-Sl.screenX,cg=e.screenY-Sl.screenY):cg=ug=0,Sl=e),ug)},movementY:function(e){return"movementY"in e?e.movementY:cg}}),Wb=$n(np),v4=Be({},np,{dataTransfer:0}),y4=$n(v4),_4=Be({},sc,{relatedTarget:0}),fg=$n(_4),w4=Be({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),E4=$n(w4),b4=Be({},Bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),P4=$n(b4),S4=Be({},Bs,{data:0}),Kb=$n(S4),T4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A4[e])?!!t[e]:!1}function Q0(){return I4}var k4=Be({},sc,{key:function(e){if(e.key){var t=T4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?x4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q0,charCode:function(e){return e.type==="keypress"?Zf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C4=$n(k4),O4=Be({},np,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hb=$n(O4),R4=Be({},sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q0}),N4=$n(R4),D4=Be({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),M4=$n(D4),L4=Be({},np,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j4=$n(L4),V4=[9,13,27,32],X0=ui&&"CompositionEvent"in window,Xl=null;ui&&"documentMode"in document&&(Xl=document.documentMode);var $4=ui&&"TextEvent"in window&&!Xl,sk=ui&&(!X0||Xl&&8<Xl&&11>=Xl),qb=String.fromCharCode(32),Gb=!1;function lk(e,t){switch(e){case"keyup":return V4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ga=!1;function U4(e,t){switch(e){case"compositionend":return uk(t);case"keypress":return t.which!==32?null:(Gb=!0,qb);case"textInput":return e=t.data,e===qb&&Gb?null:e;default:return null}}function F4(e,t){if(Ga)return e==="compositionend"||!X0&&lk(e,t)?(e=ak(),Jf=G0=Qi=null,Ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sk&&t.locale!=="ko"?null:t.data;default:return null}}var z4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!z4[e.type]:t==="textarea"}function ck(e,t,n,r){FI(r),t=kd(t,"onChange"),0<t.length&&(n=new Y0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jl=null,vu=null;function B4(e){Ek(e,0)}function rp(e){var t=Xa(e);if(DI(t))return e}function W4(e,t){if(e==="change")return t}var fk=!1;if(ui){var dg;if(ui){var hg="oninput"in document;if(!hg){var Qb=document.createElement("div");Qb.setAttribute("oninput","return;"),hg=typeof Qb.oninput=="function"}dg=hg}else dg=!1;fk=dg&&(!document.documentMode||9<document.documentMode)}function Xb(){Jl&&(Jl.detachEvent("onpropertychange",dk),vu=Jl=null)}function dk(e){if(e.propertyName==="value"&&rp(vu)){var t=[];ck(t,vu,e,B0(e)),KI(B4,t)}}function K4(e,t,n){e==="focusin"?(Xb(),Jl=t,vu=n,Jl.attachEvent("onpropertychange",dk)):e==="focusout"&&Xb()}function H4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rp(vu)}function q4(e,t){if(e==="click")return rp(t)}function G4(e,t){if(e==="input"||e==="change")return rp(t)}function Y4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gr=typeof Object.is=="function"?Object.is:Y4;function yu(e,t){if(gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pv.call(t,i)||!gr(e[i],t[i]))return!1}return!0}function Jb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zb(e,t){var n=Jb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jb(n)}}function hk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pk(){for(var e=window,t=bd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bd(e.document)}return t}function J0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Q4(e){var t=pk(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hk(n.ownerDocument.documentElement,n)){if(r!==null&&J0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Zb(n,o);var a=Zb(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var X4=ui&&"documentMode"in document&&11>=document.documentMode,Ya=null,Nv=null,Zl=null,Dv=!1;function eP(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dv||Ya==null||Ya!==bd(r)||(r=Ya,"selectionStart"in r&&J0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zl&&yu(Zl,r)||(Zl=r,r=kd(Nv,"onSelect"),0<r.length&&(t=new Y0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ya)))}function vf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qa={animationend:vf("Animation","AnimationEnd"),animationiteration:vf("Animation","AnimationIteration"),animationstart:vf("Animation","AnimationStart"),transitionend:vf("Transition","TransitionEnd")},pg={},mk={};ui&&(mk=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function ip(e){if(pg[e])return pg[e];if(!Qa[e])return e;var t=Qa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mk)return pg[e]=t[n];return e}var gk=ip("animationend"),vk=ip("animationiteration"),yk=ip("animationstart"),_k=ip("transitionend"),wk=new Map,tP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(e,t){wk.set(e,t),Ta(t,[e])}for(var mg=0;mg<tP.length;mg++){var gg=tP[mg],J4=gg.toLowerCase(),Z4=gg[0].toUpperCase()+gg.slice(1);Po(J4,"on"+Z4)}Po(gk,"onAnimationEnd");Po(vk,"onAnimationIteration");Po(yk,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(_k,"onTransitionEnd");ys("onMouseEnter",["mouseout","mouseover"]);ys("onMouseLeave",["mouseout","mouseover"]);ys("onPointerEnter",["pointerout","pointerover"]);ys("onPointerLeave",["pointerout","pointerover"]);Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ul));function nP(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,JV(r,t,void 0,e),e.currentTarget=null}function Ek(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;nP(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;nP(i,s,u),o=l}}}if(Sd)throw e=kv,Sd=!1,kv=null,e}function Ne(e,t){var n=t[$v];n===void 0&&(n=t[$v]=new Set);var r=e+"__bubble";n.has(r)||(bk(t,e,2,!1),n.add(r))}function vg(e,t,n){var r=0;t&&(r|=4),bk(n,e,r,t)}var yf="_reactListening"+Math.random().toString(36).slice(2);function _u(e){if(!e[yf]){e[yf]=!0,kI.forEach(function(n){n!=="selectionchange"&&(e$.has(n)||vg(n,!1,e),vg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yf]||(t[yf]=!0,vg("selectionchange",!1,t))}}function bk(e,t,n,r){switch(ok(t)){case 1:var i=p4;break;case 4:i=m4;break;default:i=q0}n=i.bind(null,t,n,e),i=void 0,!Iv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function yg(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ho(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}KI(function(){var u=o,c=B0(n),d=[];e:{var h=wk.get(e);if(h!==void 0){var p=Y0,g=e;switch(e){case"keypress":if(Zf(n)===0)break e;case"keydown":case"keyup":p=C4;break;case"focusin":g="focus",p=fg;break;case"focusout":g="blur",p=fg;break;case"beforeblur":case"afterblur":p=fg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Wb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=y4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=N4;break;case gk:case vk:case yk:p=E4;break;case _k:p=M4;break;case"scroll":p=g4;break;case"wheel":p=j4;break;case"copy":case"cut":case"paste":p=P4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Hb}var _=(t&4)!==0,y=!_&&e==="scroll",w=_?h!==null?h+"Capture":null:h;_=[];for(var b=u,P;b!==null;){P=b;var k=P.stateNode;if(P.tag===5&&k!==null&&(P=k,w!==null&&(k=hu(b,w),k!=null&&_.push(wu(b,k,P)))),y)break;b=b.return}0<_.length&&(h=new p(h,g,null,n,c),d.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==xv&&(g=n.relatedTarget||n.fromElement)&&(Ho(g)||g[ci]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Ho(g):null,g!==null&&(y=xa(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(_=Wb,k="onMouseLeave",w="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(_=Hb,k="onPointerLeave",w="onPointerEnter",b="pointer"),y=p==null?h:Xa(p),P=g==null?h:Xa(g),h=new _(k,b+"leave",p,n,c),h.target=y,h.relatedTarget=P,k=null,Ho(c)===u&&(_=new _(w,b+"enter",g,n,c),_.target=P,_.relatedTarget=y,k=_),y=k,p&&g)t:{for(_=p,w=g,b=0,P=_;P;P=Va(P))b++;for(P=0,k=w;k;k=Va(k))P++;for(;0<b-P;)_=Va(_),b--;for(;0<P-b;)w=Va(w),P--;for(;b--;){if(_===w||w!==null&&_===w.alternate)break t;_=Va(_),w=Va(w)}_=null}else _=null;p!==null&&rP(d,h,p,_,!1),g!==null&&y!==null&&rP(d,y,g,_,!0)}}e:{if(h=u?Xa(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var O=W4;else if(Yb(h))if(fk)O=G4;else{O=H4;var M=K4}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=q4);if(O&&(O=O(e,u))){ck(d,O,n,c);break e}M&&M(e,h,u),e==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&Ev(h,"number",h.value)}switch(M=u?Xa(u):window,e){case"focusin":(Yb(M)||M.contentEditable==="true")&&(Ya=M,Nv=u,Zl=null);break;case"focusout":Zl=Nv=Ya=null;break;case"mousedown":Dv=!0;break;case"contextmenu":case"mouseup":case"dragend":Dv=!1,eP(d,n,c);break;case"selectionchange":if(X4)break;case"keydown":case"keyup":eP(d,n,c)}var T;if(X0)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ga?lk(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(sk&&n.locale!=="ko"&&(Ga||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ga&&(T=ak()):(Qi=c,G0="value"in Qi?Qi.value:Qi.textContent,Ga=!0)),M=kd(u,S),0<M.length&&(S=new Kb(S,e,null,n,c),d.push({event:S,listeners:M}),T?S.data=T:(T=uk(n),T!==null&&(S.data=T)))),(T=$4?U4(e,n):F4(e,n))&&(u=kd(u,"onBeforeInput"),0<u.length&&(c=new Kb("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}Ek(d,t)})}function wu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function kd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=hu(e,n),o!=null&&r.unshift(wu(e,o,i)),o=hu(e,t),o!=null&&r.push(wu(e,o,i))),e=e.return}return r}function Va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rP(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=hu(n,o),l!=null&&a.unshift(wu(n,l,s))):i||(l=hu(n,o),l!=null&&a.push(wu(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var t$=/\r\n?/g,n$=/\u0000|\uFFFD/g;function iP(e){return(typeof e=="string"?e:""+e).replace(t$,`
`).replace(n$,"")}function _f(e,t,n){if(t=iP(t),iP(e)!==t&&n)throw Error(K(425))}function Cd(){}var Mv=null,Lv=null;function jv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vv=typeof setTimeout=="function"?setTimeout:void 0,r$=typeof clearTimeout=="function"?clearTimeout:void 0,oP=typeof Promise=="function"?Promise:void 0,i$=typeof queueMicrotask=="function"?queueMicrotask:typeof oP<"u"?function(e){return oP.resolve(null).then(e).catch(o$)}:Vv;function o$(e){setTimeout(function(){throw e})}function _g(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),gu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gu(t)}function ro(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function aP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),xr="__reactFiber$"+Ws,Eu="__reactProps$"+Ws,ci="__reactContainer$"+Ws,$v="__reactEvents$"+Ws,a$="__reactListeners$"+Ws,s$="__reactHandles$"+Ws;function Ho(e){var t=e[xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ci]||n[xr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=aP(e);e!==null;){if(n=e[xr])return n;e=aP(e)}return t}e=n,n=e.parentNode}return null}function lc(e){return e=e[xr]||e[ci],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function op(e){return e[Eu]||null}var Uv=[],Ja=-1;function So(e){return{current:e}}function Le(e){0>Ja||(e.current=Uv[Ja],Uv[Ja]=null,Ja--)}function Ce(e,t){Ja++,Uv[Ja]=e.current,e.current=t}var mo={},Xt=So(mo),En=So(!1),sa=mo;function _s(e,t){var n=e.type.contextTypes;if(!n)return mo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function bn(e){return e=e.childContextTypes,e!=null}function Od(){Le(En),Le(Xt)}function sP(e,t,n){if(Xt.current!==mo)throw Error(K(168));Ce(Xt,t),Ce(En,n)}function Pk(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(K(108,KV(e)||"Unknown",i));return Be({},n,r)}function Rd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mo,sa=Xt.current,Ce(Xt,e),Ce(En,En.current),!0}function lP(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=Pk(e,t,sa),r.__reactInternalMemoizedMergedChildContext=e,Le(En),Le(Xt),Ce(Xt,e)):Le(En),Ce(En,n)}var qr=null,ap=!1,wg=!1;function Sk(e){qr===null?qr=[e]:qr.push(e)}function l$(e){ap=!0,Sk(e)}function To(){if(!wg&&qr!==null){wg=!0;var e=0,t=Se;try{var n=qr;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qr=null,ap=!1}catch(i){throw qr!==null&&(qr=qr.slice(e+1)),YI(W0,To),i}finally{Se=t,wg=!1}}return null}var Za=[],es=0,Nd=null,Dd=0,Wn=[],Kn=0,la=null,Jr=1,Zr="";function Uo(e,t){Za[es++]=Dd,Za[es++]=Nd,Nd=e,Dd=t}function Tk(e,t,n){Wn[Kn++]=Jr,Wn[Kn++]=Zr,Wn[Kn++]=la,la=e;var r=Jr;e=Zr;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var o=32-dr(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Jr=1<<32-dr(t)+i|n<<i|r,Zr=o+e}else Jr=1<<o|n<<i|r,Zr=e}function Z0(e){e.return!==null&&(Uo(e,1),Tk(e,1,0))}function e_(e){for(;e===Nd;)Nd=Za[--es],Za[es]=null,Dd=Za[--es],Za[es]=null;for(;e===la;)la=Wn[--Kn],Wn[Kn]=null,Zr=Wn[--Kn],Wn[Kn]=null,Jr=Wn[--Kn],Wn[Kn]=null}var Dn=null,Cn=null,$e=!1,lr=null;function xk(e,t){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function uP(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dn=e,Cn=ro(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dn=e,Cn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=la!==null?{id:Jr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Dn=e,Cn=null,!0):!1;default:return!1}}function Fv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zv(e){if($e){var t=Cn;if(t){var n=t;if(!uP(e,t)){if(Fv(e))throw Error(K(418));t=ro(n.nextSibling);var r=Dn;t&&uP(e,t)?xk(r,n):(e.flags=e.flags&-4097|2,$e=!1,Dn=e)}}else{if(Fv(e))throw Error(K(418));e.flags=e.flags&-4097|2,$e=!1,Dn=e}}}function cP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dn=e}function wf(e){if(e!==Dn)return!1;if(!$e)return cP(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jv(e.type,e.memoizedProps)),t&&(t=Cn)){if(Fv(e))throw Ak(),Error(K(418));for(;t;)xk(e,t),t=ro(t.nextSibling)}if(cP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Cn=ro(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Cn=null}}else Cn=Dn?ro(e.stateNode.nextSibling):null;return!0}function Ak(){for(var e=Cn;e;)e=ro(e.nextSibling)}function ws(){Cn=Dn=null,$e=!1}function t_(e){lr===null?lr=[e]:lr.push(e)}var u$=Ti.ReactCurrentBatchConfig;function Tl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function Ef(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fP(e){var t=e._init;return t(e._payload)}function Ik(e){function t(w,b){if(e){var P=w.deletions;P===null?(w.deletions=[b],w.flags|=16):P.push(b)}}function n(w,b){if(!e)return null;for(;b!==null;)t(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=so(w,b),w.index=0,w.sibling=null,w}function o(w,b,P){return w.index=P,e?(P=w.alternate,P!==null?(P=P.index,P<b?(w.flags|=2,b):P):(w.flags|=2,b)):(w.flags|=1048576,b)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function s(w,b,P,k){return b===null||b.tag!==6?(b=Ag(P,w.mode,k),b.return=w,b):(b=i(b,P),b.return=w,b)}function l(w,b,P,k){var O=P.type;return O===qa?c(w,b,P.props.children,k,P.key):b!==null&&(b.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===$i&&fP(O)===b.type)?(k=i(b,P.props),k.ref=Tl(w,b,P),k.return=w,k):(k=ad(P.type,P.key,P.props,null,w.mode,k),k.ref=Tl(w,b,P),k.return=w,k)}function u(w,b,P,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==P.containerInfo||b.stateNode.implementation!==P.implementation?(b=Ig(P,w.mode,k),b.return=w,b):(b=i(b,P.children||[]),b.return=w,b)}function c(w,b,P,k,O){return b===null||b.tag!==7?(b=ta(P,w.mode,k,O),b.return=w,b):(b=i(b,P),b.return=w,b)}function d(w,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ag(""+b,w.mode,P),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case cf:return P=ad(b.type,b.key,b.props,null,w.mode,P),P.ref=Tl(w,null,b),P.return=w,P;case Ha:return b=Ig(b,w.mode,P),b.return=w,b;case $i:var k=b._init;return d(w,k(b._payload),P)}if(Vl(b)||wl(b))return b=ta(b,w.mode,P,null),b.return=w,b;Ef(w,b)}return null}function h(w,b,P,k){var O=b!==null?b.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return O!==null?null:s(w,b,""+P,k);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case cf:return P.key===O?l(w,b,P,k):null;case Ha:return P.key===O?u(w,b,P,k):null;case $i:return O=P._init,h(w,b,O(P._payload),k)}if(Vl(P)||wl(P))return O!==null?null:c(w,b,P,k,null);Ef(w,P)}return null}function p(w,b,P,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(P)||null,s(b,w,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case cf:return w=w.get(k.key===null?P:k.key)||null,l(b,w,k,O);case Ha:return w=w.get(k.key===null?P:k.key)||null,u(b,w,k,O);case $i:var M=k._init;return p(w,b,P,M(k._payload),O)}if(Vl(k)||wl(k))return w=w.get(P)||null,c(b,w,k,O,null);Ef(b,k)}return null}function g(w,b,P,k){for(var O=null,M=null,T=b,S=b=0,I=null;T!==null&&S<P.length;S++){T.index>S?(I=T,T=null):I=T.sibling;var R=h(w,T,P[S],k);if(R===null){T===null&&(T=I);break}e&&T&&R.alternate===null&&t(w,T),b=o(R,b,S),M===null?O=R:M.sibling=R,M=R,T=I}if(S===P.length)return n(w,T),$e&&Uo(w,S),O;if(T===null){for(;S<P.length;S++)T=d(w,P[S],k),T!==null&&(b=o(T,b,S),M===null?O=T:M.sibling=T,M=T);return $e&&Uo(w,S),O}for(T=r(w,T);S<P.length;S++)I=p(T,w,S,P[S],k),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?S:I.key),b=o(I,b,S),M===null?O=I:M.sibling=I,M=I);return e&&T.forEach(function(C){return t(w,C)}),$e&&Uo(w,S),O}function _(w,b,P,k){var O=wl(P);if(typeof O!="function")throw Error(K(150));if(P=O.call(P),P==null)throw Error(K(151));for(var M=O=null,T=b,S=b=0,I=null,R=P.next();T!==null&&!R.done;S++,R=P.next()){T.index>S?(I=T,T=null):I=T.sibling;var C=h(w,T,R.value,k);if(C===null){T===null&&(T=I);break}e&&T&&C.alternate===null&&t(w,T),b=o(C,b,S),M===null?O=C:M.sibling=C,M=C,T=I}if(R.done)return n(w,T),$e&&Uo(w,S),O;if(T===null){for(;!R.done;S++,R=P.next())R=d(w,R.value,k),R!==null&&(b=o(R,b,S),M===null?O=R:M.sibling=R,M=R);return $e&&Uo(w,S),O}for(T=r(w,T);!R.done;S++,R=P.next())R=p(T,w,S,R.value,k),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?S:R.key),b=o(R,b,S),M===null?O=R:M.sibling=R,M=R);return e&&T.forEach(function(D){return t(w,D)}),$e&&Uo(w,S),O}function y(w,b,P,k){if(typeof P=="object"&&P!==null&&P.type===qa&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case cf:e:{for(var O=P.key,M=b;M!==null;){if(M.key===O){if(O=P.type,O===qa){if(M.tag===7){n(w,M.sibling),b=i(M,P.props.children),b.return=w,w=b;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===$i&&fP(O)===M.type){n(w,M.sibling),b=i(M,P.props),b.ref=Tl(w,M,P),b.return=w,w=b;break e}n(w,M);break}else t(w,M);M=M.sibling}P.type===qa?(b=ta(P.props.children,w.mode,k,P.key),b.return=w,w=b):(k=ad(P.type,P.key,P.props,null,w.mode,k),k.ref=Tl(w,b,P),k.return=w,w=k)}return a(w);case Ha:e:{for(M=P.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===P.containerInfo&&b.stateNode.implementation===P.implementation){n(w,b.sibling),b=i(b,P.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else t(w,b);b=b.sibling}b=Ig(P,w.mode,k),b.return=w,w=b}return a(w);case $i:return M=P._init,y(w,b,M(P._payload),k)}if(Vl(P))return g(w,b,P,k);if(wl(P))return _(w,b,P,k);Ef(w,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,P),b.return=w,w=b):(n(w,b),b=Ag(P,w.mode,k),b.return=w,w=b),a(w)):n(w,b)}return y}var Es=Ik(!0),kk=Ik(!1),Md=So(null),Ld=null,ts=null,n_=null;function r_(){n_=ts=Ld=null}function i_(e){var t=Md.current;Le(Md),e._currentValue=t}function Bv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cs(e,t){Ld=e,n_=ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_n=!0),e.firstContext=null)}function Jn(e){var t=e._currentValue;if(n_!==e)if(e={context:e,memoizedValue:t,next:null},ts===null){if(Ld===null)throw Error(K(308));ts=e,Ld.dependencies={lanes:0,firstContext:e}}else ts=ts.next=e;return t}var qo=null;function o_(e){qo===null?qo=[e]:qo.push(e)}function Ck(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,o_(t)):(n.next=i.next,i.next=n),t.interleaved=n,fi(e,r)}function fi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ui=!1;function a_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ok(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function io(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,fi(e,n)}return i=r.interleaved,i===null?(t.next=t,o_(r)):(t.next=i.next,i.next=t),r.interleaved=t,fi(e,n)}function ed(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,K0(e,n)}}function dP(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jd(e,t,n,r){var i=e.updateQueue;Ui=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,_=s;switch(h=t,p=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Be({},d,h);break e;case 2:Ui=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ca|=a,e.lanes=a,e.memoizedState=d}}function hP(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var uc={},Cr=So(uc),bu=So(uc),Pu=So(uc);function Go(e){if(e===uc)throw Error(K(174));return e}function s_(e,t){switch(Ce(Pu,t),Ce(bu,e),Ce(Cr,uc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pv(t,e)}Le(Cr),Ce(Cr,t)}function bs(){Le(Cr),Le(bu),Le(Pu)}function Rk(e){Go(Pu.current);var t=Go(Cr.current),n=Pv(t,e.type);t!==n&&(Ce(bu,e),Ce(Cr,n))}function l_(e){bu.current===e&&(Le(Cr),Le(bu))}var Fe=So(0);function Vd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Eg=[];function u_(){for(var e=0;e<Eg.length;e++)Eg[e]._workInProgressVersionPrimary=null;Eg.length=0}var td=Ti.ReactCurrentDispatcher,bg=Ti.ReactCurrentBatchConfig,ua=0,ze=null,st=null,wt=null,$d=!1,eu=!1,Su=0,c$=0;function zt(){throw Error(K(321))}function c_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function f_(e,t,n,r,i,o){if(ua=o,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,td.current=e===null||e.memoizedState===null?p$:m$,e=n(r,i),eu){o=0;do{if(eu=!1,Su=0,25<=o)throw Error(K(301));o+=1,wt=st=null,t.updateQueue=null,td.current=g$,e=n(r,i)}while(eu)}if(td.current=Ud,t=st!==null&&st.next!==null,ua=0,wt=st=ze=null,$d=!1,t)throw Error(K(300));return e}function d_(){var e=Su!==0;return Su=0,e}function Sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?ze.memoizedState=wt=e:wt=wt.next=e,wt}function Zn(){if(st===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=wt===null?ze.memoizedState:wt.next;if(t!==null)wt=t,st=e;else{if(e===null)throw Error(K(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},wt===null?ze.memoizedState=wt=e:wt=wt.next=e}return wt}function Tu(e,t){return typeof t=="function"?t(e):t}function Pg(e){var t=Zn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=st,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((ua&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,ze.lanes|=c,ca|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,gr(r,t.memoizedState)||(_n=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ze.lanes|=o,ca|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sg(e){var t=Zn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);gr(o,t.memoizedState)||(_n=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Nk(){}function Dk(e,t){var n=ze,r=Zn(),i=t(),o=!gr(r.memoizedState,i);if(o&&(r.memoizedState=i,_n=!0),r=r.queue,h_(jk.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,xu(9,Lk.bind(null,n,r,i,t),void 0,null),Et===null)throw Error(K(349));ua&30||Mk(n,t,i)}return i}function Mk(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lk(e,t,n,r){t.value=n,t.getSnapshot=r,Vk(t)&&$k(e)}function jk(e,t,n){return n(function(){Vk(t)&&$k(e)})}function Vk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch{return!0}}function $k(e){var t=fi(e,1);t!==null&&hr(t,e,1,-1)}function pP(e){var t=Sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:e},t.queue=e,e=e.dispatch=h$.bind(null,ze,e),[t.memoizedState,e]}function xu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Uk(){return Zn().memoizedState}function nd(e,t,n,r){var i=Sr();ze.flags|=e,i.memoizedState=xu(1|t,n,void 0,r===void 0?null:r)}function sp(e,t,n,r){var i=Zn();r=r===void 0?null:r;var o=void 0;if(st!==null){var a=st.memoizedState;if(o=a.destroy,r!==null&&c_(r,a.deps)){i.memoizedState=xu(t,n,o,r);return}}ze.flags|=e,i.memoizedState=xu(1|t,n,o,r)}function mP(e,t){return nd(8390656,8,e,t)}function h_(e,t){return sp(2048,8,e,t)}function Fk(e,t){return sp(4,2,e,t)}function zk(e,t){return sp(4,4,e,t)}function Bk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wk(e,t,n){return n=n!=null?n.concat([e]):null,sp(4,4,Bk.bind(null,t,e),n)}function p_(){}function Kk(e,t){var n=Zn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&c_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hk(e,t){var n=Zn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&c_(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qk(e,t,n){return ua&21?(gr(n,t)||(n=JI(),ze.lanes|=n,ca|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_n=!0),e.memoizedState=n)}function f$(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=bg.transition;bg.transition={};try{e(!1),t()}finally{Se=n,bg.transition=r}}function Gk(){return Zn().memoizedState}function d$(e,t,n){var r=ao(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yk(e))Qk(t,n);else if(n=Ck(e,t,n,r),n!==null){var i=ln();hr(n,e,r,i),Xk(n,t,r)}}function h$(e,t,n){var r=ao(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yk(e))Qk(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,gr(s,a)){var l=t.interleaved;l===null?(i.next=i,o_(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Ck(e,t,i,r),n!==null&&(i=ln(),hr(n,e,r,i),Xk(n,t,r))}}function Yk(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Qk(e,t){eu=$d=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xk(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,K0(e,n)}}var Ud={readContext:Jn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},p$={readContext:Jn,useCallback:function(e,t){return Sr().memoizedState=[e,t===void 0?null:t],e},useContext:Jn,useEffect:mP,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nd(4194308,4,Bk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nd(4194308,4,e,t)},useInsertionEffect:function(e,t){return nd(4,2,e,t)},useMemo:function(e,t){var n=Sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=d$.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=Sr();return e={current:e},t.memoizedState=e},useState:pP,useDebugValue:p_,useDeferredValue:function(e){return Sr().memoizedState=e},useTransition:function(){var e=pP(!1),t=e[0];return e=f$.bind(null,e[1]),Sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ze,i=Sr();if($e){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),Et===null)throw Error(K(349));ua&30||Mk(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,mP(jk.bind(null,r,o,e),[e]),r.flags|=2048,xu(9,Lk.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Sr(),t=Et.identifierPrefix;if($e){var n=Zr,r=Jr;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Su++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=c$++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m$={readContext:Jn,useCallback:Kk,useContext:Jn,useEffect:h_,useImperativeHandle:Wk,useInsertionEffect:Fk,useLayoutEffect:zk,useMemo:Hk,useReducer:Pg,useRef:Uk,useState:function(){return Pg(Tu)},useDebugValue:p_,useDeferredValue:function(e){var t=Zn();return qk(t,st.memoizedState,e)},useTransition:function(){var e=Pg(Tu)[0],t=Zn().memoizedState;return[e,t]},useMutableSource:Nk,useSyncExternalStore:Dk,useId:Gk,unstable_isNewReconciler:!1},g$={readContext:Jn,useCallback:Kk,useContext:Jn,useEffect:h_,useImperativeHandle:Wk,useInsertionEffect:Fk,useLayoutEffect:zk,useMemo:Hk,useReducer:Sg,useRef:Uk,useState:function(){return Sg(Tu)},useDebugValue:p_,useDeferredValue:function(e){var t=Zn();return st===null?t.memoizedState=e:qk(t,st.memoizedState,e)},useTransition:function(){var e=Sg(Tu)[0],t=Zn().memoizedState;return[e,t]},useMutableSource:Nk,useSyncExternalStore:Dk,useId:Gk,unstable_isNewReconciler:!1};function ar(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var lp={isMounted:function(e){return(e=e._reactInternals)?xa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ln(),i=ao(e),o=oi(r,i);o.payload=t,n!=null&&(o.callback=n),t=io(e,o,i),t!==null&&(hr(t,e,i,r),ed(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ln(),i=ao(e),o=oi(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=io(e,o,i),t!==null&&(hr(t,e,i,r),ed(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ln(),r=ao(e),i=oi(n,r);i.tag=2,t!=null&&(i.callback=t),t=io(e,i,r),t!==null&&(hr(t,e,r,n),ed(t,e,r))}};function gP(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!yu(n,r)||!yu(i,o):!0}function Jk(e,t,n){var r=!1,i=mo,o=t.contextType;return typeof o=="object"&&o!==null?o=Jn(o):(i=bn(t)?sa:Xt.current,r=t.contextTypes,o=(r=r!=null)?_s(e,i):mo),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function vP(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&lp.enqueueReplaceState(t,t.state,null)}function Kv(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},a_(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Jn(o):(o=bn(t)?sa:Xt.current,i.context=_s(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Wv(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&lp.enqueueReplaceState(i,i.state,null),jd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ps(e,t){try{var n="",r=t;do n+=WV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Tg(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var v$=typeof WeakMap=="function"?WeakMap:Map;function Zk(e,t,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zd||(zd=!0,ny=r),Hv(e,t)},n}function eC(e,t,n){n=oi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Hv(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Hv(e,t),typeof r!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function yP(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new v$;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=O$.bind(null,e,t,n),t.then(e,e))}function _P(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wP(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=oi(-1,1),t.tag=2,io(n,t,1))),n.lanes|=1),e)}var y$=Ti.ReactCurrentOwner,_n=!1;function an(e,t,n,r){t.child=e===null?kk(t,null,n,r):Es(t,e.child,n,r)}function EP(e,t,n,r,i){n=n.render;var o=t.ref;return cs(t,i),r=f_(e,t,n,r,o,i),n=d_(),e!==null&&!_n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,di(e,t,i)):($e&&n&&Z0(t),t.flags|=1,an(e,t,r,i),t.child)}function bP(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!b_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,tC(e,t,o,r,i)):(e=ad(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:yu,n(a,r)&&e.ref===t.ref)return di(e,t,i)}return t.flags|=1,e=so(o,r),e.ref=t.ref,e.return=t,t.child=e}function tC(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(yu(o,r)&&e.ref===t.ref)if(_n=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(_n=!0);else return t.lanes=e.lanes,di(e,t,i)}return qv(e,t,n,r,i)}function nC(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(rs,An),An|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(rs,An),An|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ce(rs,An),An|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ce(rs,An),An|=r;return an(e,t,i,n),t.child}function rC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qv(e,t,n,r,i){var o=bn(n)?sa:Xt.current;return o=_s(t,o),cs(t,i),n=f_(e,t,n,r,o,i),r=d_(),e!==null&&!_n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,di(e,t,i)):($e&&r&&Z0(t),t.flags|=1,an(e,t,n,i),t.child)}function PP(e,t,n,r,i){if(bn(n)){var o=!0;Rd(t)}else o=!1;if(cs(t,i),t.stateNode===null)rd(e,t),Jk(t,n,r),Kv(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jn(u):(u=bn(n)?sa:Xt.current,u=_s(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&vP(t,a,r,u),Ui=!1;var h=t.memoizedState;a.state=h,jd(t,r,a,i),l=t.memoizedState,s!==r||h!==l||En.current||Ui?(typeof c=="function"&&(Wv(t,n,c,r),l=t.memoizedState),(s=Ui||gP(t,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ok(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ar(t.type,s),a.props=u,d=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jn(l):(l=bn(n)?sa:Xt.current,l=_s(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&vP(t,a,r,l),Ui=!1,h=t.memoizedState,a.state=h,jd(t,r,a,i);var g=t.memoizedState;s!==d||h!==g||En.current||Ui?(typeof p=="function"&&(Wv(t,n,p,r),g=t.memoizedState),(u=Ui||gP(t,n,u,r,h,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Gv(e,t,n,r,o,i)}function Gv(e,t,n,r,i,o){rC(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&lP(t,n,!1),di(e,t,o);r=t.stateNode,y$.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Es(t,e.child,null,o),t.child=Es(t,null,s,o)):an(e,t,s,o),t.memoizedState=r.state,i&&lP(t,n,!0),t.child}function iC(e){var t=e.stateNode;t.pendingContext?sP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sP(e,t.context,!1),s_(e,t.containerInfo)}function SP(e,t,n,r,i){return ws(),t_(i),t.flags|=256,an(e,t,n,r),t.child}var Yv={dehydrated:null,treeContext:null,retryLane:0};function Qv(e){return{baseLanes:e,cachePool:null,transitions:null}}function oC(e,t,n){var r=t.pendingProps,i=Fe.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ce(Fe,i&1),e===null)return zv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=fp(a,r,0,null),e=ta(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Qv(n),t.memoizedState=Yv,e):m_(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return _$(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=so(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=so(s,o):(o=ta(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Qv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Yv,r}return o=e.child,e=o.sibling,r=so(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function m_(e,t){return t=fp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bf(e,t,n,r){return r!==null&&t_(r),Es(t,e.child,null,n),e=m_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _$(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Tg(Error(K(422))),bf(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=fp({mode:"visible",children:r.children},i,0,null),o=ta(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Es(t,e.child,null,a),t.child.memoizedState=Qv(a),t.memoizedState=Yv,o);if(!(t.mode&1))return bf(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(K(419)),r=Tg(o,r,void 0),bf(e,t,a,r)}if(s=(a&e.childLanes)!==0,_n||s){if(r=Et,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,fi(e,i),hr(r,e,i,-1))}return E_(),r=Tg(Error(K(421))),bf(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=R$.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Cn=ro(i.nextSibling),Dn=t,$e=!0,lr=null,e!==null&&(Wn[Kn++]=Jr,Wn[Kn++]=Zr,Wn[Kn++]=la,Jr=e.id,Zr=e.overflow,la=t),t=m_(t,r.children),t.flags|=4096,t)}function TP(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bv(e.return,t,n)}function xg(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function aC(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(an(e,t,r.children,n),r=Fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&TP(e,n,t);else if(e.tag===19)TP(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ce(Fe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Vd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xg(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Vd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xg(t,!0,n,null,o);break;case"together":xg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function di(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ca|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=so(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=so(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function w$(e,t,n){switch(t.tag){case 3:iC(t),ws();break;case 5:Rk(t);break;case 1:bn(t.type)&&Rd(t);break;case 4:s_(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ce(Md,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?oC(e,t,n):(Ce(Fe,Fe.current&1),e=di(e,t,n),e!==null?e.sibling:null);Ce(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return aC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,nC(e,t,n)}return di(e,t,n)}var sC,Xv,lC,uC;sC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xv=function(){};lC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Go(Cr.current);var o=null;switch(n){case"input":i=_v(e,i),r=_v(e,r),o=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),o=[];break;case"textarea":i=bv(e,i),r=bv(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Cd)}Sv(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};uC=function(e,t,n,r){n!==r&&(t.flags|=4)};function xl(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function E$(e,t,n){var r=t.pendingProps;switch(e_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return bn(t.type)&&Od(),Bt(t),null;case 3:return r=t.stateNode,bs(),Le(En),Le(Xt),u_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lr!==null&&(oy(lr),lr=null))),Xv(e,t),Bt(t),null;case 5:l_(t);var i=Go(Pu.current);if(n=t.type,e!==null&&t.stateNode!=null)lC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return Bt(t),null}if(e=Go(Cr.current),wf(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[xr]=t,r[Eu]=o,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<Ul.length;i++)Ne(Ul[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Db(r,o),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ne("invalid",r);break;case"textarea":Lb(r,o),Ne("invalid",r)}Sv(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&_f(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&_f(r.textContent,s,e),i=["children",""+s]):fu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ne("scroll",r)}switch(n){case"input":ff(r),Mb(r,o,!0);break;case"textarea":ff(r),jb(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Cd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jI(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[xr]=t,e[Eu]=r,sC(e,t,!1,!1),t.stateNode=e;e:{switch(a=Tv(n,r),n){case"dialog":Ne("cancel",e),Ne("close",e),i=r;break;case"iframe":case"object":case"embed":Ne("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ul.length;i++)Ne(Ul[i],e);i=r;break;case"source":Ne("error",e),i=r;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),i=r;break;case"details":Ne("toggle",e),i=r;break;case"input":Db(e,r),i=_v(e,r),Ne("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),Ne("invalid",e);break;case"textarea":Lb(e,r),i=bv(e,r),Ne("invalid",e);break;default:i=r}Sv(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?UI(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&VI(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&du(e,l):typeof l=="number"&&du(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ne("scroll",e):l!=null&&$0(e,o,l,a))}switch(n){case"input":ff(e),Mb(e,r,!1);break;case"textarea":ff(e),jb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+po(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?as(e,!!r.multiple,o,!1):r.defaultValue!=null&&as(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Cd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bt(t),null;case 6:if(e&&t.stateNode!=null)uC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=Go(Pu.current),Go(Cr.current),wf(t)){if(r=t.stateNode,n=t.memoizedProps,r[xr]=t,(o=r.nodeValue!==n)&&(e=Dn,e!==null))switch(e.tag){case 3:_f(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_f(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xr]=t,t.stateNode=r}return Bt(t),null;case 13:if(Le(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Cn!==null&&t.mode&1&&!(t.flags&128))Ak(),ws(),t.flags|=98560,o=!1;else if(o=wf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(K(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[xr]=t}else ws(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bt(t),o=!1}else lr!==null&&(oy(lr),lr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?ut===0&&(ut=3):E_())),t.updateQueue!==null&&(t.flags|=4),Bt(t),null);case 4:return bs(),Xv(e,t),e===null&&_u(t.stateNode.containerInfo),Bt(t),null;case 10:return i_(t.type._context),Bt(t),null;case 17:return bn(t.type)&&Od(),Bt(t),null;case 19:if(Le(Fe),o=t.memoizedState,o===null)return Bt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)xl(o,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Vd(e),a!==null){for(t.flags|=128,xl(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(Fe,Fe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ze()>Ss&&(t.flags|=128,r=!0,xl(o,!1),t.lanes=4194304)}else{if(!r)if(e=Vd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!$e)return Bt(t),null}else 2*Ze()-o.renderingStartTime>Ss&&n!==1073741824&&(t.flags|=128,r=!0,xl(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=Fe.current,Ce(Fe,r?n&1|2:n&1),t):(Bt(t),null);case 22:case 23:return w_(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?An&1073741824&&(Bt(t),t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function b$(e,t){switch(e_(t),t.tag){case 1:return bn(t.type)&&Od(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bs(),Le(En),Le(Xt),u_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return l_(t),null;case 13:if(Le(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));ws()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(Fe),null;case 4:return bs(),null;case 10:return i_(t.type._context),null;case 22:case 23:return w_(),null;case 24:return null;default:return null}}var Pf=!1,qt=!1,P$=typeof WeakSet=="function"?WeakSet:Set,G=null;function ns(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(e,t,r)}else n.current=null}function Jv(e,t,n){try{n()}catch(r){He(e,t,r)}}var xP=!1;function S$(e,t){if(Mv=Ad,e=pk(),J0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lv={focusedElem:e,selectionRange:n},Ad=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,y=g.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?_:ar(t.type,_),y);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(k){He(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return g=xP,xP=!1,g}function tu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Jv(t,n,o)}i=i.next}while(i!==r)}}function up(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cC(e){var t=e.alternate;t!==null&&(e.alternate=null,cC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xr],delete t[Eu],delete t[$v],delete t[a$],delete t[s$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fC(e){return e.tag===5||e.tag===3||e.tag===4}function AP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ey(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cd));else if(r!==4&&(e=e.child,e!==null))for(ey(e,t,n),e=e.sibling;e!==null;)ey(e,t,n),e=e.sibling}function ty(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ty(e,t,n),e=e.sibling;e!==null;)ty(e,t,n),e=e.sibling}var It=null,sr=!1;function ji(e,t,n){for(n=n.child;n!==null;)dC(e,t,n),n=n.sibling}function dC(e,t,n){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(tp,n)}catch{}switch(n.tag){case 5:qt||ns(n,t);case 6:var r=It,i=sr;It=null,ji(e,t,n),It=r,sr=i,It!==null&&(sr?(e=It,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(sr?(e=It,n=n.stateNode,e.nodeType===8?_g(e.parentNode,n):e.nodeType===1&&_g(e,n),gu(e)):_g(It,n.stateNode));break;case 4:r=It,i=sr,It=n.stateNode.containerInfo,sr=!0,ji(e,t,n),It=r,sr=i;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Jv(n,t,a),i=i.next}while(i!==r)}ji(e,t,n);break;case 1:if(!qt&&(ns(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){He(n,t,s)}ji(e,t,n);break;case 21:ji(e,t,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,ji(e,t,n),qt=r):ji(e,t,n);break;default:ji(e,t,n)}}function IP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new P$),t.forEach(function(r){var i=N$.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:It=s.stateNode,sr=!1;break e;case 3:It=s.stateNode.containerInfo,sr=!0;break e;case 4:It=s.stateNode.containerInfo,sr=!0;break e}s=s.return}if(It===null)throw Error(K(160));dC(o,a,i),It=null,sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){He(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hC(t,e),t=t.sibling}function hC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(or(t,e),Pr(e),r&4){try{tu(3,e,e.return),up(3,e)}catch(_){He(e,e.return,_)}try{tu(5,e,e.return)}catch(_){He(e,e.return,_)}}break;case 1:or(t,e),Pr(e),r&512&&n!==null&&ns(n,n.return);break;case 5:if(or(t,e),Pr(e),r&512&&n!==null&&ns(n,n.return),e.flags&32){var i=e.stateNode;try{du(i,"")}catch(_){He(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&MI(i,o),Tv(s,a);var u=Tv(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?UI(i,d):c==="dangerouslySetInnerHTML"?VI(i,d):c==="children"?du(i,d):$0(i,c,d,u)}switch(s){case"input":wv(i,o);break;case"textarea":LI(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?as(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?as(i,!!o.multiple,o.defaultValue,!0):as(i,!!o.multiple,o.multiple?[]:"",!1))}i[Eu]=o}catch(_){He(e,e.return,_)}}break;case 6:if(or(t,e),Pr(e),r&4){if(e.stateNode===null)throw Error(K(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){He(e,e.return,_)}}break;case 3:if(or(t,e),Pr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gu(t.containerInfo)}catch(_){He(e,e.return,_)}break;case 4:or(t,e),Pr(e);break;case 13:or(t,e),Pr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(y_=Ze())),r&4&&IP(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(qt=(u=qt)||c,or(t,e),qt=u):or(t,e),Pr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(G=e,c=e.child;c!==null;){for(d=G=c;G!==null;){switch(h=G,p=h.child,h.tag){case 0:case 11:case 14:case 15:tu(4,h,h.return);break;case 1:ns(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(_){He(r,n,_)}}break;case 5:ns(h,h.return);break;case 22:if(h.memoizedState!==null){CP(d);continue}}p!==null?(p.return=h,G=p):CP(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=$I("display",a))}catch(_){He(e,e.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){He(e,e.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:or(t,e),Pr(e),r&4&&IP(e);break;case 21:break;default:or(t,e),Pr(e)}}function Pr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fC(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(du(i,""),r.flags&=-33);var o=AP(e);ty(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=AP(e);ey(e,s,a);break;default:throw Error(K(161))}}catch(l){He(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function T$(e,t,n){G=e,pC(e)}function pC(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Pf;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||qt;s=Pf;var u=qt;if(Pf=a,(qt=l)&&!u)for(G=i;G!==null;)a=G,l=a.child,a.tag===22&&a.memoizedState!==null?OP(i):l!==null?(l.return=a,G=l):OP(i);for(;o!==null;)G=o,pC(o),o=o.sibling;G=i,Pf=s,qt=u}kP(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,G=o):kP(e)}}function kP(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qt||up(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ar(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&hP(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hP(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&gu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}qt||t.flags&512&&Zv(t)}catch(h){He(t,t.return,h)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function CP(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function OP(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{up(4,t)}catch(l){He(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){He(t,i,l)}}var o=t.return;try{Zv(t)}catch(l){He(t,o,l)}break;case 5:var a=t.return;try{Zv(t)}catch(l){He(t,a,l)}}}catch(l){He(t,t.return,l)}if(t===e){G=null;break}var s=t.sibling;if(s!==null){s.return=t.return,G=s;break}G=t.return}}var x$=Math.ceil,Fd=Ti.ReactCurrentDispatcher,g_=Ti.ReactCurrentOwner,Qn=Ti.ReactCurrentBatchConfig,ve=0,Et=null,rt=null,Nt=0,An=0,rs=So(0),ut=0,Au=null,ca=0,cp=0,v_=0,nu=null,gn=null,y_=0,Ss=1/0,Hr=null,zd=!1,ny=null,oo=null,Sf=!1,Xi=null,Bd=0,ru=0,ry=null,id=-1,od=0;function ln(){return ve&6?Ze():id!==-1?id:id=Ze()}function ao(e){return e.mode&1?ve&2&&Nt!==0?Nt&-Nt:u$.transition!==null?(od===0&&(od=JI()),od):(e=Se,e!==0||(e=window.event,e=e===void 0?16:ok(e.type)),e):1}function hr(e,t,n,r){if(50<ru)throw ru=0,ry=null,Error(K(185));ac(e,n,r),(!(ve&2)||e!==Et)&&(e===Et&&(!(ve&2)&&(cp|=n),ut===4&&Wi(e,Nt)),Pn(e,r),n===1&&ve===0&&!(t.mode&1)&&(Ss=Ze()+500,ap&&To()))}function Pn(e,t){var n=e.callbackNode;u4(e,t);var r=xd(e,e===Et?Nt:0);if(r===0)n!==null&&Ub(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ub(n),t===1)e.tag===0?l$(RP.bind(null,e)):Sk(RP.bind(null,e)),i$(function(){!(ve&6)&&To()}),n=null;else{switch(ZI(r)){case 1:n=W0;break;case 4:n=QI;break;case 16:n=Td;break;case 536870912:n=XI;break;default:n=Td}n=bC(n,mC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mC(e,t){if(id=-1,od=0,ve&6)throw Error(K(327));var n=e.callbackNode;if(fs()&&e.callbackNode!==n)return null;var r=xd(e,e===Et?Nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wd(e,r);else{t=r;var i=ve;ve|=2;var o=vC();(Et!==e||Nt!==t)&&(Hr=null,Ss=Ze()+500,ea(e,t));do try{k$();break}catch(s){gC(e,s)}while(1);r_(),Fd.current=o,ve=i,rt!==null?t=0:(Et=null,Nt=0,t=ut)}if(t!==0){if(t===2&&(i=Cv(e),i!==0&&(r=i,t=iy(e,i))),t===1)throw n=Au,ea(e,0),Wi(e,r),Pn(e,Ze()),n;if(t===6)Wi(e,r);else{if(i=e.current.alternate,!(r&30)&&!A$(i)&&(t=Wd(e,r),t===2&&(o=Cv(e),o!==0&&(r=o,t=iy(e,o))),t===1))throw n=Au,ea(e,0),Wi(e,r),Pn(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:Fo(e,gn,Hr);break;case 3:if(Wi(e,r),(r&130023424)===r&&(t=y_+500-Ze(),10<t)){if(xd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ln(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vv(Fo.bind(null,e,gn,Hr),t);break}Fo(e,gn,Hr);break;case 4:if(Wi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-dr(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*x$(r/1960))-r,10<r){e.timeoutHandle=Vv(Fo.bind(null,e,gn,Hr),r);break}Fo(e,gn,Hr);break;case 5:Fo(e,gn,Hr);break;default:throw Error(K(329))}}}return Pn(e,Ze()),e.callbackNode===n?mC.bind(null,e):null}function iy(e,t){var n=nu;return e.current.memoizedState.isDehydrated&&(ea(e,t).flags|=256),e=Wd(e,t),e!==2&&(t=gn,gn=n,t!==null&&oy(t)),e}function oy(e){gn===null?gn=e:gn.push.apply(gn,e)}function A$(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wi(e,t){for(t&=~v_,t&=~cp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dr(t),r=1<<n;e[n]=-1,t&=~r}}function RP(e){if(ve&6)throw Error(K(327));fs();var t=xd(e,0);if(!(t&1))return Pn(e,Ze()),null;var n=Wd(e,t);if(e.tag!==0&&n===2){var r=Cv(e);r!==0&&(t=r,n=iy(e,r))}if(n===1)throw n=Au,ea(e,0),Wi(e,t),Pn(e,Ze()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fo(e,gn,Hr),Pn(e,Ze()),null}function __(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(Ss=Ze()+500,ap&&To())}}function fa(e){Xi!==null&&Xi.tag===0&&!(ve&6)&&fs();var t=ve;ve|=1;var n=Qn.transition,r=Se;try{if(Qn.transition=null,Se=1,e)return e()}finally{Se=r,Qn.transition=n,ve=t,!(ve&6)&&To()}}function w_(){An=rs.current,Le(rs)}function ea(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,r$(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(e_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Od();break;case 3:bs(),Le(En),Le(Xt),u_();break;case 5:l_(r);break;case 4:bs();break;case 13:Le(Fe);break;case 19:Le(Fe);break;case 10:i_(r.type._context);break;case 22:case 23:w_()}n=n.return}if(Et=e,rt=e=so(e.current,null),Nt=An=t,ut=0,Au=null,v_=cp=ca=0,gn=nu=null,qo!==null){for(t=0;t<qo.length;t++)if(n=qo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}qo=null}return e}function gC(e,t){do{var n=rt;try{if(r_(),td.current=Ud,$d){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$d=!1}if(ua=0,wt=st=ze=null,eu=!1,Su=0,g_.current=null,n===null||n.return===null){ut=1,Au=t,rt=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Nt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=_P(a);if(p!==null){p.flags&=-257,wP(p,a,s,o,t),p.mode&1&&yP(o,u,t),t=p,l=u;var g=t.updateQueue;if(g===null){var _=new Set;_.add(l),t.updateQueue=_}else g.add(l);break e}else{if(!(t&1)){yP(o,u,t),E_();break e}l=Error(K(426))}}else if($e&&s.mode&1){var y=_P(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),wP(y,a,s,o,t),t_(Ps(l,s));break e}}o=l=Ps(l,s),ut!==4&&(ut=2),nu===null?nu=[o]:nu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=Zk(o,l,t);dP(o,w);break e;case 1:s=l;var b=o.type,P=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(oo===null||!oo.has(P)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=eC(o,s,t);dP(o,k);break e}}o=o.return}while(o!==null)}_C(n)}catch(O){t=O,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(1)}function vC(){var e=Fd.current;return Fd.current=Ud,e===null?Ud:e}function E_(){(ut===0||ut===3||ut===2)&&(ut=4),Et===null||!(ca&268435455)&&!(cp&268435455)||Wi(Et,Nt)}function Wd(e,t){var n=ve;ve|=2;var r=vC();(Et!==e||Nt!==t)&&(Hr=null,ea(e,t));do try{I$();break}catch(i){gC(e,i)}while(1);if(r_(),ve=n,Fd.current=r,rt!==null)throw Error(K(261));return Et=null,Nt=0,ut}function I$(){for(;rt!==null;)yC(rt)}function k$(){for(;rt!==null&&!e4();)yC(rt)}function yC(e){var t=EC(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?_C(e):rt=t,g_.current=null}function _C(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=b$(n,t),n!==null){n.flags&=32767,rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,rt=null;return}}else if(n=E$(n,t,An),n!==null){rt=n;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);ut===0&&(ut=5)}function Fo(e,t,n){var r=Se,i=Qn.transition;try{Qn.transition=null,Se=1,C$(e,t,n,r)}finally{Qn.transition=i,Se=r}return null}function C$(e,t,n,r){do fs();while(Xi!==null);if(ve&6)throw Error(K(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(c4(e,o),e===Et&&(rt=Et=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sf||(Sf=!0,bC(Td,function(){return fs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qn.transition,Qn.transition=null;var a=Se;Se=1;var s=ve;ve|=4,g_.current=null,S$(e,n),hC(n,e),Q4(Lv),Ad=!!Mv,Lv=Mv=null,e.current=n,T$(n),t4(),ve=s,Se=a,Qn.transition=o}else e.current=n;if(Sf&&(Sf=!1,Xi=e,Bd=i),o=e.pendingLanes,o===0&&(oo=null),i4(n.stateNode),Pn(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zd)throw zd=!1,e=ny,ny=null,e;return Bd&1&&e.tag!==0&&fs(),o=e.pendingLanes,o&1?e===ry?ru++:(ru=0,ry=e):ru=0,To(),null}function fs(){if(Xi!==null){var e=ZI(Bd),t=Qn.transition,n=Se;try{if(Qn.transition=null,Se=16>e?16:e,Xi===null)var r=!1;else{if(e=Xi,Xi=null,Bd=0,ve&6)throw Error(K(331));var i=ve;for(ve|=4,G=e.current;G!==null;){var o=G,a=o.child;if(G.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(G=u;G!==null;){var c=G;switch(c.tag){case 0:case 11:case 15:tu(8,c,o)}var d=c.child;if(d!==null)d.return=c,G=d;else for(;G!==null;){c=G;var h=c.sibling,p=c.return;if(cC(c),c===u){G=null;break}if(h!==null){h.return=p,G=h;break}G=p}}}var g=o.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var y=_.sibling;_.sibling=null,_=y}while(_!==null)}}G=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,G=a;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:tu(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,G=w;break e}G=o.return}}var b=e.current;for(G=b;G!==null;){a=G;var P=a.child;if(a.subtreeFlags&2064&&P!==null)P.return=a,G=P;else e:for(a=b;G!==null;){if(s=G,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:up(9,s)}}catch(O){He(s,s.return,O)}if(s===a){G=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,G=k;break e}G=s.return}}if(ve=i,To(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(tp,e)}catch{}r=!0}return r}finally{Se=n,Qn.transition=t}}return!1}function NP(e,t,n){t=Ps(n,t),t=Zk(e,t,1),e=io(e,t,1),t=ln(),e!==null&&(ac(e,1,t),Pn(e,t))}function He(e,t,n){if(e.tag===3)NP(e,e,n);else for(;t!==null;){if(t.tag===3){NP(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oo===null||!oo.has(r))){e=Ps(n,e),e=eC(t,e,1),t=io(t,e,1),e=ln(),t!==null&&(ac(t,1,e),Pn(t,e));break}}t=t.return}}function O$(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ln(),e.pingedLanes|=e.suspendedLanes&n,Et===e&&(Nt&n)===n&&(ut===4||ut===3&&(Nt&130023424)===Nt&&500>Ze()-y_?ea(e,0):v_|=n),Pn(e,t)}function wC(e,t){t===0&&(e.mode&1?(t=pf,pf<<=1,!(pf&130023424)&&(pf=4194304)):t=1);var n=ln();e=fi(e,t),e!==null&&(ac(e,t,n),Pn(e,n))}function R$(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wC(e,n)}function N$(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),wC(e,n)}var EC;EC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||En.current)_n=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _n=!1,w$(e,t,n);_n=!!(e.flags&131072)}else _n=!1,$e&&t.flags&1048576&&Tk(t,Dd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rd(e,t),e=t.pendingProps;var i=_s(t,Xt.current);cs(t,n),i=f_(null,t,r,e,i,n);var o=d_();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bn(r)?(o=!0,Rd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,a_(t),i.updater=lp,t.stateNode=i,i._reactInternals=t,Kv(t,r,e,n),t=Gv(null,t,r,!0,o,n)):(t.tag=0,$e&&o&&Z0(t),an(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=M$(r),e=ar(r,e),i){case 0:t=qv(null,t,r,e,n);break e;case 1:t=PP(null,t,r,e,n);break e;case 11:t=EP(null,t,r,e,n);break e;case 14:t=bP(null,t,r,ar(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),qv(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),PP(e,t,r,i,n);case 3:e:{if(iC(t),e===null)throw Error(K(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Ok(e,t),jd(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ps(Error(K(423)),t),t=SP(e,t,r,n,i);break e}else if(r!==i){i=Ps(Error(K(424)),t),t=SP(e,t,r,n,i);break e}else for(Cn=ro(t.stateNode.containerInfo.firstChild),Dn=t,$e=!0,lr=null,n=kk(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ws(),r===i){t=di(e,t,n);break e}an(e,t,r,n)}t=t.child}return t;case 5:return Rk(t),e===null&&zv(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,jv(r,i)?a=null:o!==null&&jv(r,o)&&(t.flags|=32),rC(e,t),an(e,t,a,n),t.child;case 6:return e===null&&zv(t),null;case 13:return oC(e,t,n);case 4:return s_(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Es(t,null,r,n):an(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),EP(e,t,r,i,n);case 7:return an(e,t,t.pendingProps,n),t.child;case 8:return an(e,t,t.pendingProps.children,n),t.child;case 12:return an(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ce(Md,r._currentValue),r._currentValue=a,o!==null)if(gr(o.value,a)){if(o.children===i.children&&!En.current){t=di(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=oi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Bv(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(K(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Bv(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}an(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cs(t,n),i=Jn(i),r=r(i),t.flags|=1,an(e,t,r,n),t.child;case 14:return r=t.type,i=ar(r,t.pendingProps),i=ar(r.type,i),bP(e,t,r,i,n);case 15:return tC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),rd(e,t),t.tag=1,bn(r)?(e=!0,Rd(t)):e=!1,cs(t,n),Jk(t,r,i),Kv(t,r,i,n),Gv(null,t,r,!0,e,n);case 19:return aC(e,t,n);case 22:return nC(e,t,n)}throw Error(K(156,t.tag))};function bC(e,t){return YI(e,t)}function D$(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(e,t,n,r){return new D$(e,t,n,r)}function b_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function M$(e){if(typeof e=="function")return b_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===F0)return 11;if(e===z0)return 14}return 2}function so(e,t){var n=e.alternate;return n===null?(n=Hn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ad(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")b_(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case qa:return ta(n.children,i,o,t);case U0:a=8,i|=8;break;case mv:return e=Hn(12,n,t,i|2),e.elementType=mv,e.lanes=o,e;case gv:return e=Hn(13,n,t,i),e.elementType=gv,e.lanes=o,e;case vv:return e=Hn(19,n,t,i),e.elementType=vv,e.lanes=o,e;case RI:return fp(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case CI:a=10;break e;case OI:a=9;break e;case F0:a=11;break e;case z0:a=14;break e;case $i:a=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Hn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ta(e,t,n,r){return e=Hn(7,e,r,t),e.lanes=n,e}function fp(e,t,n,r){return e=Hn(22,e,r,t),e.elementType=RI,e.lanes=n,e.stateNode={isHidden:!1},e}function Ag(e,t,n){return e=Hn(6,e,null,t),e.lanes=n,e}function Ig(e,t,n){return t=Hn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function L$(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lg(0),this.expirationTimes=lg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function P_(e,t,n,r,i,o,a,s,l){return e=new L$(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Hn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},a_(o),e}function j$(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ha,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function PC(e){if(!e)return mo;e=e._reactInternals;e:{if(xa(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(bn(n))return Pk(e,n,t)}return t}function SC(e,t,n,r,i,o,a,s,l){return e=P_(n,r,!0,e,i,o,a,s,l),e.context=PC(null),n=e.current,r=ln(),i=ao(n),o=oi(r,i),o.callback=t??null,io(n,o,i),e.current.lanes=i,ac(e,i,r),Pn(e,r),e}function dp(e,t,n,r){var i=t.current,o=ln(),a=ao(i);return n=PC(n),t.context===null?t.context=n:t.pendingContext=n,t=oi(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=io(i,t,a),e!==null&&(hr(e,i,a,o),ed(e,i,a)),a}function Kd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function DP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function S_(e,t){DP(e,t),(e=e.alternate)&&DP(e,t)}function V$(){return null}var TC=typeof reportError=="function"?reportError:function(e){console.error(e)};function T_(e){this._internalRoot=e}hp.prototype.render=T_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));dp(e,t,null,null)};hp.prototype.unmount=T_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fa(function(){dp(null,e,null,null)}),t[ci]=null}};function hp(e){this._internalRoot=e}hp.prototype.unstable_scheduleHydration=function(e){if(e){var t=nk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bi.length&&t!==0&&t<Bi[n].priority;n++);Bi.splice(n,0,e),n===0&&ik(e)}};function x_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function MP(){}function $$(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Kd(a);o.call(u)}}var a=SC(t,r,e,0,null,!1,!1,"",MP);return e._reactRootContainer=a,e[ci]=a.current,_u(e.nodeType===8?e.parentNode:e),fa(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Kd(l);s.call(u)}}var l=P_(e,0,!1,null,null,!1,!1,"",MP);return e._reactRootContainer=l,e[ci]=l.current,_u(e.nodeType===8?e.parentNode:e),fa(function(){dp(t,l,n,r)}),l}function mp(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Kd(a);s.call(l)}}dp(t,a,e,i)}else a=$$(n,t,e,i,r);return Kd(a)}ek=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$l(t.pendingLanes);n!==0&&(K0(t,n|1),Pn(t,Ze()),!(ve&6)&&(Ss=Ze()+500,To()))}break;case 13:fa(function(){var r=fi(e,1);if(r!==null){var i=ln();hr(r,e,1,i)}}),S_(e,1)}};H0=function(e){if(e.tag===13){var t=fi(e,134217728);if(t!==null){var n=ln();hr(t,e,134217728,n)}S_(e,134217728)}};tk=function(e){if(e.tag===13){var t=ao(e),n=fi(e,t);if(n!==null){var r=ln();hr(n,e,t,r)}S_(e,t)}};nk=function(){return Se};rk=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};Av=function(e,t,n){switch(t){case"input":if(wv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=op(r);if(!i)throw Error(K(90));DI(r),wv(r,i)}}}break;case"textarea":LI(e,n);break;case"select":t=n.value,t!=null&&as(e,!!n.multiple,t,!1)}};BI=__;WI=fa;var U$={usingClientEntryPoint:!1,Events:[lc,Xa,op,FI,zI,__]},Al={findFiberByHostInstance:Ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F$={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qI(e),e===null?null:e.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||V$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{tp=Tf.inject(F$),kr=Tf}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U$;Vn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x_(t))throw Error(K(200));return j$(e,t,null,n)};Vn.createRoot=function(e,t){if(!x_(e))throw Error(K(299));var n=!1,r="",i=TC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=P_(e,1,!1,null,null,n,!1,r,i),e[ci]=t.current,_u(e.nodeType===8?e.parentNode:e),new T_(t)};Vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=qI(t),e=e===null?null:e.stateNode,e};Vn.flushSync=function(e){return fa(e)};Vn.hydrate=function(e,t,n){if(!pp(t))throw Error(K(200));return mp(null,e,t,!0,n)};Vn.hydrateRoot=function(e,t,n){if(!x_(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=TC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=SC(t,null,e,1,n??null,i,!1,o,a),e[ci]=t.current,_u(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new hp(t)};Vn.render=function(e,t,n){if(!pp(t))throw Error(K(200));return mp(null,e,t,!1,n)};Vn.unmountComponentAtNode=function(e){if(!pp(e))throw Error(K(40));return e._reactRootContainer?(fa(function(){mp(null,null,e,!1,function(){e._reactRootContainer=null,e[ci]=null})}),!0):!1};Vn.unstable_batchedUpdates=__;Vn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!pp(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return mp(e,t,n,!1,r)};Vn.version="18.3.1-next-f1338f8080-20240426";function xC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xC)}catch(e){console.error(e)}}xC(),xI.exports=Vn;var gp=xI.exports,AC,LP=gp;AC=LP.createRoot,LP.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iu.apply(this,arguments)}var Ji;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ji||(Ji={}));const jP="popstate";function z$(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return ay("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Hd(i)}return W$(t,n,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function A_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function B$(){return Math.random().toString(36).substr(2,8)}function VP(e,t){return{usr:e.state,key:e.key,idx:t}}function ay(e,t,n,r){return n===void 0&&(n=null),Iu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ks(t):t,{state:n,key:t&&t.key||r||B$()})}function Hd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ks(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function W$(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Ji.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Iu({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){s=Ji.Pop;let y=c(),w=y==null?null:y-u;u=y,l&&l({action:s,location:_.location,delta:w})}function h(y,w){s=Ji.Push;let b=ay(_.location,y,w);n&&n(b,y),u=c()+1;let P=VP(b,u),k=_.createHref(b);try{a.pushState(P,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(k)}o&&l&&l({action:s,location:_.location,delta:1})}function p(y,w){s=Ji.Replace;let b=ay(_.location,y,w);n&&n(b,y),u=c();let P=VP(b,u),k=_.createHref(b);a.replaceState(P,"",k),o&&l&&l({action:s,location:_.location,delta:0})}function g(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:Hd(y);return b=b.replace(/ $/,"%20"),et(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let _={get action(){return s},get location(){return e(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jP,d),l=y,()=>{i.removeEventListener(jP,d),l=null}},createHref(y){return t(i,y)},createURL:g,encodeLocation(y){let w=g(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(y){return a.go(y)}};return _}var $P;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($P||($P={}));function K$(e,t,n){return n===void 0&&(n="/"),H$(e,t,n,!1)}function H$(e,t,n,r){let i=typeof t=="string"?Ks(t):t,o=I_(i.pathname||"/",n);if(o==null)return null;let a=IC(e);q$(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=iU(o);s=nU(a[l],u,r)}return s}function IC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(et(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=lo([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(et(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),IC(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:eU(u,o.index),routesMeta:c})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of kC(o.path))i(o,a,l)}),t}function kC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=kC(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function q$(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const G$=/^:[\w-]+$/,Y$=3,Q$=2,X$=1,J$=10,Z$=-2,UP=e=>e==="*";function eU(e,t){let n=e.split("/"),r=n.length;return n.some(UP)&&(r+=Z$),t&&(r+=Q$),n.filter(i=>!UP(i)).reduce((i,o)=>i+(G$.test(o)?Y$:o===""?X$:J$),r)}function tU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function nU(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",d=FP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=FP({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:lo([o,d.pathname]),pathnameBase:uU(lo([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=lo([o,d.pathnameBase]))}return a}function FP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=rU(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let _=s[d]||"";a=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const g=s[d];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function rU(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),A_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function iU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return A_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function I_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const oU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aU=e=>oU.test(e);function sU(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ks(e):e,o;if(n)if(aU(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),A_(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=zP(n.substring(1),"/"):o=zP(n,t)}else o=t;return{pathname:o,search:cU(r),hash:fU(i)}}function zP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function k_(e,t){let n=lU(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function C_(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ks(e):(i=Iu({},e),et(!i.pathname||!i.pathname.includes("?"),kg("?","pathname","search",i)),et(!i.pathname||!i.pathname.includes("#"),kg("#","pathname","hash",i)),et(!i.search||!i.search.includes("#"),kg("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?t[d]:"/"}let l=sU(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const lo=e=>e.join("/").replace(/\/\/+/g,"/"),uU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const CC=["post","put","patch","delete"];new Set(CC);const hU=["get",...CC];new Set(hU);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ku.apply(this,arguments)}const O_=v.createContext(null),pU=v.createContext(null),xo=v.createContext(null),vp=v.createContext(null),Ao=v.createContext({outlet:null,matches:[],isDataRoute:!1}),OC=v.createContext(null);function mU(e,t){let{relative:n}=t===void 0?{}:t;Hs()||et(!1);let{basename:r,navigator:i}=v.useContext(xo),{hash:o,pathname:a,search:s}=NC(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:lo([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Hs(){return v.useContext(vp)!=null}function Io(){return Hs()||et(!1),v.useContext(vp).location}function RC(e){v.useContext(xo).static||v.useLayoutEffect(e)}function yp(){let{isDataRoute:e}=v.useContext(Ao);return e?IU():gU()}function gU(){Hs()||et(!1);let e=v.useContext(O_),{basename:t,future:n,navigator:r}=v.useContext(xo),{matches:i}=v.useContext(Ao),{pathname:o}=Io(),a=JSON.stringify(k_(i,n.v7_relativeSplatPath)),s=v.useRef(!1);return RC(()=>{s.current=!0}),v.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let d=C_(u,JSON.parse(a),o,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:lo([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,a,o,e])}function NC(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(xo),{matches:i}=v.useContext(Ao),{pathname:o}=Io(),a=JSON.stringify(k_(i,r.v7_relativeSplatPath));return v.useMemo(()=>C_(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function vU(e,t){return yU(e,t)}function yU(e,t,n,r){Hs()||et(!1);let{navigator:i}=v.useContext(xo),{matches:o}=v.useContext(Ao),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Io(),c;if(t){var d;let y=typeof t=="string"?Ks(t):t;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||et(!1),c=y}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=K$(e,{pathname:p}),_=PU(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:lo([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:lo([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return t&&_?v.createElement(vp.Provider,{value:{location:ku({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ji.Pop}},_):_}function _U(){let e=AU(),t=dU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,o)}const wU=v.createElement(_U,null);class EU extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Ao.Provider,{value:this.props.routeContext},v.createElement(OC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bU(e){let{routeContext:t,match:n,children:r}=e,i=v.useContext(O_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Ao.Provider,{value:t},r)}function PU(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);c>=0||et(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,h)=>{let p,g=!1,_=null,y=null;n&&(p=s&&d.route.id?s[d.route.id]:void 0,_=d.route.errorElement||wU,l&&(u<0&&h===0?(kU("route-fallback",!1),g=!0,y=null):u===h&&(g=!0,y=d.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,h+1)),b=()=>{let P;return p?P=_:g?P=y:d.route.Component?P=v.createElement(d.route.Component,null):d.route.element?P=d.route.element:P=c,v.createElement(bU,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:P})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?v.createElement(EU,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var DC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DC||{}),qd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qd||{});function SU(e){let t=v.useContext(O_);return t||et(!1),t}function TU(e){let t=v.useContext(pU);return t||et(!1),t}function xU(e){let t=v.useContext(Ao);return t||et(!1),t}function MC(e){let t=xU(),n=t.matches[t.matches.length-1];return n.route.id||et(!1),n.route.id}function AU(){var e;let t=v.useContext(OC),n=TU(qd.UseRouteError),r=MC(qd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function IU(){let{router:e}=SU(DC.UseNavigateStable),t=MC(qd.UseNavigateStable),n=v.useRef(!1);return RC(()=>{n.current=!0}),v.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ku({fromRouteId:t},o)))},[e,t])}const BP={};function kU(e,t,n){!t&&!BP[e]&&(BP[e]=!0)}function CU(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function LC(e){let{to:t,replace:n,state:r,relative:i}=e;Hs()||et(!1);let{future:o,static:a}=v.useContext(xo),{matches:s}=v.useContext(Ao),{pathname:l}=Io(),u=yp(),c=C_(t,k_(s,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return v.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function sd(e){et(!1)}function OU(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ji.Pop,navigator:o,static:a=!1,future:s}=e;Hs()&&et(!1);let l=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:o,static:a,future:ku({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Ks(r));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,_=v.useMemo(()=>{let y=I_(c,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:g},navigationType:i}},[l,c,d,h,p,g,i]);return _==null?null:v.createElement(xo.Provider,{value:u},v.createElement(vp.Provider,{children:n,value:_}))}function RU(e){let{children:t,location:n}=e;return vU(sy(t),n)}new Promise(()=>{});function sy(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,i)=>{if(!v.isValidElement(r))return;let o=[...t,i];if(r.type===v.Fragment){n.push.apply(n,sy(r.props.children,o));return}r.type!==sd&&et(!1),!r.props.index||!r.props.children||et(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=sy(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ly.apply(this,arguments)}function NU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function DU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MU(e,t){return e.button===0&&(!t||t==="_self")&&!DU(e)}const LU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jU="6";try{window.__reactRouterVersion=jU}catch{}const VU="startTransition",WP=TI[VU];function $U(e){let{basename:t,children:n,future:r,window:i}=e,o=v.useRef();o.current==null&&(o.current=z$({window:i,v5Compat:!0}));let a=o.current,[s,l]=v.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=v.useCallback(d=>{u&&WP?WP(()=>l(d)):l(d)},[l,u]);return v.useLayoutEffect(()=>a.listen(c),[a,c]),v.useEffect(()=>CU(r),[r]),v.createElement(OU,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const UU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cu=v.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,h=NU(t,LU),{basename:p}=v.useContext(xo),g,_=!1;if(typeof u=="string"&&FU.test(u)&&(g=u,UU))try{let P=new URL(window.location.href),k=u.startsWith("//")?new URL(P.protocol+u):new URL(u),O=I_(k.pathname,p);k.origin===P.origin&&O!=null?u=O+k.search+k.hash:_=!0}catch{}let y=mU(u,{relative:i}),w=zU(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});function b(P){r&&r(P),P.defaultPrevented||w(P)}return v.createElement("a",ly({},h,{href:g||y,onClick:_||o?r:b,ref:n,target:l}))});var KP;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(KP||(KP={}));var HP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(HP||(HP={}));function zU(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=t===void 0?{}:t,l=yp(),u=Io(),c=NC(e,{relative:a});return v.useCallback(d=>{if(MU(d,n)){d.preventDefault();let h=r!==void 0?r:Hd(u)===Hd(c);l(e,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,e,o,a,s])}var jC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qP=A.createContext&&A.createContext(jC),BU=["attr","size","title"];function WU(e,t){if(e==null)return{};var n=KU(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KU(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gd.apply(this,arguments)}function GP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(n),!0).forEach(function(r){HU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HU(e,t,n){return t=qU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qU(e){var t=GU(e,"string");return typeof t=="symbol"?t:t+""}function GU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VC(e){return e&&e.map((t,n)=>A.createElement(t.tag,Yd({key:n},t.attr),VC(t.child)))}function $C(e){return t=>A.createElement(YU,Gd({attr:Yd({},e.attr)},t),VC(e.child))}function YU(e){var t=n=>{var{attr:r,size:i,title:o}=e,a=WU(e,BU),s=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),A.createElement("svg",Gd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:Yd(Yd({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&A.createElement("title",null,o),e.children)};return qP!==void 0?A.createElement(qP.Consumer,null,n=>t(n)):t(jC)}function QU(e){return $C({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"},child:[]}]})(e)}function YP(e){return $C({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"},child:[]}]})(e)}/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),QP=e=>{const t=JU(e);return t.charAt(0).toUpperCase()+t.slice(1)},UC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),ZU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>v.createElement("svg",{ref:l,...eF,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:UC("lucide",i),...!o&&!ZU(s)&&{"aria-hidden":"true"},...s},[...a.map(([u,c])=>v.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=(e,t)=>{const n=v.forwardRef(({className:r,...i},o)=>v.createElement(tF,{ref:o,iconNode:t,className:UC(`lucide-${XU(QP(e))}`,`lucide-${e}`,r),...i}));return n.displayName=QP(e),n};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],rF=wr("bell",nF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],oF=wr("chart-no-axes-column",iF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],sF=wr("circle-plus",aF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],uF=wr("flame",lF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],fF=wr("folder-open",cF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],hF=wr("house",dF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],mF=wr("menu",pF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],vF=wr("moon",gF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_F=wr("search",yF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],EF=wr("sun",wF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PF=wr("user",bF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},SF=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],a=e[n++],s=e[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return t.join("")},zC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],a=i+1<e.length,s=a?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(FC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):SF(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||s==null||u==null||d==null)throw new TF;const h=o<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class TF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xF=function(e){const t=FC(e);return zC.encodeByteArray(t,!0)},Qd=function(e){return xF(e).replace(/\./g,"")},BC=function(e){try{return zC.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=()=>AF().__FIREBASE_DEFAULTS__,kF=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},CF=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&BC(e[1]);return t&&JSON.parse(t)},_p=()=>{try{return IF()||kF()||CF()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},WC=e=>{var t,n;return(n=(t=_p())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},KC=e=>{const t=WC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},HC=()=>{var e;return(e=_p())===null||e===void 0?void 0:e.config},qC=e=>{var t;return(t=_p())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),s="";return[Qd(JSON.stringify(n)),Qd(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function NF(){var e;const t=(e=_p())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MF(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function LF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jF(){const e=Jt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function VF(){return!NF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $F(){try{return typeof indexedDB=="object"}catch{return!1}}function UF(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="FirebaseError";class Br extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=FF,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],a=o?zF(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Br(i,s,r)}}function zF(e,t){return e.replace(BF,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const BF=/\{\$([^}]+)}/g;function WF(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Xd(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],a=t[i];if(XP(o)&&XP(a)){if(!Xd(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function XP(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Fl(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function zl(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function KF(e,t){const n=new HF(e,t);return n.subscribe.bind(n)}class HF{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qF(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Cg),i.error===void 0&&(i.error=Cg),i.complete===void 0&&(i.complete=Cg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qF(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(e){return e&&e._delegate?e._delegate:e}class go{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GF=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new OF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(QF(t))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=zo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zo){return this.instances.has(t)}getOptions(t=zo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&t(a,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YF(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=zo){return this.component?this.component.multipleInstances?t:zo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function YF(e){return e===zo?void 0:e}function QF(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new GF(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(me||(me={}));const JF={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},ZF=me.INFO,e3={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},t3=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=e3[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class R_{constructor(t){this.name=t,this._logLevel=ZF,this._logHandler=t3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?JF[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...t),this._logHandler(this,me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...t),this._logHandler(this,me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,me.INFO,...t),this._logHandler(this,me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,me.WARN,...t),this._logHandler(this,me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...t),this._logHandler(this,me.ERROR,...t)}}const n3=(e,t)=>t.some(n=>e instanceof n);let JP,ZP;function r3(){return JP||(JP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i3(){return ZP||(ZP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YC=new WeakMap,uy=new WeakMap,QC=new WeakMap,Og=new WeakMap,N_=new WeakMap;function o3(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(uo(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&YC.set(n,e)}).catch(()=>{}),N_.set(t,e),t}function a3(e){if(uy.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});uy.set(e,t)}let cy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return uy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||QC.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function s3(e){cy=e(cy)}function l3(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Rg(this),t,...n);return QC.set(r,t.sort?t.sort():[t]),uo(r)}:i3().includes(e)?function(...t){return e.apply(Rg(this),t),uo(YC.get(this))}:function(...t){return uo(e.apply(Rg(this),t))}}function u3(e){return typeof e=="function"?l3(e):(e instanceof IDBTransaction&&a3(e),n3(e,r3())?new Proxy(e,cy):e)}function uo(e){if(e instanceof IDBRequest)return o3(e);if(Og.has(e))return Og.get(e);const t=u3(e);return t!==e&&(Og.set(e,t),N_.set(t,e)),t}const Rg=e=>N_.get(e);function c3(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=uo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(uo(a.result),l.oldVersion,l.newVersion,uo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const f3=["get","getKey","getAll","getAllKeys","count"],d3=["put","add","delete","clear"],Ng=new Map;function eS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ng.get(t))return Ng.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=d3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||f3.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Ng.set(t,o),o}s3(e=>({...e,get:(t,n,r)=>eS(t,n)||e.get(t,n,r),has:(t,n)=>!!eS(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function p3(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const fy="@firebase/app",tS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new R_("@firebase/app"),m3="@firebase/app-compat",g3="@firebase/analytics-compat",v3="@firebase/analytics",y3="@firebase/app-check-compat",_3="@firebase/app-check",w3="@firebase/auth",E3="@firebase/auth-compat",b3="@firebase/database",P3="@firebase/data-connect",S3="@firebase/database-compat",T3="@firebase/functions",x3="@firebase/functions-compat",A3="@firebase/installations",I3="@firebase/installations-compat",k3="@firebase/messaging",C3="@firebase/messaging-compat",O3="@firebase/performance",R3="@firebase/performance-compat",N3="@firebase/remote-config",D3="@firebase/remote-config-compat",M3="@firebase/storage",L3="@firebase/storage-compat",j3="@firebase/firestore",V3="@firebase/vertexai-preview",$3="@firebase/firestore-compat",U3="firebase",F3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="[DEFAULT]",z3={[fy]:"fire-core",[m3]:"fire-core-compat",[v3]:"fire-analytics",[g3]:"fire-analytics-compat",[_3]:"fire-app-check",[y3]:"fire-app-check-compat",[w3]:"fire-auth",[E3]:"fire-auth-compat",[b3]:"fire-rtdb",[P3]:"fire-data-connect",[S3]:"fire-rtdb-compat",[T3]:"fire-fn",[x3]:"fire-fn-compat",[A3]:"fire-iid",[I3]:"fire-iid-compat",[k3]:"fire-fcm",[C3]:"fire-fcm-compat",[O3]:"fire-perf",[R3]:"fire-perf-compat",[N3]:"fire-rc",[D3]:"fire-rc-compat",[M3]:"fire-gcs",[L3]:"fire-gcs-compat",[j3]:"fire-fst",[$3]:"fire-fst-compat",[V3]:"fire-vertex","fire-js":"fire-js",[U3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map,B3=new Map,hy=new Map;function nS(e,t){try{e.container.addComponent(t)}catch(n){hi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function da(e){const t=e.name;if(hy.has(t))return hi.debug(`There were multiple attempts to register component ${t}.`),!1;hy.set(t,e);for(const n of Ou.values())nS(n,e);for(const n of B3.values())nS(n,e);return!0}function wp(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qn(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new cc("app","Firebase",W3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=F3;function XC(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:dy,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw co.create("bad-app-name",{appName:String(i)});if(n||(n=HC()),!n)throw co.create("no-options");const o=Ou.get(i);if(o){if(Xd(n,o.options)&&Xd(r,o.config))return o;throw co.create("duplicate-app",{appName:i})}const a=new XF(i);for(const l of hy.values())a.addComponent(l);const s=new K3(n,r,a);return Ou.set(i,s),s}function Ep(e=dy){const t=Ou.get(e);if(!t&&e===dy&&HC())return XC();if(!t)throw co.create("no-app",{appName:e});return t}function H3(){return Array.from(Ou.values())}function Or(e,t,n){var r;let i=(r=z3[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${t}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hi.warn(s.join(" "));return}da(new go(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="firebase-heartbeat-database",G3=1,Ru="firebase-heartbeat-store";let Dg=null;function JC(){return Dg||(Dg=c3(q3,G3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ru)}catch(n){console.warn(n)}}}}).catch(e=>{throw co.create("idb-open",{originalErrorMessage:e.message})})),Dg}async function Y3(e){try{const n=(await JC()).transaction(Ru),r=await n.objectStore(Ru).get(ZC(e));return await n.done,r}catch(t){if(t instanceof Br)hi.warn(t.message);else{const n=co.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});hi.warn(n.message)}}}async function rS(e,t){try{const r=(await JC()).transaction(Ru,"readwrite");await r.objectStore(Ru).put(t,ZC(e)),await r.done}catch(n){if(n instanceof Br)hi.warn(n.message);else{const r=co.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(r.message)}}}function ZC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=1024,X3=30*24*60*60*1e3;class J3{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ez(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=iS();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=X3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){hi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iS(),{heartbeatsToSend:r,unsentEntries:i}=Z3(this._heartbeatsCache.heartbeats),o=Qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return hi.warn(n),""}}}function iS(){return new Date().toISOString().substring(0,10)}function Z3(e,t=Q3){const n=[];let r=e.slice();for(const i of e){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),oS(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oS(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ez{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $F()?UF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function oS(e){return Qd(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(e){da(new go("platform-logger",t=>new h3(t),"PRIVATE")),da(new go("heartbeat",t=>new J3(t),"PRIVATE")),Or(fy,tS,e),Or(fy,tS,"esm2017"),Or("fire-js","")}tz("");var nz="firebase",rz="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(nz,rz,"app");var aS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,eO;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,S){function I(){}I.prototype=S.prototype,T.D=S.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(R,C,D){for(var N=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)N[Z-2]=arguments[Z];return S.prototype[C].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,S,I){I||(I=0);var R=Array(16);if(typeof S=="string")for(var C=0;16>C;++C)R[C]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(C=0;16>C;++C)R[C]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=T.g[0],I=T.g[1],C=T.g[2];var D=T.g[3],N=S+(D^I&(C^D))+R[0]+3614090360&4294967295;S=I+(N<<7&4294967295|N>>>25),N=D+(C^S&(I^C))+R[1]+3905402710&4294967295,D=S+(N<<12&4294967295|N>>>20),N=C+(I^D&(S^I))+R[2]+606105819&4294967295,C=D+(N<<17&4294967295|N>>>15),N=I+(S^C&(D^S))+R[3]+3250441966&4294967295,I=C+(N<<22&4294967295|N>>>10),N=S+(D^I&(C^D))+R[4]+4118548399&4294967295,S=I+(N<<7&4294967295|N>>>25),N=D+(C^S&(I^C))+R[5]+1200080426&4294967295,D=S+(N<<12&4294967295|N>>>20),N=C+(I^D&(S^I))+R[6]+2821735955&4294967295,C=D+(N<<17&4294967295|N>>>15),N=I+(S^C&(D^S))+R[7]+4249261313&4294967295,I=C+(N<<22&4294967295|N>>>10),N=S+(D^I&(C^D))+R[8]+1770035416&4294967295,S=I+(N<<7&4294967295|N>>>25),N=D+(C^S&(I^C))+R[9]+2336552879&4294967295,D=S+(N<<12&4294967295|N>>>20),N=C+(I^D&(S^I))+R[10]+4294925233&4294967295,C=D+(N<<17&4294967295|N>>>15),N=I+(S^C&(D^S))+R[11]+2304563134&4294967295,I=C+(N<<22&4294967295|N>>>10),N=S+(D^I&(C^D))+R[12]+1804603682&4294967295,S=I+(N<<7&4294967295|N>>>25),N=D+(C^S&(I^C))+R[13]+4254626195&4294967295,D=S+(N<<12&4294967295|N>>>20),N=C+(I^D&(S^I))+R[14]+2792965006&4294967295,C=D+(N<<17&4294967295|N>>>15),N=I+(S^C&(D^S))+R[15]+1236535329&4294967295,I=C+(N<<22&4294967295|N>>>10),N=S+(C^D&(I^C))+R[1]+4129170786&4294967295,S=I+(N<<5&4294967295|N>>>27),N=D+(I^C&(S^I))+R[6]+3225465664&4294967295,D=S+(N<<9&4294967295|N>>>23),N=C+(S^I&(D^S))+R[11]+643717713&4294967295,C=D+(N<<14&4294967295|N>>>18),N=I+(D^S&(C^D))+R[0]+3921069994&4294967295,I=C+(N<<20&4294967295|N>>>12),N=S+(C^D&(I^C))+R[5]+3593408605&4294967295,S=I+(N<<5&4294967295|N>>>27),N=D+(I^C&(S^I))+R[10]+38016083&4294967295,D=S+(N<<9&4294967295|N>>>23),N=C+(S^I&(D^S))+R[15]+3634488961&4294967295,C=D+(N<<14&4294967295|N>>>18),N=I+(D^S&(C^D))+R[4]+3889429448&4294967295,I=C+(N<<20&4294967295|N>>>12),N=S+(C^D&(I^C))+R[9]+568446438&4294967295,S=I+(N<<5&4294967295|N>>>27),N=D+(I^C&(S^I))+R[14]+3275163606&4294967295,D=S+(N<<9&4294967295|N>>>23),N=C+(S^I&(D^S))+R[3]+4107603335&4294967295,C=D+(N<<14&4294967295|N>>>18),N=I+(D^S&(C^D))+R[8]+1163531501&4294967295,I=C+(N<<20&4294967295|N>>>12),N=S+(C^D&(I^C))+R[13]+2850285829&4294967295,S=I+(N<<5&4294967295|N>>>27),N=D+(I^C&(S^I))+R[2]+4243563512&4294967295,D=S+(N<<9&4294967295|N>>>23),N=C+(S^I&(D^S))+R[7]+1735328473&4294967295,C=D+(N<<14&4294967295|N>>>18),N=I+(D^S&(C^D))+R[12]+2368359562&4294967295,I=C+(N<<20&4294967295|N>>>12),N=S+(I^C^D)+R[5]+4294588738&4294967295,S=I+(N<<4&4294967295|N>>>28),N=D+(S^I^C)+R[8]+2272392833&4294967295,D=S+(N<<11&4294967295|N>>>21),N=C+(D^S^I)+R[11]+1839030562&4294967295,C=D+(N<<16&4294967295|N>>>16),N=I+(C^D^S)+R[14]+4259657740&4294967295,I=C+(N<<23&4294967295|N>>>9),N=S+(I^C^D)+R[1]+2763975236&4294967295,S=I+(N<<4&4294967295|N>>>28),N=D+(S^I^C)+R[4]+1272893353&4294967295,D=S+(N<<11&4294967295|N>>>21),N=C+(D^S^I)+R[7]+4139469664&4294967295,C=D+(N<<16&4294967295|N>>>16),N=I+(C^D^S)+R[10]+3200236656&4294967295,I=C+(N<<23&4294967295|N>>>9),N=S+(I^C^D)+R[13]+681279174&4294967295,S=I+(N<<4&4294967295|N>>>28),N=D+(S^I^C)+R[0]+3936430074&4294967295,D=S+(N<<11&4294967295|N>>>21),N=C+(D^S^I)+R[3]+3572445317&4294967295,C=D+(N<<16&4294967295|N>>>16),N=I+(C^D^S)+R[6]+76029189&4294967295,I=C+(N<<23&4294967295|N>>>9),N=S+(I^C^D)+R[9]+3654602809&4294967295,S=I+(N<<4&4294967295|N>>>28),N=D+(S^I^C)+R[12]+3873151461&4294967295,D=S+(N<<11&4294967295|N>>>21),N=C+(D^S^I)+R[15]+530742520&4294967295,C=D+(N<<16&4294967295|N>>>16),N=I+(C^D^S)+R[2]+3299628645&4294967295,I=C+(N<<23&4294967295|N>>>9),N=S+(C^(I|~D))+R[0]+4096336452&4294967295,S=I+(N<<6&4294967295|N>>>26),N=D+(I^(S|~C))+R[7]+1126891415&4294967295,D=S+(N<<10&4294967295|N>>>22),N=C+(S^(D|~I))+R[14]+2878612391&4294967295,C=D+(N<<15&4294967295|N>>>17),N=I+(D^(C|~S))+R[5]+4237533241&4294967295,I=C+(N<<21&4294967295|N>>>11),N=S+(C^(I|~D))+R[12]+1700485571&4294967295,S=I+(N<<6&4294967295|N>>>26),N=D+(I^(S|~C))+R[3]+2399980690&4294967295,D=S+(N<<10&4294967295|N>>>22),N=C+(S^(D|~I))+R[10]+4293915773&4294967295,C=D+(N<<15&4294967295|N>>>17),N=I+(D^(C|~S))+R[1]+2240044497&4294967295,I=C+(N<<21&4294967295|N>>>11),N=S+(C^(I|~D))+R[8]+1873313359&4294967295,S=I+(N<<6&4294967295|N>>>26),N=D+(I^(S|~C))+R[15]+4264355552&4294967295,D=S+(N<<10&4294967295|N>>>22),N=C+(S^(D|~I))+R[6]+2734768916&4294967295,C=D+(N<<15&4294967295|N>>>17),N=I+(D^(C|~S))+R[13]+1309151649&4294967295,I=C+(N<<21&4294967295|N>>>11),N=S+(C^(I|~D))+R[4]+4149444226&4294967295,S=I+(N<<6&4294967295|N>>>26),N=D+(I^(S|~C))+R[11]+3174756917&4294967295,D=S+(N<<10&4294967295|N>>>22),N=C+(S^(D|~I))+R[2]+718787259&4294967295,C=D+(N<<15&4294967295|N>>>17),N=I+(D^(C|~S))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var I=S-this.blockSize,R=this.B,C=this.h,D=0;D<S;){if(C==0)for(;D<=I;)i(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<S;)if(R[C++]=T.charCodeAt(D++),C==this.blockSize){i(this,R),C=0;break}}else for(;D<S;)if(R[C++]=T[D++],C==this.blockSize){i(this,R),C=0;break}}this.h=C,this.o+=S},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var I=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=I&255,I/=256;for(this.u(T),T=Array(16),S=I=0;4>S;++S)for(var R=0;32>R;R+=8)T[I++]=this.g[S]>>>R&255;return T};function o(T,S){var I=s;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=S(T)}function a(T,S){this.h=S;for(var I=[],R=!0,C=T.length-1;0<=C;C--){var D=T[C]|0;R&&D==S||(I[C]=D,R=!1)}this.g=I}var s={};function l(T){return-128<=T&&128>T?o(T,function(S){return new a([S|0],0>S?-1:0)}):new a([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return y(u(-T));for(var S=[],I=1,R=0;T>=I;R++)S[R]=T/I|0,I*=4294967296;return new a(S,0)}function c(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return y(c(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(S,8)),R=d,C=0;C<T.length;C+=8){var D=Math.min(8,T.length-C),N=parseInt(T.substring(C,C+D),S);8>D?(D=u(Math.pow(S,D)),R=R.j(D).add(u(N))):(R=R.j(I),R=R.add(u(N)))}return R}var d=l(0),h=l(1),p=l(16777216);e=a.prototype,e.m=function(){if(_(this))return-y(this).m();for(var T=0,S=1,I=0;I<this.g.length;I++){var R=this.i(I);T+=(0<=R?R:4294967296+R)*S,S*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(_(this))return"-"+y(this).toString(T);for(var S=u(Math.pow(T,6)),I=this,R="";;){var C=k(I,S).g;I=w(I,C.j(S));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=C,g(I))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function _(T){return T.h==-1}e.l=function(T){return T=w(this,T),_(T)?-1:g(T)?0:1};function y(T){for(var S=T.g.length,I=[],R=0;R<S;R++)I[R]=~T.g[R];return new a(I,~T.h).add(h)}e.abs=function(){return _(this)?y(this):this},e.add=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],R=0,C=0;C<=S;C++){var D=R+(this.i(C)&65535)+(T.i(C)&65535),N=(D>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);R=N>>>16,D&=65535,N&=65535,I[C]=N<<16|D}return new a(I,I[I.length-1]&-2147483648?-1:0)};function w(T,S){return T.add(y(S))}e.j=function(T){if(g(this)||g(T))return d;if(_(this))return _(T)?y(this).j(y(T)):y(y(this).j(T));if(_(T))return y(this.j(y(T)));if(0>this.l(p)&&0>T.l(p))return u(this.m()*T.m());for(var S=this.g.length+T.g.length,I=[],R=0;R<2*S;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var C=0;C<T.g.length;C++){var D=this.i(R)>>>16,N=this.i(R)&65535,Z=T.i(C)>>>16,ce=T.i(C)&65535;I[2*R+2*C]+=N*ce,b(I,2*R+2*C),I[2*R+2*C+1]+=D*ce,b(I,2*R+2*C+1),I[2*R+2*C+1]+=N*Z,b(I,2*R+2*C+1),I[2*R+2*C+2]+=D*Z,b(I,2*R+2*C+2)}for(R=0;R<S;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=S;R<2*S;R++)I[R]=0;return new a(I,0)};function b(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function P(T,S){this.g=T,this.h=S}function k(T,S){if(g(S))throw Error("division by zero");if(g(T))return new P(d,d);if(_(T))return S=k(y(T),S),new P(y(S.g),y(S.h));if(_(S))return S=k(T,y(S)),new P(y(S.g),S.h);if(30<T.g.length){if(_(T)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var I=h,R=S;0>=R.l(T);)I=O(I),R=O(R);var C=M(I,1),D=M(R,1);for(R=M(R,2),I=M(I,2);!g(R);){var N=D.add(R);0>=N.l(T)&&(C=C.add(I),D=N),R=M(R,1),I=M(I,1)}return S=w(T,C.j(S)),new P(C,S)}for(C=d;0<=T.l(S);){for(I=Math.max(1,Math.floor(T.m()/S.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(I),N=D.j(S);_(N)||0<N.l(T);)I-=R,D=u(I),N=D.j(S);g(D)&&(D=h),C=C.add(D),T=w(T,N)}return new P(C,T)}e.A=function(T){return k(this,T).h},e.and=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)&T.i(R);return new a(I,this.h&T.h)},e.or=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)|T.i(R);return new a(I,this.h|T.h)},e.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)^T.i(R);return new a(I,this.h^T.h)};function O(T){for(var S=T.g.length+1,I=[],R=0;R<S;R++)I[R]=T.i(R)<<1|T.i(R-1)>>>31;return new a(I,T.h)}function M(T,S){var I=S>>5;S%=32;for(var R=T.g.length-I,C=[],D=0;D<R;D++)C[D]=0<S?T.i(D+I)>>>S|T.i(D+I+1)<<32-S:T.i(D+I);return new a(C,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,eO=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,na=a}).apply(typeof aS<"u"?aS:typeof self<"u"?self:typeof window<"u"?window:{});var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tO,Bl,nO,ld,py,rO,iO,oO;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,m,E){return f==Array.prototype||f==Object.prototype||(f[m]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof xf=="object"&&xf];for(var m=0;m<f.length;++m){var E=f[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(f,m){if(m)e:{var E=r;f=f.split(".");for(var x=0;x<f.length-1;x++){var L=f[x];if(!(L in E))break e;E=E[L]}f=f[f.length-1],x=E[f],m=m(x),m!=x&&m!=null&&t(E,f,{configurable:!0,writable:!0,value:m})}}function o(f,m){f instanceof String&&(f+="");var E=0,x=!1,L={next:function(){if(!x&&E<f.length){var j=E++;return{value:m(j,f[j]),done:!1}}return x=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(f){return f||function(){return o(this,function(m,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(f){var m=typeof f;return m=m!="object"?m:f?Array.isArray(f)?"array":m:"null",m=="array"||m=="object"&&typeof f.length=="number"}function u(f){var m=typeof f;return m=="object"&&f!=null||m=="function"}function c(f,m,E){return f.call.apply(f.bind,arguments)}function d(f,m,E){if(!f)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,x),f.apply(m,L)}}return function(){return f.apply(m,arguments)}}function h(f,m,E){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(f,m){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),f.apply(this,x)}}function g(f,m){function E(){}E.prototype=m.prototype,f.aa=m.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(x,L,j){for(var H=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)H[Ae-2]=arguments[Ae];return m.prototype[L].apply(x,H)}}function _(f){const m=f.length;if(0<m){const E=Array(m);for(let x=0;x<m;x++)E[x]=f[x];return E}return[]}function y(f,m){for(let E=1;E<arguments.length;E++){const x=arguments[E];if(l(x)){const L=f.length||0,j=x.length||0;f.length=L+j;for(let H=0;H<j;H++)f[L+H]=x[H]}else f.push(x)}}class w{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function b(f){return/^[\s\xa0]*$/.test(f)}function P(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function k(f){return k[" "](f),f}k[" "]=function(){};var O=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function M(f,m,E){for(const x in f)m.call(E,f[x],x,f)}function T(f,m){for(const E in f)m.call(void 0,f[E],E,f)}function S(f){const m={};for(const E in f)m[E]=f[E];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,m){let E,x;for(let L=1;L<arguments.length;L++){x=arguments[L];for(E in x)f[E]=x[E];for(let j=0;j<I.length;j++)E=I[j],Object.prototype.hasOwnProperty.call(x,E)&&(f[E]=x[E])}}function C(f){var m=1;f=f.split(":");const E=[];for(;0<m&&f.length;)E.push(f.shift()),m--;return f.length&&E.push(f.join(":")),E}function D(f){s.setTimeout(()=>{throw f},0)}function N(){var f=B;let m=null;return f.g&&(m=f.g,f.g=f.g.next,f.g||(f.h=null),m.next=null),m}class Z{constructor(){this.h=this.g=null}add(m,E){const x=ce.get();x.set(m,E),this.h?this.h.next=x:this.g=x,this.h=x}}var ce=new w(()=>new fe,f=>f.reset());class fe{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let se,z=!1,B=new Z,X=()=>{const f=s.Promise.resolve(void 0);se=()=>{f.then(le)}};var le=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(E){D(E)}var m=ce;m.j(f),100>m.h&&(m.h++,f.next=m.g,m.g=f)}z=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(f,m){this.type=f,this.g=this.target=m,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Qe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,m=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};s.addEventListener("test",E,m),s.removeEventListener("test",E,m)}catch{}return f}();function en(f,m){if(Ee.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,x=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=m,m=f.relatedTarget){if(O){e:{try{k(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else E=="mouseover"?m=f.fromElement:E=="mouseout"&&(m=f.toElement);this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:tn[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&en.aa.h.call(this)}}g(en,Ee);var tn={2:"touch",3:"pen",4:"mouse"};en.prototype.h=function(){en.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),al=0;function U(f,m,E,x,L){this.listener=f,this.proxy=null,this.src=m,this.type=E,this.capture=!!x,this.ha=L,this.key=++al,this.da=this.fa=!1}function ae(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function de(f){this.src=f,this.g={},this.h=0}de.prototype.add=function(f,m,E,x,L){var j=f.toString();f=this.g[j],f||(f=this.g[j]=[],this.h++);var H=mt(f,m,x,L);return-1<H?(m=f[H],E||(m.fa=!1)):(m=new U(m,this.src,j,!!x,L),m.fa=E,f.push(m)),m};function W(f,m){var E=m.type;if(E in f.g){var x=f.g[E],L=Array.prototype.indexOf.call(x,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(x,L,1),j&&(ae(m),f.g[E].length==0&&(delete f.g[E],f.h--))}}function mt(f,m,E,x){for(var L=0;L<f.length;++L){var j=f[L];if(!j.da&&j.listener==m&&j.capture==!!E&&j.ha==x)return L}return-1}var be="closure_lm_"+(1e6*Math.random()|0),Tt={};function Vt(f,m,E,x,L){if(x&&x.once)return C1(f,m,E,x,L);if(Array.isArray(m)){for(var j=0;j<m.length;j++)Vt(f,m[j],E,x,L);return null}return E=$m(E),f&&f[Oe]?f.K(m,E,u(x)?!!x.capture:!!x,L):br(f,m,E,!1,x,L)}function br(f,m,E,x,L,j){if(!m)throw Error("Invalid event type");var H=u(L)?!!L.capture:!!L,Ae=jm(f);if(Ae||(f[be]=Ae=new de(f)),E=Ae.add(m,E,x,H,j),E.proxy)return E;if(x=Kc(),E.proxy=x,x.src=f,x.listener=E,f.addEventListener)Qe||(L=H),L===void 0&&(L=!1),f.addEventListener(m.toString(),x,L);else if(f.attachEvent)f.attachEvent(R1(m.toString()),x);else if(f.addListener&&f.removeListener)f.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Kc(){function f(E){return m.call(f.src,f.listener,E)}const m=qj;return f}function C1(f,m,E,x,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)C1(f,m[j],E,x,L);return null}return E=$m(E),f&&f[Oe]?f.L(m,E,u(x)?!!x.capture:!!x,L):br(f,m,E,!0,x,L)}function O1(f,m,E,x,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)O1(f,m[j],E,x,L);else x=u(x)?!!x.capture:!!x,E=$m(E),f&&f[Oe]?(f=f.i,m=String(m).toString(),m in f.g&&(j=f.g[m],E=mt(j,E,x,L),-1<E&&(ae(j[E]),Array.prototype.splice.call(j,E,1),j.length==0&&(delete f.g[m],f.h--)))):f&&(f=jm(f))&&(m=f.g[m.toString()],f=-1,m&&(f=mt(m,E,x,L)),(E=-1<f?m[f]:null)&&Lm(E))}function Lm(f){if(typeof f!="number"&&f&&!f.da){var m=f.src;if(m&&m[Oe])W(m.i,f);else{var E=f.type,x=f.proxy;m.removeEventListener?m.removeEventListener(E,x,f.capture):m.detachEvent?m.detachEvent(R1(E),x):m.addListener&&m.removeListener&&m.removeListener(x),(E=jm(m))?(W(E,f),E.h==0&&(E.src=null,m[be]=null)):ae(f)}}}function R1(f){return f in Tt?Tt[f]:Tt[f]="on"+f}function qj(f,m){if(f.da)f=!0;else{m=new en(m,this);var E=f.listener,x=f.ha||f.src;f.fa&&Lm(f),f=E.call(x,m)}return f}function jm(f){return f=f[be],f instanceof de?f:null}var Vm="__closure_events_fn_"+(1e9*Math.random()>>>0);function $m(f){return typeof f=="function"?f:(f[Vm]||(f[Vm]=function(m){return f.handleEvent(m)}),f[Vm])}function $t(){ue.call(this),this.i=new de(this),this.M=this,this.F=null}g($t,ue),$t.prototype[Oe]=!0,$t.prototype.removeEventListener=function(f,m,E,x){O1(this,f,m,E,x)};function nn(f,m){var E,x=f.F;if(x)for(E=[];x;x=x.F)E.push(x);if(f=f.M,x=m.type||m,typeof m=="string")m=new Ee(m,f);else if(m instanceof Ee)m.target=m.target||f;else{var L=m;m=new Ee(x,f),R(m,L)}if(L=!0,E)for(var j=E.length-1;0<=j;j--){var H=m.g=E[j];L=Hc(H,x,!0,m)&&L}if(H=m.g=f,L=Hc(H,x,!0,m)&&L,L=Hc(H,x,!1,m)&&L,E)for(j=0;j<E.length;j++)H=m.g=E[j],L=Hc(H,x,!1,m)&&L}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var f=this.i,m;for(m in f.g){for(var E=f.g[m],x=0;x<E.length;x++)ae(E[x]);delete f.g[m],f.h--}}this.F=null},$t.prototype.K=function(f,m,E,x){return this.i.add(String(f),m,!1,E,x)},$t.prototype.L=function(f,m,E,x){return this.i.add(String(f),m,!0,E,x)};function Hc(f,m,E,x){if(m=f.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var H=m[j];if(H&&!H.da&&H.capture==E){var Ae=H.listener,xt=H.ha||H.src;H.fa&&W(f.i,H),L=Ae.call(xt,x)!==!1&&L}}return L&&!x.defaultPrevented}function N1(f,m,E){if(typeof f=="function")E&&(f=h(f,E));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:s.setTimeout(f,m||0)}function D1(f){f.g=N1(()=>{f.g=null,f.i&&(f.i=!1,D1(f))},f.l);const m=f.h;f.h=null,f.m.apply(null,m)}class Gj extends ue{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:D1(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sl(f){ue.call(this),this.h=f,this.g={}}g(sl,ue);var M1=[];function L1(f){M(f.g,function(m,E){this.g.hasOwnProperty(E)&&Lm(m)},f),f.g={}}sl.prototype.N=function(){sl.aa.N.call(this),L1(this)},sl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Um=s.JSON.stringify,Yj=s.JSON.parse,Qj=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Fm(){}Fm.prototype.h=null;function j1(f){return f.h||(f.h=f.i())}function V1(){}var ll={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zm(){Ee.call(this,"d")}g(zm,Ee);function Bm(){Ee.call(this,"c")}g(Bm,Ee);var Lo={},$1=null;function qc(){return $1=$1||new $t}Lo.La="serverreachability";function U1(f){Ee.call(this,Lo.La,f)}g(U1,Ee);function ul(f){const m=qc();nn(m,new U1(m))}Lo.STAT_EVENT="statevent";function F1(f,m){Ee.call(this,Lo.STAT_EVENT,f),this.stat=m}g(F1,Ee);function rn(f){const m=qc();nn(m,new F1(m,f))}Lo.Ma="timingevent";function z1(f,m){Ee.call(this,Lo.Ma,f),this.size=m}g(z1,Ee);function cl(f,m){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},m)}function fl(){this.g=!0}fl.prototype.xa=function(){this.g=!1};function Xj(f,m,E,x,L,j){f.info(function(){if(f.g)if(j)for(var H="",Ae=j.split("&"),xt=0;xt<Ae.length;xt++){var ye=Ae[xt].split("=");if(1<ye.length){var Ut=ye[0];ye=ye[1];var Ft=Ut.split("_");H=2<=Ft.length&&Ft[1]=="type"?H+(Ut+"="+ye+"&"):H+(Ut+"=redacted&")}}else H=null;else H=j;return"XMLHTTP REQ ("+x+") [attempt "+L+"]: "+m+`
`+E+`
`+H})}function Jj(f,m,E,x,L,j,H){f.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+L+"]: "+m+`
`+E+`
`+j+" "+H})}function Da(f,m,E,x){f.info(function(){return"XMLHTTP TEXT ("+m+"): "+eV(f,E)+(x?" "+x:"")})}function Zj(f,m){f.info(function(){return"TIMEOUT: "+m})}fl.prototype.info=function(){};function eV(f,m){if(!f.g)return m;if(!m)return null;try{var E=JSON.parse(m);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var x=E[f];if(!(2>x.length)){var L=x[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var H=1;H<L.length;H++)L[H]=""}}}}return Um(E)}catch{return m}}var Gc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},B1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wm;function Yc(){}g(Yc,Fm),Yc.prototype.g=function(){return new XMLHttpRequest},Yc.prototype.i=function(){return{}},Wm=new Yc;function Di(f,m,E,x){this.j=f,this.i=m,this.l=E,this.R=x||1,this.U=new sl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new W1}function W1(){this.i=null,this.g="",this.h=!1}var K1={},Km={};function Hm(f,m,E){f.L=1,f.v=Zc(Wr(m)),f.m=E,f.P=!0,H1(f,null)}function H1(f,m){f.F=Date.now(),Qc(f),f.A=Wr(f.v);var E=f.A,x=f.R;Array.isArray(x)||(x=[String(x)]),ab(E.i,"t",x),f.C=0,E=f.j.J,f.h=new W1,f.g=Sb(f.j,E?m:null,!f.m),0<f.O&&(f.M=new Gj(h(f.Y,f,f.g),f.O)),m=f.U,E=f.g,x=f.ca;var L="readystatechange";Array.isArray(L)||(L&&(M1[0]=L.toString()),L=M1);for(var j=0;j<L.length;j++){var H=Vt(E,L[j],x||m.handleEvent,!1,m.h||m);if(!H)break;m.g[H.key]=H}m=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,m)):(f.u="GET",f.g.ea(f.A,f.u,null,m)),ul(),Xj(f.i,f.u,f.A,f.l,f.R,f.m)}Di.prototype.ca=function(f){f=f.target;const m=this.M;m&&Kr(f)==3?m.j():this.Y(f)},Di.prototype.Y=function(f){try{if(f==this.g)e:{const Ft=Kr(this.g);var m=this.g.Ba();const ja=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||hb(this.g)))){this.J||Ft!=4||m==7||(m==8||0>=ja?ul(3):ul(2)),qm(this);var E=this.g.Z();this.X=E;t:if(q1(this)){var x=hb(this.g);f="";var L=x.length,j=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jo(this),dl(this);var H="";break t}this.h.i=new s.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,f+=this.h.i.decode(x[m],{stream:!(j&&m==L-1)});x.length=0,this.h.g+=f,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=E==200,Jj(this.i,this.u,this.A,this.l,this.R,Ft,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,xt=this.g;if((Ae=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Ae)){var ye=Ae;break t}}ye=null}if(E=ye)Da(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gm(this,E);else{this.o=!1,this.s=3,rn(12),jo(this),dl(this);break e}}if(this.P){E=!0;let ir;for(;!this.J&&this.C<H.length;)if(ir=tV(this,H),ir==Km){Ft==4&&(this.s=4,rn(14),E=!1),Da(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==K1){this.s=4,rn(15),Da(this.i,this.l,H,"[Invalid Chunk]"),E=!1;break}else Da(this.i,this.l,ir,null),Gm(this,ir);if(q1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||H.length!=0||this.h.h||(this.s=1,rn(16),E=!1),this.o=this.o&&E,!E)Da(this.i,this.l,H,"[Invalid Chunked Response]"),jo(this),dl(this);else if(0<H.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),eg(Ut),Ut.M=!0,rn(11))}}else Da(this.i,this.l,H,null),Gm(this,H);Ft==4&&jo(this),this.o&&!this.J&&(Ft==4?wb(this.j,this):(this.o=!1,Qc(this)))}else yV(this.g),E==400&&0<H.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),jo(this),dl(this)}}}catch{}finally{}};function q1(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function tV(f,m){var E=f.C,x=m.indexOf(`
`,E);return x==-1?Km:(E=Number(m.substring(E,x)),isNaN(E)?K1:(x+=1,x+E>m.length?Km:(m=m.slice(x,x+E),f.C=x+E,m)))}Di.prototype.cancel=function(){this.J=!0,jo(this)};function Qc(f){f.S=Date.now()+f.I,G1(f,f.I)}function G1(f,m){if(f.B!=null)throw Error("WatchDog timer not null");f.B=cl(h(f.ba,f),m)}function qm(f){f.B&&(s.clearTimeout(f.B),f.B=null)}Di.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Zj(this.i,this.A),this.L!=2&&(ul(),rn(17)),jo(this),this.s=2,dl(this)):G1(this,this.S-f)};function dl(f){f.j.G==0||f.J||wb(f.j,f)}function jo(f){qm(f);var m=f.M;m&&typeof m.ma=="function"&&m.ma(),f.M=null,L1(f.U),f.g&&(m=f.g,f.g=null,m.abort(),m.ma())}function Gm(f,m){try{var E=f.j;if(E.G!=0&&(E.g==f||Ym(E.h,f))){if(!f.K&&Ym(E.h,f)&&E.G==3){try{var x=E.Da.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var L=x;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)af(E),rf(E);else break e;Zm(E),rn(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=cl(h(E.Za,E),6e3));if(1>=X1(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else $o(E,11)}else if((f.K||E.g==f)&&af(E),!b(m))for(L=E.Da.g.parse(m),m=0;m<L.length;m++){let ye=L[m];if(E.T=ye[0],ye=ye[1],E.G==2)if(ye[0]=="c"){E.K=ye[1],E.ia=ye[2];const Ut=ye[3];Ut!=null&&(E.la=Ut,E.j.info("VER="+E.la));const Ft=ye[4];Ft!=null&&(E.Aa=Ft,E.j.info("SVER="+E.Aa));const ja=ye[5];ja!=null&&typeof ja=="number"&&0<ja&&(x=1.5*ja,E.L=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const ir=f.g;if(ir){const lf=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lf){var j=x.h;j.g||lf.indexOf("spdy")==-1&&lf.indexOf("quic")==-1&&lf.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Qm(j,j.h),j.h=null))}if(x.D){const tg=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;tg&&(x.ya=tg,Re(x.I,x.D,tg))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),x=E;var H=f;if(x.qa=Pb(x,x.J?x.ia:null,x.W),H.K){J1(x.h,H);var Ae=H,xt=x.L;xt&&(Ae.I=xt),Ae.B&&(qm(Ae),Qc(Ae)),x.g=H}else yb(x);0<E.i.length&&of(E)}else ye[0]!="stop"&&ye[0]!="close"||$o(E,7);else E.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?$o(E,7):Jm(E):ye[0]!="noop"&&E.l&&E.l.ta(ye),E.v=0)}}ul(4)}catch{}}var nV=class{constructor(f,m){this.g=f,this.map=m}};function Y1(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Q1(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function X1(f){return f.h?1:f.g?f.g.size:0}function Ym(f,m){return f.h?f.h==m:f.g?f.g.has(m):!1}function Qm(f,m){f.g?f.g.add(m):f.h=m}function J1(f,m){f.h&&f.h==m?f.h=null:f.g&&f.g.has(m)&&f.g.delete(m)}Y1.prototype.cancel=function(){if(this.i=Z1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Z1(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let m=f.i;for(const E of f.g.values())m=m.concat(E.D);return m}return _(f.i)}function rV(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var m=[],E=f.length,x=0;x<E;x++)m.push(f[x]);return m}m=[],E=0;for(x in f)m[E++]=f[x];return m}function iV(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var m=[];f=f.length;for(var E=0;E<f;E++)m.push(E);return m}m=[],E=0;for(const x in f)m[E++]=x;return m}}}function eb(f,m){if(f.forEach&&typeof f.forEach=="function")f.forEach(m,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,m,void 0);else for(var E=iV(f),x=rV(f),L=x.length,j=0;j<L;j++)m.call(void 0,x[j],E&&E[j],f)}var tb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oV(f,m){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var x=f[E].indexOf("="),L=null;if(0<=x){var j=f[E].substring(0,x);L=f[E].substring(x+1)}else j=f[E];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Vo(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Vo){this.h=f.h,Xc(this,f.j),this.o=f.o,this.g=f.g,Jc(this,f.s),this.l=f.l;var m=f.i,E=new ml;E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),nb(this,E),this.m=f.m}else f&&(m=String(f).match(tb))?(this.h=!1,Xc(this,m[1]||"",!0),this.o=hl(m[2]||""),this.g=hl(m[3]||"",!0),Jc(this,m[4]),this.l=hl(m[5]||"",!0),nb(this,m[6]||"",!0),this.m=hl(m[7]||"")):(this.h=!1,this.i=new ml(null,this.h))}Vo.prototype.toString=function(){var f=[],m=this.j;m&&f.push(pl(m,rb,!0),":");var E=this.g;return(E||m=="file")&&(f.push("//"),(m=this.o)&&f.push(pl(m,rb,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(pl(E,E.charAt(0)=="/"?lV:sV,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",pl(E,cV)),f.join("")};function Wr(f){return new Vo(f)}function Xc(f,m,E){f.j=E?hl(m,!0):m,f.j&&(f.j=f.j.replace(/:$/,""))}function Jc(f,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);f.s=m}else f.s=null}function nb(f,m,E){m instanceof ml?(f.i=m,fV(f.i,f.h)):(E||(m=pl(m,uV)),f.i=new ml(m,f.h))}function Re(f,m,E){f.i.set(m,E)}function Zc(f){return Re(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function hl(f,m){return f?m?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function pl(f,m,E){return typeof f=="string"?(f=encodeURI(f).replace(m,aV),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function aV(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var rb=/[#\/\?@]/g,sV=/[#\?:]/g,lV=/[#\?]/g,uV=/[#\?@]/g,cV=/#/g;function ml(f,m){this.h=this.g=null,this.i=f||null,this.j=!!m}function Mi(f){f.g||(f.g=new Map,f.h=0,f.i&&oV(f.i,function(m,E){f.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}e=ml.prototype,e.add=function(f,m){Mi(this),this.i=null,f=Ma(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(m),this.h+=1,this};function ib(f,m){Mi(f),m=Ma(f,m),f.g.has(m)&&(f.i=null,f.h-=f.g.get(m).length,f.g.delete(m))}function ob(f,m){return Mi(f),m=Ma(f,m),f.g.has(m)}e.forEach=function(f,m){Mi(this),this.g.forEach(function(E,x){E.forEach(function(L){f.call(m,L,x,this)},this)},this)},e.na=function(){Mi(this);const f=Array.from(this.g.values()),m=Array.from(this.g.keys()),E=[];for(let x=0;x<m.length;x++){const L=f[x];for(let j=0;j<L.length;j++)E.push(m[x])}return E},e.V=function(f){Mi(this);let m=[];if(typeof f=="string")ob(this,f)&&(m=m.concat(this.g.get(Ma(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)m=m.concat(f[E])}return m},e.set=function(f,m){return Mi(this),this.i=null,f=Ma(this,f),ob(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[m]),this.h+=1,this},e.get=function(f,m){return f?(f=this.V(f),0<f.length?String(f[0]):m):m};function ab(f,m,E){ib(f,m),0<E.length&&(f.i=null,f.g.set(Ma(f,m),_(E)),f.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],m=Array.from(this.g.keys());for(var E=0;E<m.length;E++){var x=m[E];const j=encodeURIComponent(String(x)),H=this.V(x);for(x=0;x<H.length;x++){var L=j;H[x]!==""&&(L+="="+encodeURIComponent(String(H[x]))),f.push(L)}}return this.i=f.join("&")};function Ma(f,m){return m=String(m),f.j&&(m=m.toLowerCase()),m}function fV(f,m){m&&!f.j&&(Mi(f),f.i=null,f.g.forEach(function(E,x){var L=x.toLowerCase();x!=L&&(ib(this,x),ab(this,L,E))},f)),f.j=m}function dV(f,m){const E=new fl;if(s.Image){const x=new Image;x.onload=p(Li,E,"TestLoadImage: loaded",!0,m,x),x.onerror=p(Li,E,"TestLoadImage: error",!1,m,x),x.onabort=p(Li,E,"TestLoadImage: abort",!1,m,x),x.ontimeout=p(Li,E,"TestLoadImage: timeout",!1,m,x),s.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=f}else m(!1)}function hV(f,m){const E=new fl,x=new AbortController,L=setTimeout(()=>{x.abort(),Li(E,"TestPingServer: timeout",!1,m)},1e4);fetch(f,{signal:x.signal}).then(j=>{clearTimeout(L),j.ok?Li(E,"TestPingServer: ok",!0,m):Li(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Li(E,"TestPingServer: error",!1,m)})}function Li(f,m,E,x,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),x(E)}catch{}}function pV(){this.g=new Qj}function mV(f,m,E){const x=E||"";try{eb(f,function(L,j){let H=L;u(L)&&(H=Um(L)),m.push(x+j+"="+encodeURIComponent(H))})}catch(L){throw m.push(x+"type="+encodeURIComponent("_badmap")),L}}function ef(f){this.l=f.Ub||null,this.j=f.eb||!1}g(ef,Fm),ef.prototype.g=function(){return new tf(this.l,this.j)},ef.prototype.i=function(f){return function(){return f}}({});function tf(f,m){$t.call(this),this.D=f,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(tf,$t),e=tf.prototype,e.open=function(f,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=m,this.readyState=1,vl(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(m.body=f),(this.D||s).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gl(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,vl(this)),this.g&&(this.readyState=3,vl(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sb(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function sb(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var m=f.value?f.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!f.done}))&&(this.response=this.responseText+=m)}f.done?gl(this):vl(this),this.readyState==3&&sb(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,gl(this))},e.Qa=function(f){this.g&&(this.response=f,gl(this))},e.ga=function(){this.g&&gl(this)};function gl(f){f.readyState=4,f.l=null,f.j=null,f.v=null,vl(f)}e.setRequestHeader=function(f,m){this.u.append(f,m)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=m.next();return f.join(`\r
`)};function vl(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(tf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function lb(f){let m="";return M(f,function(E,x){m+=x,m+=":",m+=E,m+=`\r
`}),m}function Xm(f,m,E){e:{for(x in E){var x=!1;break e}x=!0}x||(E=lb(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Re(f,m,E))}function Ke(f){$t.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Ke,$t);var gV=/^https?$/i,vV=["POST","PUT"];e=Ke.prototype,e.Ha=function(f){this.J=f},e.ea=function(f,m,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);m=m?m.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wm.g(),this.v=this.o?j1(this.o):j1(Wm),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(f),!0),this.B=!1}catch(j){ub(this,j);return}if(f=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var L in x)E.set(L,x[L]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const j of x.keys())E.set(j,x.get(j));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(j=>j.toLowerCase()=="content-type"),L=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(vV,m,void 0))||x||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,H]of E)this.g.setRequestHeader(j,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{db(this),this.u=!0,this.g.send(f),this.u=!1}catch(j){ub(this,j)}};function ub(f,m){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=m,f.m=5,cb(f),nf(f)}function cb(f){f.A||(f.A=!0,nn(f,"complete"),nn(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,nn(this,"complete"),nn(this,"abort"),nf(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nf(this,!0)),Ke.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?fb(this):this.bb())},e.bb=function(){fb(this)};function fb(f){if(f.h&&typeof a<"u"&&(!f.v[1]||Kr(f)!=4||f.Z()!=2)){if(f.u&&Kr(f)==4)N1(f.Ea,0,f);else if(nn(f,"readystatechange"),Kr(f)==4){f.h=!1;try{const H=f.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var x;if(x=H===0){var L=String(f.D).match(tb)[1]||null;!L&&s.self&&s.self.location&&(L=s.self.location.protocol.slice(0,-1)),x=!gV.test(L?L.toLowerCase():"")}E=x}if(E)nn(f,"complete"),nn(f,"success");else{f.m=6;try{var j=2<Kr(f)?f.g.statusText:""}catch{j=""}f.l=j+" ["+f.Z()+"]",cb(f)}}finally{nf(f)}}}}function nf(f,m){if(f.g){db(f);const E=f.g,x=f.v[0]?()=>{}:null;f.g=null,f.v=null,m||nn(f,"ready");try{E.onreadystatechange=x}catch{}}}function db(f){f.I&&(s.clearTimeout(f.I),f.I=null)}e.isActive=function(){return!!this.g};function Kr(f){return f.g?f.g.readyState:0}e.Z=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var m=this.g.responseText;return f&&m.indexOf(f)==0&&(m=m.substring(f.length)),Yj(m)}};function hb(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function yV(f){const m={};f=(f.g&&2<=Kr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<f.length;x++){if(b(f[x]))continue;var E=C(f[x]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const j=m[L]||[];m[L]=j,j.push(E)}T(m,function(x){return x.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yl(f,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||m}function pb(f){this.Aa=0,this.i=[],this.j=new fl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yl("baseRetryDelayMs",5e3,f),this.cb=yl("retryDelaySeedMs",1e4,f),this.Wa=yl("forwardChannelMaxRetries",2,f),this.wa=yl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Y1(f&&f.concurrentRequestLimit),this.Da=new pV,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=pb.prototype,e.la=8,e.G=1,e.connect=function(f,m,E,x){rn(0),this.W=f,this.H=m||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.I=Pb(this,null,this.W),of(this)};function Jm(f){if(mb(f),f.G==3){var m=f.U++,E=Wr(f.I);if(Re(E,"SID",f.K),Re(E,"RID",m),Re(E,"TYPE","terminate"),_l(f,E),m=new Di(f,f.j,m),m.L=2,m.v=Zc(Wr(E)),E=!1,s.navigator&&s.navigator.sendBeacon)try{E=s.navigator.sendBeacon(m.v.toString(),"")}catch{}!E&&s.Image&&(new Image().src=m.v,E=!0),E||(m.g=Sb(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Qc(m)}bb(f)}function rf(f){f.g&&(eg(f),f.g.cancel(),f.g=null)}function mb(f){rf(f),f.u&&(s.clearTimeout(f.u),f.u=null),af(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function of(f){if(!Q1(f.h)&&!f.s){f.s=!0;var m=f.Ga;se||X(),z||(se(),z=!0),B.add(m,f),f.B=0}}function _V(f,m){return X1(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=m.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=cl(h(f.Ga,f,m),Eb(f,f.B)),f.B++,!0)}e.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const L=new Di(this,this.j,f);let j=this.o;if(this.S&&(j?(j=S(j),R(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(m+=x,4096<m){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=vb(this,L,m),E=Wr(this.I),Re(E,"RID",f),Re(E,"CVER",22),this.D&&Re(E,"X-HTTP-Session-Id",this.D),_l(this,E),j&&(this.O?m="headers="+encodeURIComponent(String(lb(j)))+"&"+m:this.m&&Xm(E,this.m,j)),Qm(this.h,L),this.Ua&&Re(E,"TYPE","init"),this.P?(Re(E,"$req",m),Re(E,"SID","null"),L.T=!0,Hm(L,E,null)):Hm(L,E,m),this.G=2}}else this.G==3&&(f?gb(this,f):this.i.length==0||Q1(this.h)||gb(this))};function gb(f,m){var E;m?E=m.l:E=f.U++;const x=Wr(f.I);Re(x,"SID",f.K),Re(x,"RID",E),Re(x,"AID",f.T),_l(f,x),f.m&&f.o&&Xm(x,f.m,f.o),E=new Di(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),m&&(f.i=m.D.concat(f.i)),m=vb(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Qm(f.h,E),Hm(E,x,m)}function _l(f,m){f.H&&M(f.H,function(E,x){Re(m,x,E)}),f.l&&eb({},function(E,x){Re(m,x,E)})}function vb(f,m,E){E=Math.min(f.i.length,E);var x=f.l?h(f.l.Na,f.l,f):null;e:{var L=f.i;let j=-1;for(;;){const H=["count="+E];j==-1?0<E?(j=L[0].g,H.push("ofs="+j)):j=0:H.push("ofs="+j);let Ae=!0;for(let xt=0;xt<E;xt++){let ye=L[xt].g;const Ut=L[xt].map;if(ye-=j,0>ye)j=Math.max(0,L[xt].g-100),Ae=!1;else try{mV(Ut,H,"req"+ye+"_")}catch{x&&x(Ut)}}if(Ae){x=H.join("&");break e}}}return f=f.i.splice(0,E),m.D=f,x}function yb(f){if(!f.g&&!f.u){f.Y=1;var m=f.Fa;se||X(),z||(se(),z=!0),B.add(m,f),f.v=0}}function Zm(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=cl(h(f.Fa,f),Eb(f,f.v)),f.v++,!0)}e.Fa=function(){if(this.u=null,_b(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=cl(h(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),rf(this),_b(this))};function eg(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function _b(f){f.g=new Di(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var m=Wr(f.qa);Re(m,"RID","rpc"),Re(m,"SID",f.K),Re(m,"AID",f.T),Re(m,"CI",f.F?"0":"1"),!f.F&&f.ja&&Re(m,"TO",f.ja),Re(m,"TYPE","xmlhttp"),_l(f,m),f.m&&f.o&&Xm(m,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Zc(Wr(m)),E.m=null,E.P=!0,H1(E,f)}e.Za=function(){this.C!=null&&(this.C=null,rf(this),Zm(this),rn(19))};function af(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function wb(f,m){var E=null;if(f.g==m){af(f),eg(f),f.g=null;var x=2}else if(Ym(f.h,m))E=m.D,J1(f.h,m),x=1;else return;if(f.G!=0){if(m.o)if(x==1){E=m.m?m.m.length:0,m=Date.now()-m.F;var L=f.B;x=qc(),nn(x,new z1(x,E)),of(f)}else yb(f);else if(L=m.s,L==3||L==0&&0<m.X||!(x==1&&_V(f,m)||x==2&&Zm(f)))switch(E&&0<E.length&&(m=f.h,m.i=m.i.concat(E)),L){case 1:$o(f,5);break;case 4:$o(f,10);break;case 3:$o(f,6);break;default:$o(f,2)}}}function Eb(f,m){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*m}function $o(f,m){if(f.j.info("Error code "+m),m==2){var E=h(f.fb,f),x=f.Xa;const L=!x;x=new Vo(x||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Xc(x,"https"),Zc(x),L?dV(x.toString(),E):hV(x.toString(),E)}else rn(2);f.G=0,f.l&&f.l.sa(m),bb(f),mb(f)}e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function bb(f){if(f.G=0,f.ka=[],f.l){const m=Z1(f.h);(m.length!=0||f.i.length!=0)&&(y(f.ka,m),y(f.ka,f.i),f.h.i.length=0,_(f.i),f.i.length=0),f.l.ra()}}function Pb(f,m,E){var x=E instanceof Vo?Wr(E):new Vo(E);if(x.g!="")m&&(x.g=m+"."+x.g),Jc(x,x.s);else{var L=s.location;x=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new Vo(null);x&&Xc(j,x),m&&(j.g=m),L&&Jc(j,L),E&&(j.l=E),x=j}return E=f.D,m=f.ya,E&&m&&Re(x,E,m),Re(x,"VER",f.la),_l(f,x),x}function Sb(f,m,E){if(m&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=f.Ca&&!f.pa?new Ke(new ef({eb:E})):new Ke(f.pa),m.Ha(f.J),m}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tb(){}e=Tb.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function sf(){}sf.prototype.g=function(f,m){return new xn(f,m)};function xn(f,m){$t.call(this),this.g=new pb(m),this.l=f,this.h=m&&m.messageUrlParams||null,f=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(f?f["X-WebChannel-Content-Type"]=m.messageContentType:f={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(f?f["X-WebChannel-Client-Profile"]=m.va:f={"X-WebChannel-Client-Profile":m.va}),this.g.S=f,(f=m&&m.Sb)&&!b(f)&&(this.g.m=f),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.D=m,f=this.h,f!==null&&m in f&&(f=this.h,m in f&&delete f[m])),this.j=new La(this)}g(xn,$t),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Jm(this.g)},xn.prototype.o=function(f){var m=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Um(f),f=E);m.i.push(new nV(m.Ya++,f)),m.G==3&&of(m)},xn.prototype.N=function(){this.g.l=null,delete this.j,Jm(this.g),delete this.g,xn.aa.N.call(this)};function xb(f){zm.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var m=f.__sm__;if(m){e:{for(const E in m){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,m=m!==null&&f in m?m[f]:void 0),this.data=m}else this.data=f}g(xb,zm);function Ab(){Bm.call(this),this.status=1}g(Ab,Bm);function La(f){this.g=f}g(La,Tb),La.prototype.ua=function(){nn(this.g,"a")},La.prototype.ta=function(f){nn(this.g,new xb(f))},La.prototype.sa=function(f){nn(this.g,new Ab)},La.prototype.ra=function(){nn(this.g,"b")},sf.prototype.createWebChannel=sf.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,oO=function(){return new sf},iO=function(){return qc()},rO=Lo,py={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gc.NO_ERROR=0,Gc.TIMEOUT=8,Gc.HTTP_ERROR=6,ld=Gc,B1.COMPLETE="complete",nO=B1,V1.EventType=ll,ll.OPEN="a",ll.CLOSE="b",ll.ERROR="c",ll.MESSAGE="d",$t.prototype.listen=$t.prototype.K,Bl=V1,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,tO=Ke}).apply(typeof xf<"u"?xf:typeof self<"u"?self:typeof window<"u"?window:{});const sS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new R_("@firebase/firestore");function Il(){return ha.logLevel}function Q(e,...t){if(ha.logLevel<=me.DEBUG){const n=t.map(D_);ha.debug(`Firestore (${qs}): ${e}`,...n)}}function pi(e,...t){if(ha.logLevel<=me.ERROR){const n=t.map(D_);ha.error(`Firestore (${qs}): ${e}`,...n)}}function Ts(e,...t){if(ha.logLevel<=me.WARN){const n=t.map(D_);ha.warn(`Firestore (${qs}): ${e}`,...n)}}function D_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(e="Unexpected state"){const t=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: `+e;throw pi(t),new Error(t)}function Te(e,t){e||re()}function oe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Br{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class iz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class oz{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class az{constructor(t){this.t=t,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Te(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ai,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ai)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new aO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Te(t===null||typeof t=="string"),new Ht(t)}}class sz{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lz{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new sz(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uz{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cz{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Te(this.o===void 0);const r=o=>{o.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new uz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=fz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function _e(e,t){return e<t?-1:e>t?1:0}function xs(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ct.fromMillis(Date.now())}static fromDate(t){return ct.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?_e(this.nanoseconds,t.nanoseconds):_e(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ie(t)}static min(){return new ie(new ct(0,0))}static max(){return new ie(new ct(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t,n,r){n===void 0?n=0:n>t.length&&re(),r===void 0?r=t.length-n:r>t.length-n&&re(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Nu.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Nu?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Me extends Nu{construct(t,n,r){return new Me(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new q($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const dz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Nu{construct(t,n,r){return new Ct(t,n,r)}static isValidIdentifier(t){return dz.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new q($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<t.length;){const s=t[i];if(s==="\\"){if(i+1===t.length)throw new q($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new q($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t){this.path=t}static fromPath(t){return new te(Me.fromString(t))}static fromName(t){return new te(Me.fromString(t).popFirst(5))}static empty(){return new te(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Me.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new te(new Me(t.slice()))}}function hz(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new vo(i,te.empty(),t)}function pz(e){return new vo(e.readTime,e.key,-1)}class vo{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new vo(ie.min(),te.empty(),-1)}static max(){return new vo(ie.max(),te.empty(),-1)}}function mz(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=te.comparator(e.documentKey,t.documentKey),n!==0?n:_e(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(e){if(e.code!==$.FAILED_PRECONDITION||e.message!==gz)throw e;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new F((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):F.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):F.reject(n)}static resolve(t){return new F((n,r)=>{n(t)})}static reject(t){return new F((n,r)=>{r(t)})}static waitFor(t){return new F((n,r)=>{let i=0,o=0,a=!1;t.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(t){let n=F.resolve(!1);for(const r of t)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new F((r,i)=>{const o=t.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(t,n){return new F((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function yz(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}M_.oe=-1;function bp(e){return e==null}function Jd(e){return e===0&&1/e==-1/0}function _z(e){return typeof e=="number"&&Number.isInteger(e)&&!Jd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ia(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function lO(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n){this.comparator=t,this.root=n||kt.EMPTY}insert(t,n){return new We(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(t){return new We(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Af(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Af(this.root,t,this.comparator,!1)}getReverseIterator(){return new Af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Af(this.root,t,this.comparator,!0)}}class Af{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class kt{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??kt.RED,this.left=i??kt.EMPTY,this.right=o??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new kt(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const t=this.left.check();if(t!==this.right.check())throw re();return t+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(t,n,r,i,o){return this}insert(t,n,r){return new kt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.comparator=t,this.data=new We(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new uS(this.data.getIterator())}getIteratorFrom(t){return new uS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Dt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Dt(this.comparator);return n.data=t,n}}class uS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.fields=t,t.sort(Ct.comparator)}static empty(){return new On([])}unionWith(t){let n=new Dt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new On(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return xs(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new uO("Invalid base64 string: "+o):o}}(t);return new Lt(n)}static fromUint8Array(t){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(t);return new Lt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _e(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const wz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(e){if(Te(!!e),typeof e=="string"){let t=0;const n=wz.exec(e);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Je(e.seconds),nanos:Je(e.nanos)}}function Je(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function pa(e){return typeof e=="string"?Lt.fromBase64String(e):Lt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function j_(e){const t=e.mapValue.fields.__previous_value__;return L_(t)?j_(t):t}function Du(e){const t=yo(e.mapValue.fields.__local_write_time__.timestampValue);return new ct(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(t,n,r,i,o,a,s,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Mu{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Mu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ma(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?L_(e)?4:Pz(e)?9007199254740991:bz(e)?10:11:re()}function jr(e,t){if(e===t)return!0;const n=ma(e);if(n!==ma(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Du(e).isEqual(Du(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=yo(i.timestampValue),s=yo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return pa(i.bytesValue).isEqual(pa(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Je(i.geoPointValue.latitude)===Je(o.geoPointValue.latitude)&&Je(i.geoPointValue.longitude)===Je(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Je(i.integerValue)===Je(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Je(i.doubleValue),s=Je(o.doubleValue);return a===s?Jd(a)===Jd(s):isNaN(a)&&isNaN(s)}return!1}(e,t);case 9:return xs(e.arrayValue.values||[],t.arrayValue.values||[],jr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(lS(a)!==lS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!jr(a[l],s[l])))return!1;return!0}(e,t);default:return re()}}function Lu(e,t){return(e.values||[]).find(n=>jr(n,t))!==void 0}function As(e,t){if(e===t)return 0;const n=ma(e),r=ma(t);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(e.booleanValue,t.booleanValue);case 2:return function(o,a){const s=Je(o.integerValue||o.doubleValue),l=Je(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(e,t);case 3:return cS(e.timestampValue,t.timestampValue);case 4:return cS(Du(e),Du(t));case 5:return _e(e.stringValue,t.stringValue);case 6:return function(o,a){const s=pa(o),l=pa(a);return s.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=_e(s[u],l[u]);if(c!==0)return c}return _e(s.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,a){const s=_e(Je(o.latitude),Je(a.latitude));return s!==0?s:_e(Je(o.longitude),Je(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return fS(e.arrayValue,t.arrayValue);case 10:return function(o,a){var s,l,u,c;const d=o.fields||{},h=a.fields||{},p=(s=d.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,_=_e(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:fS(p,g)}(e.mapValue,t.mapValue);case 11:return function(o,a){if(o===If.mapValue&&a===If.mapValue)return 0;if(o===If.mapValue)return 1;if(a===If.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=_e(l[d],c[d]);if(h!==0)return h;const p=As(s[l[d]],u[c[d]]);if(p!==0)return p}return _e(l.length,c.length)}(e.mapValue,t.mapValue);default:throw re()}}function cS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return _e(e,t);const n=yo(e),r=yo(t),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function fS(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=As(n[i],r[i]);if(o)return o}return _e(n.length,r.length)}function Is(e){return my(e)}function my(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=yo(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return pa(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return te.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=my(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${my(n.fields[a])}`;return i+"}"}(e.mapValue):re()}function dS(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function gy(e){return!!e&&"integerValue"in e}function V_(e){return!!e&&"arrayValue"in e}function hS(e){return!!e&&"nullValue"in e}function pS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ud(e){return!!e&&"mapValue"in e}function bz(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function iu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ia(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=iu(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=iu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Pz(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!ud(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=iu(n)}setAll(t){let n=Ct.emptyPath(),r={},i=[];t.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=iu(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return jr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];ud(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Ia(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new vn(iu(this.value))}}function cO(e){const t=[];return Ia(e.fields,(n,r)=>{const i=new Ct([n]);if(ud(r)){const o=cO(r.mapValue).fields;if(o.length===0)t.push(i);else for(const a of o)t.push(i.child(a))}else t.push(i)}),new On(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,n,r,i,o,a,s){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(t){return new Gt(t,0,ie.min(),ie.min(),ie.min(),vn.empty(),0)}static newFoundDocument(t,n,r,i){return new Gt(t,1,n,ie.min(),r,i,0)}static newNoDocument(t,n){return new Gt(t,2,n,ie.min(),ie.min(),vn.empty(),0)}static newUnknownDocument(t,n){return new Gt(t,3,n,ie.min(),ie.min(),vn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Gt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(t,n){this.position=t,this.inclusive=n}}function mS(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(o.field.isKeyField()?r=te.comparator(te.fromName(a.referenceValue),n.key):r=As(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function gS(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!jr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t,n="asc"){this.field=t,this.dir=n}}function Sz(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{}class it extends fO{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new xz(t,n,r):n==="array-contains"?new kz(t,r):n==="in"?new Cz(t,r):n==="not-in"?new Oz(t,r):n==="array-contains-any"?new Rz(t,r):new it(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Az(t,r):new Iz(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(As(n,this.value)):n!==null&&ma(this.value)===ma(n)&&this.matchesComparison(As(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends fO{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new vr(t,n)}matches(t){return dO(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dO(e){return e.op==="and"}function hO(e){return Tz(e)&&dO(e)}function Tz(e){for(const t of e.filters)if(t instanceof vr)return!1;return!0}function vy(e){if(e instanceof it)return e.field.canonicalString()+e.op.toString()+Is(e.value);if(hO(e))return e.filters.map(t=>vy(t)).join(",");{const t=e.filters.map(n=>vy(n)).join(",");return`${e.op}(${t})`}}function pO(e,t){return e instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&jr(r.value,i.value)}(e,t):e instanceof vr?function(r,i){return i instanceof vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&pO(a,i.filters[s]),!0):!1}(e,t):void re()}function mO(e){return e instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${Is(n.value)}`}(e):e instanceof vr?function(n){return n.op.toString()+" {"+n.getFilters().map(mO).join(" ,")+"}"}(e):"Filter"}class xz extends it{constructor(t,n,r){super(t,n,r),this.key=te.fromName(r.referenceValue)}matches(t){const n=te.comparator(t.key,this.key);return this.matchesComparison(n)}}class Az extends it{constructor(t,n){super(t,"in",n),this.keys=gO("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Iz extends it{constructor(t,n){super(t,"not-in",n),this.keys=gO("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function gO(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class kz extends it{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return V_(n)&&Lu(n.arrayValue,this.value)}}class Cz extends it{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Lu(this.value.arrayValue,n)}}class Oz extends it{constructor(t,n){super(t,"not-in",n)}matches(t){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Lu(this.value.arrayValue,n)}}class Rz extends it{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!V_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(t,n=null,r=[],i=[],o=null,a=null,s=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function vS(e,t=null,n=[],r=[],i=null,o=null,a=null){return new Nz(e,t,n,r,i,o,a)}function $_(e){const t=oe(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>vy(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),bp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Is(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Is(r)).join(",")),t.ue=n}return t.ue}function U_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Sz(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!pO(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gS(e.startAt,t.startAt)&&gS(e.endAt,t.endAt)}function yy(e){return te.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Dz(e,t,n,r,i,o,a,s){return new Gs(e,t,n,r,i,o,a,s)}function F_(e){return new Gs(e)}function yS(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function vO(e){return e.collectionGroup!==null}function ou(e){const t=oe(e);if(t.ce===null){t.ce=[];const n=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Dt(Ct.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.ce.push(new ju(o,r))}),n.has(Ct.keyField().canonicalString())||t.ce.push(new ju(Ct.keyField(),r))}return t.ce}function Rr(e){const t=oe(e);return t.le||(t.le=Mz(t,ou(e))),t.le}function Mz(e,t){if(e.limitType==="F")return vS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ju(i.field,o)});const n=e.endAt?new Zd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Zd(e.startAt.position,e.startAt.inclusive):null;return vS(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function _y(e,t){const n=e.filters.concat([t]);return new Gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function wy(e,t,n){return new Gs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pp(e,t){return U_(Rr(e),Rr(t))&&e.limitType===t.limitType}function yO(e){return`${$_(Rr(e))}|lt:${e.limitType}`}function za(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mO(i)).join(", ")}]`),bp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Is(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Is(i)).join(",")),`Target(${r})`}(Rr(e))}; limitType=${e.limitType})`}function Sp(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of ou(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=mS(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,ou(r),i)||r.endAt&&!function(a,s,l){const u=mS(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,ou(r),i))}(e,t)}function Lz(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _O(e){return(t,n)=>{let r=!1;for(const i of ou(e)){const o=jz(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function jz(e,t,n){const r=e.field.isKeyField()?te.comparator(t.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?As(l,u):re()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ia(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return lO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=new We(te.comparator);function mi(){return Vz}const wO=new We(te.comparator);function Wl(...e){let t=wO;for(const n of e)t=t.insert(n.key,n);return t}function EO(e){let t=wO;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Yo(){return au()}function bO(){return au()}function au(){return new Ys(e=>e.toString(),(e,t)=>e.isEqual(t))}const $z=new We(te.comparator),Uz=new Dt(te.comparator);function pe(...e){let t=Uz;for(const n of e)t=t.add(n);return t}const Fz=new Dt(_e);function zz(){return Fz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(t)?"-0":t}}function PO(e){return{integerValue:""+e}}function Bz(e,t){return _z(t)?PO(t):z_(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this._=void 0}}function Wz(e,t,n){return e instanceof Vu?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&L_(o)&&(o=j_(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,t):e instanceof $u?TO(e,t):e instanceof Uu?xO(e,t):function(i,o){const a=SO(i,o),s=_S(a)+_S(i.Pe);return gy(a)&&gy(i.Pe)?PO(s):z_(i.serializer,s)}(e,t)}function Kz(e,t,n){return e instanceof $u?TO(e,t):e instanceof Uu?xO(e,t):n}function SO(e,t){return e instanceof eh?function(r){return gy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class Vu extends Tp{}class $u extends Tp{constructor(t){super(),this.elements=t}}function TO(e,t){const n=AO(t);for(const r of e.elements)n.some(i=>jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Uu extends Tp{constructor(t){super(),this.elements=t}}function xO(e,t){let n=AO(t);for(const r of e.elements)n=n.filter(i=>!jr(i,r));return{arrayValue:{values:n}}}class eh extends Tp{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function _S(e){return Je(e.integerValue||e.doubleValue)}function AO(e){return V_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(t,n){this.field=t,this.transform=n}}function qz(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof $u&&i instanceof $u||r instanceof Uu&&i instanceof Uu?xs(r.elements,i.elements,jr):r instanceof eh&&i instanceof eh?jr(r.Pe,i.Pe):r instanceof Vu&&i instanceof Vu}(e.transform,t.transform)}class Gz{constructor(t,n){this.version=t,this.transformResults=n}}class Xn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class xp{}function IO(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new B_(e.key,Xn.none()):new pc(e.key,e.data,Xn.none());{const n=e.data,r=vn.empty();let i=new Dt(Ct.comparator);for(let o of t.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new ko(e.key,r,new On(i.toArray()),Xn.none())}}function Yz(e,t,n){e instanceof pc?function(i,o,a){const s=i.value.clone(),l=ES(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(e,t,n):e instanceof ko?function(i,o,a){if(!cd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=ES(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(kO(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function su(e,t,n,r){return e instanceof pc?function(o,a,s,l){if(!cd(o.precondition,a))return s;const u=o.value.clone(),c=bS(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof ko?function(o,a,s,l){if(!cd(o.precondition,a))return s;const u=bS(o.fieldTransforms,l,a),c=a.data;return c.setAll(kO(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(o,a,s){return cd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(e,t,n)}function Qz(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=SO(r.transform,i||null);o!=null&&(n===null&&(n=vn.empty()),n.set(r.field,o))}return n||null}function wS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xs(r,i,(o,a)=>qz(o,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class pc extends xp{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ko extends xp{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function kO(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ES(e,t,n){const r=new Map;Te(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Kz(a,s,n[i]))}return r}function bS(e,t,n){const r=new Map;for(const i of e){const o=i.transform,a=n.data.field(i.field);r.set(i.field,Wz(o,a,t))}return r}class B_ extends xp{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xz extends xp{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&Yz(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=su(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=su(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=bO();return this.mutations.forEach(i=>{const o=t.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=IO(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),pe())}isEqual(t){return this.batchId===t.batchId&&xs(this.mutations,t.mutations,(n,r)=>wS(n,r))&&xs(this.baseMutations,t.baseMutations,(n,r)=>wS(n,r))}}class W_{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Te(t.mutations.length===r.length);let i=function(){return $z}();const o=t.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new W_(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,ge;function tB(e){switch(e){default:return re();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function CO(e){if(e===void 0)return pi("GRPC error has no .code"),$.UNKNOWN;switch(e){case tt.OK:return $.OK;case tt.CANCELLED:return $.CANCELLED;case tt.UNKNOWN:return $.UNKNOWN;case tt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case tt.INTERNAL:return $.INTERNAL;case tt.UNAVAILABLE:return $.UNAVAILABLE;case tt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case tt.NOT_FOUND:return $.NOT_FOUND;case tt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case tt.ABORTED:return $.ABORTED;case tt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case tt.DATA_LOSS:return $.DATA_LOSS;default:return re()}}(ge=tt||(tt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB=new na([4294967295,4294967295],0);function PS(e){const t=nB().encode(e),n=new eO;return n.update(t),new Uint8Array(n.digest())}function SS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new na([n,r],0),new na([i,o],0)]}class K_{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(r<0)throw new Kl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=na.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(na.fromNumber(r)));return i.compare(rB)===1&&(i=new na([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=PS(t),[r,i]=SS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new K_(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(t){if(this.Ie===0)return;const n=PS(t),[r,i]=SS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,mc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Ap(ie.min(),i,new We(_e),mi(),pe())}}class mc{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new mc(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class OO{constructor(t,n){this.targetId=t,this.me=n}}class RO{constructor(t,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class TS{constructor(){this.fe=0,this.ge=AS(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=pe(),n=pe(),r=pe();return this.ge.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new mc(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=AS()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iB{constructor(t){this.Le=t,this.Be=new Map,this.ke=mi(),this.qe=xS(),this.Qe=new We(_e)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:re()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const o=i.target;if(yy(o))if(r===0){const a=new te(o.path);this.Ue(n,a,Gt.newNoDocument(a,ie.min()))}else Te(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(t),l=s?this.Xe(s,t,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=pa(r).toUint8Array()}catch(l){if(l instanceof uO)return Ts("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new K_(a,i,o)}catch(l){return Ts(l instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;t.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&yy(s.target)){const l=new te(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Gt.newNoDocument(l,t))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=pe();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(t));const i=new Ap(t,n,this.Qe,this.ke,r);return this.ke=mi(),this.qe=xS(),this.Qe=new We(_e),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new TS,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Dt(_e),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new TS),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function xS(){return new We(te.comparator)}function AS(){return new We(te.comparator)}const oB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),aB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),sB=(()=>({and:"AND",or:"OR"}))();class lB{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ey(e,t){return e.useProto3Json||bp(t)?t:{value:t}}function th(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function NO(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function uB(e,t){return th(e,t.toTimestamp())}function Nr(e){return Te(!!e),ie.fromTimestamp(function(n){const r=yo(n);return new ct(r.seconds,r.nanos)}(e))}function H_(e,t){return by(e,t).canonicalString()}function by(e,t){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function DO(e){const t=Me.fromString(e);return Te($O(t)),t}function Py(e,t){return H_(e.databaseId,t.path)}function Mg(e,t){const n=DO(t);if(n.get(1)!==e.databaseId.projectId)throw new q($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new te(LO(n))}function MO(e,t){return H_(e.databaseId,t)}function cB(e){const t=DO(e);return t.length===4?Me.emptyPath():LO(t)}function Sy(e){return new Me(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function LO(e){return Te(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function IS(e,t,n){return{name:Py(e,t),fields:n.value.mapValue.fields}}function fB(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Te(c===void 0||typeof c=="string"),Lt.fromBase64String(c||"")):(Te(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Lt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(u){const c=u.code===void 0?$.UNKNOWN:CO(u.code);return new q(c,u.message||"")}(a);n=new RO(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mg(e,r.document.name),o=Nr(r.document.updateTime),a=r.document.createTime?Nr(r.document.createTime):ie.min(),s=new vn({mapValue:{fields:r.document.fields}}),l=Gt.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new fd(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Mg(e,r.document),o=r.readTime?Nr(r.readTime):ie.min(),a=Gt.newNoDocument(i,o),s=r.removedTargetIds||[];n=new fd([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Mg(e,r.document),o=r.removedTargetIds||[];n=new fd([],o,i,null)}else{if(!("filter"in t))return re();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new eB(i,o),s=r.targetId;n=new OO(s,a)}}return n}function dB(e,t){let n;if(t instanceof pc)n={update:IS(e,t.key,t.value)};else if(t instanceof B_)n={delete:Py(e,t.key)};else if(t instanceof ko)n={update:IS(e,t.key,t.data),updateMask:EB(t.fieldMask)};else{if(!(t instanceof Xz))return re();n={verify:Py(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof Vu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof $u)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Uu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof eh)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw re()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:uB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:re()}(e,t.precondition)),n}function hB(e,t){return e&&e.length>0?(Te(t!==void 0),e.map(n=>function(i,o){let a=i.updateTime?Nr(i.updateTime):Nr(o);return a.isEqual(ie.min())&&(a=Nr(o)),new Gz(a,i.transformResults||[])}(n,t))):[]}function pB(e,t){return{documents:[MO(e,t.path)]}}function mB(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MO(e,i);const o=function(u){if(u.length!==0)return VO(vr.create(u,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Ba(h.field),direction:yB(h.dir)}}(c))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Ey(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:i}}function gB(e){let t=cB(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=jO(d);return h instanceof vr&&hO(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(h=>function(g){return new ju(Wa(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,bp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Zd(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new Zd(p,h)}(n.endAt)),Dz(t,i,a,o,s,"F",l,u)}function vB(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function jO(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wa(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wa(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Wa(n.unaryFilter.field);return it.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Wa(n.unaryFilter.field);return it.create(a,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(e):e.fieldFilter!==void 0?function(n){return it.create(Wa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return vr.create(n.compositeFilter.filters.map(r=>jO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(n.compositeFilter.op))}(e):re()}function yB(e){return oB[e]}function _B(e){return aB[e]}function wB(e){return sB[e]}function Ba(e){return{fieldPath:e.canonicalString()}}function Wa(e){return Ct.fromServerFormat(e.fieldPath)}function VO(e){return e instanceof it?function(n){if(n.op==="=="){if(pS(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(hS(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pS(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(hS(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:_B(n.op),value:n.value}}}(e):e instanceof vr?function(n){const r=n.getFilters().map(i=>VO(i));return r.length===1?r[0]:{compositeFilter:{op:wB(n.op),filters:r}}}(e):re()}function EB(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function $O(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t,n,r,i,o=ie.min(),a=ie.min(),s=Lt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(t){return new Zi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(t){this.ct=t}}function PB(e){const t=gB({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?wy(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this.un=new TB}addToCollectionParentIndex(t,n){return this.un.add(n),F.resolve()}getCollectionParents(t,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return F.resolve()}deleteFieldIndex(t,n){return F.resolve()}deleteAllFieldIndexes(t){return F.resolve()}createTargetIndexes(t,n){return F.resolve()}getDocumentsMatchingTarget(t,n){return F.resolve(null)}getIndexType(t,n){return F.resolve(0)}getFieldIndexes(t,n){return F.resolve([])}getNextCollectionGroupToUpdate(t){return F.resolve(null)}getMinOffset(t,n){return F.resolve(vo.min())}getMinOffsetFromCollectionGroup(t,n){return F.resolve(vo.min())}updateCollectionGroup(t,n,r){return F.resolve()}updateIndexEntries(t,n){return F.resolve()}}class TB{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Dt(Me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Dt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new ks(0)}static kn(){return new ks(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(){this.changes=new Ys(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Gt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&su(r.mutation,i,On.empty(),ct.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,pe()).next(()=>r))}getLocalViewOfDocuments(t,n,r=pe()){const i=Yo();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let a=Wl();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=Yo();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,pe()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(t,n,r,i){let o=mi();const a=au(),s=function(){return au()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ko)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),su(c.mutation,u,c.mutation.getFieldMask(),ct.now())):a.set(u.key,On.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var d;return s.set(u,new AB(c,(d=a.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(t,n){const r=au();let i=new We((a,s)=>a-s),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||On.empty();c=s.applyToLocalView(u,c),r.set(l,c);const d=(i.get(s.batchId)||pe()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=bO();c.forEach(h=>{if(!o.has(h)){const p=IO(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(t,u,d))}return F.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(a){return te.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):vO(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):F.resolve(Yo());let s=-1,l=o;return a.next(u=>F.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),o.get(c)?F.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,pe())).next(c=>({batchId:s,changes:EO(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new te(n)).next(r=>{let i=Wl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let a=Wl();return this.indexManager.getCollectionParents(t,o).next(s=>F.forEach(s,l=>{const u=function(d,h){return new Gs(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,h)=>{a=a.insert(d,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Gt.newInvalidDocument(c)))});let s=Wl();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&su(c.mutation,u,On.empty(),ct.now()),Sp(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nr(i.createTime)}}(n)),F.resolve()}getNamedQuery(t,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:PB(i.bundledQuery),readTime:Nr(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(){this.overlays=new We(te.comparator),this.Ir=new Map}getOverlay(t,n){return F.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Yo();return F.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.ht(t,n,o)}),F.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(t,n,r){const i=Yo(),o=n.length+1,a=new te(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new We((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Yo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Yo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return F.resolve(s)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Zz(n,r));let o=this.Ir.get(n);o===void 0&&(o=pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(t){return F.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.Tr=new Dt(yt.Er),this.dr=new Dt(yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const r=new yt(t,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Vr(new yt(t,n))}mr(t,n){t.forEach(r=>this.removeReference(r,n))}gr(t){const n=new te(new Me([])),r=new yt(n,t),i=new yt(n,t+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new te(new Me([])),r=new yt(n,t),i=new yt(n,t+1);let o=pe();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(t){const n=new yt(t,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class yt{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return te.comparator(t.key,n.key)||_e(t.wr,n.wr)}static Ar(t,n){return _e(t.wr,n.wr)||te.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Dt(yt.Er)}checkEmpty(t){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Jz(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new yt(s.key,o)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return F.resolve(a)}lookupMutationBatch(t,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Dt(_e);return n.forEach(i=>{const o=new yt(i,0),a=new yt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;te.isDocumentKey(o)||(o=o.child(""));const a=new yt(new te(o),0);let s=new Dt(_e);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),F.resolve(this.Cr(s))}Cr(t){const n=[];return t.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{const o=new yt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,n){const r=new yt(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,F.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(t){this.Mr=t,this.docs=function(){return new We(te.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(t,n){let r=mi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Gt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=mi();const a=n.path,s=new te(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||mz(pz(c),r)<=0||(i.has(c.key)||Sp(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(t,n,r,i){re()}Or(t,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new DB(this)}getSize(t){return F.resolve(this.size)}}class DB extends xB{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(t,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(t){this.persistence=t,this.Nr=new Ys(n=>$_(n),U_),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new q_,this.targetCount=0,this.kr=ks.Bn()}forEachTarget(t,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(t){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return F.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new ks(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(t,n){return this.Kn(n),F.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(t){return F.resolve(this.targetCount)}getTargetData(t,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(t,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(t,a))}),F.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(t,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(t,n){this.qr={},this.overlays={},this.Qr=new M_(0),this.Kr=!1,this.Kr=!0,this.$r=new OB,this.referenceDelegate=t(this),this.Ur=new MB(this),this.indexManager=new SB,this.remoteDocumentCache=function(i){return new NB(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new bB(n),this.Gr=new kB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new CB,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.qr[t.toKey()];return r||(r=new RB(n,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,r){Q("MemoryPersistence","Starting transaction:",t);const i=new jB(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(t,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,n)))}}class jB extends vz{constructor(t){super(),this.currentSequenceNumber=t}}class G_{constructor(t){this.persistence=t,this.Jr=new q_,this.Yr=null}static Zr(t){return new G_(t)}get Xr(){if(this.Yr)return this.Yr;throw re()}addReference(t,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(t,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const i=te.fromPath(r);return this.ei(t,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(t,n){let r=pe(),i=pe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Y_(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return VF()?8:yz(Jt())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.Yi(t,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(t,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new VB;return this.Xi(t,n,a).next(s=>{if(o.result=s,this.zi)return this.es(t,n,a,s.size)})}).next(()=>o.result)}es(t,n,r,i){return r.documentReadCount<this.ji?(Il()<=me.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Il()<=me.DEBUG&&Q("QueryEngine","Query:",za(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Il()<=me.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Rr(n))):F.resolve())}Yi(t,n){if(yS(n))return F.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=wy(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const a=pe(...o);return this.Ji.getDocuments(t,a).next(s=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(t,wy(n,null,"F")):this.rs(t,u,n,l)}))})))}Zi(t,n,r,i){return yS(n)||i.isEqual(ie.min())?F.resolve(null):this.Ji.getDocuments(t,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?F.resolve(null):(Il()<=me.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),za(n)),this.rs(t,a,n,hz(i,-1)).next(s=>s))})}ts(t,n){let r=new Dt(_O(t));return n.forEach((i,o)=>{Sp(t,o)&&(r=r.add(o))}),r}ns(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(t,n,r){return Il()<=me.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",za(n)),this.Ji.getDocumentsMatchingQuery(t,n,vo.min(),r)}rs(t,n,r,i){return this.Ji.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(t,n,r,i){this.persistence=t,this.ss=n,this.serializer=i,this.os=new We(_e),this._s=new Ys(o=>$_(o),U_),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new IB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function FB(e,t,n,r){return new UB(e,t,n,r)}async function UO(e,t){const n=oe(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=pe();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function zB(e,t){const n=oe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,h=d.keys();let p=F.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(_=>{const y=u.docVersions.get(g);Te(y!==null),_.version.compareTo(y)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=pe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function FO(e){const t=oe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function BB(e,t){const n=oe(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(d)!==null?p=p.withResumeToken(Lt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(_,y,w){return _.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=mi(),u=pe();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(WB(o,a,t.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(ie.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return F.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function WB(e,t,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let a=mi();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ie.min())?(t.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),a=a.insert(s,l)):Q("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function KB(e,t){const n=oe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function HB(e,t){const n=oe(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,t).next(o=>o?(i=o,F.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Zi(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(t,r.targetId)),r})}async function Ty(e,t,n){const r=oe(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!hc(a))throw a;Q("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function kS(e,t,n){const r=oe(e);let i=ie.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const d=oe(l),h=d._s.get(c);return h!==void 0?F.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,a,Rr(t)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,t,n?i:ie.min(),n?o:pe())).next(s=>(qB(r,Lz(t),s),{documents:s,Ts:o})))}function qB(e,t,n){let r=e.us.get(t)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.us.set(t,r)}class CS{constructor(){this.activeTargetIds=zz()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class GB{constructor(){this.so=new CS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,r){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new CS,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf=null;function Lg(){return kf===null?kf=function(){return 268435456+Math.round(2147483648*Math.random())}():kf++,"0x"+kf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class JB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=Lg(),l=this.xo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(Q("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw Ts("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=QB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,r,i){const o=Lg();return new Promise((a,s)=>{const l=new tO;l.setWithCredentials(!0),l.listenOnce(nO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ld.NO_ERROR:const c=l.getResponseJson();Q(Wt,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),a(c);break;case ld.TIMEOUT:Q(Wt,`RPC '${t}' ${o} timed out`),s(new q($.DEADLINE_EXCEEDED,"Request time out"));break;case ld.HTTP_ERROR:const d=l.getStatus();if(Q(Wt,`RPC '${t}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(p.status);s(new q(g,p.message))}else s(new q($.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new q($.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{Q(Wt,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);Q(Wt,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(t,n,r){const i=Lg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=oO(),s=iO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Q(Wt,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=a.createWebChannel(c,l);let h=!1,p=!1;const g=new XB({Io:y=>{p?Q(Wt,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(h||(Q(Wt,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),Q(Wt,`RPC '${t}' stream ${i} sending:`,y),d.send(y))},To:()=>d.close()}),_=(y,w,b)=>{y.listen(w,P=>{try{b(P)}catch(k){setTimeout(()=>{throw k},0)}})};return _(d,Bl.EventType.OPEN,()=>{p||(Q(Wt,`RPC '${t}' stream ${i} transport opened.`),g.yo())}),_(d,Bl.EventType.CLOSE,()=>{p||(p=!0,Q(Wt,`RPC '${t}' stream ${i} transport closed`),g.So())}),_(d,Bl.EventType.ERROR,y=>{p||(p=!0,Ts(Wt,`RPC '${t}' stream ${i} transport errored:`,y),g.So(new q($.UNAVAILABLE,"The operation could not be completed")))}),_(d,Bl.EventType.MESSAGE,y=>{var w;if(!p){const b=y.data[0];Te(!!b);const P=b,k=P.error||((w=P[0])===null||w===void 0?void 0:w.error);if(k){Q(Wt,`RPC '${t}' stream ${i} received error:`,k);const O=k.status;let M=function(I){const R=tt[I];if(R!==void 0)return CO(R)}(O),T=k.message;M===void 0&&(M=$.INTERNAL,T="Unknown error status: "+O+" with message "+k.message),p=!0,g.So(new q(M,T)),d.close()}else Q(Wt,`RPC '${t}' stream ${i} received:`,b),g.bo(b)}}),_(s,rO.STAT_EVENT,y=>{y.stat===py.PROXY?Q(Wt,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===py.NOPROXY&&Q(Wt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(e){return new lB(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t,n,r=1e3,i=1.5,o=6e4){this.ui=t,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(t,n,r,i,o,a,s,l){this.ui=t,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zO(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{t(()=>{const i=new q($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(t,n){const r=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return Q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZB extends BO{constructor(t,n,r,i,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=fB(this.serializer,t),r=function(o){if(!("targetChange"in o))return ie.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ie.min():a.readTime?Nr(a.readTime):ie.min()}(t);return this.listener.d_(n,r)}A_(t){const n={};n.database=Sy(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=yy(l)?{documents:pB(o,l)}:{query:mB(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=NO(o,a.resumeToken);const u=Ey(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(ie.min())>0){s.readTime=th(o,a.snapshotVersion.toTimestamp());const u=Ey(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,t);const r=vB(this.serializer,t);r&&(n.labels=r),this.a_(n)}R_(t){const n={};n.database=Sy(this.serializer),n.removeTarget=t,this.a_(n)}}class e6 extends BO{constructor(t,n,r,i,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return Te(!!t.streamToken),this.lastStreamToken=t.streamToken,Te(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Te(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=hB(t.writeResults,t.commitTime),r=Nr(t.commitTime);return this.listener.g_(r,n)}p_(){const t={};t.database=Sy(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>dB(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6 extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new q($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(t,by(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q($.UNKNOWN,o.toString())})}Lo(t,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(t,by(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q($.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class n6{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pi(n),this.D_=!1):Q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{ka(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=oe(l);u.L_.add(4),await gc(u),u.q_.set("Unknown"),u.L_.delete(4),await kp(u)}(this))})}),this.q_=new n6(r,i)}}async function kp(e){if(ka(e))for(const t of e.B_)await t(!0)}async function gc(e){for(const t of e.B_)await t(!1)}function WO(e,t){const n=oe(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Z_(n)?J_(n):Qs(n).r_()&&X_(n,t))}function Q_(e,t){const n=oe(e),r=Qs(n);n.N_.delete(t),r.r_()&&KO(n,t),n.N_.size===0&&(r.r_()?r.o_():ka(n)&&n.q_.set("Unknown"))}function X_(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ie.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Qs(e).A_(t)}function KO(e,t){e.Q_.xe(t),Qs(e).R_(t)}function J_(e){e.Q_=new iB({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Qs(e).start(),e.q_.v_()}function Z_(e){return ka(e)&&!Qs(e).n_()&&e.N_.size>0}function ka(e){return oe(e).L_.size===0}function HO(e){e.Q_=void 0}async function i6(e){e.q_.set("Online")}async function o6(e){e.N_.forEach((t,n)=>{X_(e,t)})}async function a6(e,t){HO(e),Z_(e)?(e.q_.M_(t),J_(e)):e.q_.set("Unknown")}async function s6(e,t,n){if(e.q_.set("Online"),t instanceof RO&&t.state===2&&t.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(e,t)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await nh(e,r)}else if(t instanceof fd?e.Q_.Ke(t):t instanceof OO?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ie.min()))try{const r=await FO(e.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Lt.EMPTY_BYTE_STRING,c.snapshotVersion)),KO(o,l);const d=new Zi(c.target,l,u,c.sequenceNumber);X_(o,d)}),o.remoteSyncer.applyRemoteEvent(s)}(e,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await nh(e,r)}}async function nh(e,t,n){if(!hc(t))throw t;e.L_.add(1),await gc(e),e.q_.set("Offline"),n||(n=()=>FO(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await kp(e)})}function qO(e,t){return t().catch(n=>nh(e,n,t))}async function Cp(e){const t=oe(e),n=_o(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;l6(t);)try{const i=await KB(t.localStore,r);if(i===null){t.O_.length===0&&n.o_();break}r=i.batchId,u6(t,i)}catch(i){await nh(t,i)}GO(t)&&YO(t)}function l6(e){return ka(e)&&e.O_.length<10}function u6(e,t){e.O_.push(t);const n=_o(e);n.r_()&&n.V_&&n.m_(t.mutations)}function GO(e){return ka(e)&&!_o(e).n_()&&e.O_.length>0}function YO(e){_o(e).start()}async function c6(e){_o(e).p_()}async function f6(e){const t=_o(e);for(const n of e.O_)t.m_(n.mutations)}async function d6(e,t,n){const r=e.O_.shift(),i=W_.from(r,t,n);await qO(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Cp(e)}async function h6(e,t){t&&_o(e).V_&&await async function(r,i){if(function(a){return tB(a)&&a!==$.ABORTED}(i.code)){const o=r.O_.shift();_o(r).s_(),await qO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Cp(r)}}(e,t),GO(e)&&YO(e)}async function RS(e,t){const n=oe(e);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=ka(n);n.L_.add(3),await gc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await kp(n)}async function p6(e,t){const n=oe(e);t?(n.L_.delete(2),await kp(n)):t||(n.L_.add(2),await gc(n),n.q_.set("Unknown"))}function Qs(e){return e.K_||(e.K_=function(n,r,i){const o=oe(n);return o.w_(),new ZB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Eo:i6.bind(null,e),Ro:o6.bind(null,e),mo:a6.bind(null,e),d_:s6.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),Z_(e)?J_(e):e.q_.set("Unknown")):(await e.K_.stop(),HO(e))})),e.K_}function _o(e){return e.U_||(e.U_=function(n,r,i){const o=oe(n);return o.w_(),new e6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:c6.bind(null,e),mo:h6.bind(null,e),f_:f6.bind(null,e),g_:d6.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Cp(e)):(await e.U_.stop(),e.O_.length>0&&(Q("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const a=Date.now()+r,s=new ew(t,n,a,i,o);return s.start(r),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tw(e,t){if(pi("AsyncQueue",`${t}: ${e}`),hc(e))return new q($.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t){this.comparator=t?(n,r)=>t(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Wl(),this.sortedSet=new We(this.comparator)}static emptySet(t){return new ds(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ds)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ds;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.W_=new We(te.comparator)}track(t){const n=t.doc.key,r=this.W_.get(n);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(n,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(n):t.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):re():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Cs{constructor(t,n,r,i,o,a,s,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Cs(t,n,ds.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class g6{constructor(){this.queries=DS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=oe(n),o=i.queries;i.queries=DS(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new q($.ABORTED,"Firestore shutting down"))}}function DS(){return new Ys(e=>yO(e),Pp)}async function QO(e,t){const n=oe(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new m6,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=tw(a,`Initialization of query '${za(t.query)}' failed`);return void t.onError(s)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&nw(n)}async function XO(e,t){const n=oe(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(t);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function v6(e,t){const n=oe(e);let r=!1;for(const i of t){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&nw(n)}function y6(e,t,n){const r=oe(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function nw(e){e.Y_.forEach(t=>{t.next()})}var xy,MS;(MS=xy||(xy={})).ea="default",MS.Cache="cache";class JO{constructor(t,n,r){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Cs(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=Cs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==xy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(t){this.key=t}}class eR{constructor(t){this.key=t}}class _6{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=_O(t),this.Ra=new ds(this.Aa)}get Va(){return this.Ta}ma(t,n){const r=n?n.fa:new NS,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),p=Sp(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),y=!0):this.ga(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||u)&&(s=!0)),y&&(p?(a=a.add(p),o=_?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const a=t.fa.G_();a.sort((c,d)=>function(p,g){const _=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return _(p)-_(g)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Cs(this.query,t.Ra,o,a,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new NS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return t.forEach(r=>{this.da.has(r)||n.push(new eR(r))}),this.da.forEach(r=>{t.has(r)||n.push(new ZO(r))}),n}ba(t){this.Ta=t.Ts,this.da=pe();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return Cs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class w6{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class E6{constructor(t){this.key=t,this.va=!1}}class b6{constructor(t,n,r,i,o,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ys(s=>yO(s),Pp),this.Ma=new Map,this.xa=new Set,this.Oa=new We(te.comparator),this.Na=new Map,this.La=new q_,this.Ba={},this.ka=new Map,this.qa=ks.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function P6(e,t,n=!0){const r=aR(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await tR(r,t,n,!0),i}async function S6(e,t){const n=aR(e);await tR(n,t,!0,!1)}async function tR(e,t,n,r){const i=await HB(e.localStore,Rr(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await T6(e,t,o,a==="current",i.resumeToken)),e.isPrimaryClient&&n&&WO(e.remoteStore,i),s}async function T6(e,t,n,r,i){e.Ka=(d,h,p)=>async function(_,y,w,b){let P=y.view.ma(w);P.ns&&(P=await kS(_.localStore,y.query,!1).then(({documents:T})=>y.view.ma(T,P)));const k=b&&b.targetChanges.get(y.targetId),O=b&&b.targetMismatches.get(y.targetId)!=null,M=y.view.applyChanges(P,_.isPrimaryClient,k,O);return jS(_,y.targetId,M.wa),M.snapshot}(e,d,h,p);const o=await kS(e.localStore,t,!0),a=new _6(t,o.Ts),s=a.ma(o.documents),l=mc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=a.applyChanges(s,e.isPrimaryClient,l);jS(e,n,u.wa);const c=new w6(t,n,a);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function x6(e,t,n){const r=oe(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!Pp(a,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ty(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Q_(r.remoteStore,i.targetId),Ay(r,i.targetId)}).catch(dc)):(Ay(r,i.targetId),await Ty(r.localStore,i.targetId,!0))}async function A6(e,t){const n=oe(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Q_(n.remoteStore,r.targetId))}async function I6(e,t,n){const r=M6(e);try{const i=await function(a,s){const l=oe(a),u=ct.now(),c=s.reduce((p,g)=>p.add(g.key),pe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=mi(),_=pe();return l.cs.getEntries(p,c).next(y=>{g=y,g.forEach((w,b)=>{b.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(y=>{d=y;const w=[];for(const b of s){const P=Qz(b,d.get(b.key).overlayedDocument);P!=null&&w.push(new ko(b.key,P,cO(P.value.mapValue),Xn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,s)}).next(y=>{h=y;const w=y.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:h.batchId,changes:EO(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new We(_e)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await vc(r,i.changes),await Cp(r.remoteStore)}catch(i){const o=tw(i,"Failed to persist write");n.reject(o)}}async function nR(e,t){const n=oe(e);try{const r=await BB(n.localStore,t);t.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Te(a.va):i.removedDocuments.size>0&&(Te(a.va),a.va=!1))}),await vc(n,r,t)}catch(r){await dc(r)}}function LS(e,t,n){const r=oe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(t);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=oe(a);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(s)&&(u=!0)}),u&&nw(l)}(r.eventManager,t),i.length&&r.Ca.d_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function k6(e,t,n){const r=oe(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let a=new We(te.comparator);a=a.insert(o,Gt.newNoDocument(o,ie.min()));const s=pe().add(o),l=new Ap(ie.min(),new Map,new We(_e),a,s);await nR(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(t),rw(r)}else await Ty(r.localStore,t,!1).then(()=>Ay(r,t,n)).catch(dc)}async function C6(e,t){const n=oe(e),r=t.batch.batchId;try{const i=await zB(n.localStore,t);iR(n,r,null),rR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vc(n,i)}catch(i){await dc(i)}}async function O6(e,t,n){const r=oe(e);try{const i=await function(a,s){const l=oe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(Te(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);iR(r,t,n),rR(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await vc(r,i)}catch(i){await dc(i)}}function rR(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function iR(e,t,n){const r=oe(e);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Ay(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(r=>{e.La.containsKey(r)||oR(e,r)})}function oR(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(Q_(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),rw(e))}function jS(e,t,n){for(const r of n)r instanceof ZO?(e.La.addReference(r.key,t),R6(e,r)):r instanceof eR?(Q("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||oR(e,r.key)):re()}function R6(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Q("SyncEngine","New document in limbo: "+n),e.xa.add(r),rw(e))}function rw(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new te(Me.fromString(t)),r=e.qa.next();e.Na.set(r,new E6(n)),e.Oa=e.Oa.insert(n,r),WO(e.remoteStore,new Zi(Rr(F_(n.path)),r,"TargetPurposeLimboResolution",M_.oe))}}async function vc(e,t,n){const r=oe(e),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=Y_.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=oe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(u,h=>F.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>F.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!hc(d))throw d;Q("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.os.get(h),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(h,_)}}}(r.localStore,o))}async function N6(e,t){const n=oe(e);if(!n.currentUser.isEqual(t)){Q("SyncEngine","User change. New user:",t.toKey());const r=await UO(n.localStore,t);n.currentUser=t,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new q($.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await vc(n,r.hs)}}function D6(e,t){const n=oe(e),r=n.Na.get(t);if(r&&r.va)return pe().add(r.key);{let i=pe();const o=n.Ma.get(t);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function aR(e){const t=oe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=nR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=D6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=k6.bind(null,t),t.Ca.d_=v6.bind(null,t.eventManager),t.Ca.$a=y6.bind(null,t.eventManager),t}function M6(e){const t=oe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=C6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=O6.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ip(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return FB(this.persistence,new $B,t.initialUser,this.serializer)}Ga(t){return new LB(G_.Zr,this.serializer)}Wa(t){return new GB}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class Iy{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=N6.bind(null,this.syncEngine),await p6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new g6}()}createDatastore(t){const n=Ip(t.databaseInfo.databaseId),r=function(o){return new JB(o)}(t.databaseInfo);return function(o,a,s,l){return new t6(o,a,s,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,a,s){return new r6(r,i,o,a,s)}(this.localStore,this.datastore,t.asyncQueue,n=>LS(this.syncEngine,n,0),function(){return OS.D()?new OS:new YB}())}createSyncEngine(t,n){return function(i,o,a,s,l,u,c){const d=new b6(i,o,a,s,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const o=oe(i);Q("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await gc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Iy.provider={build:()=>new Iy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):pi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=sO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{Q("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Q("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=tw(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Vg(e,t){e.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UO(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function VS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await j6(e);Q("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>RS(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>RS(t.remoteStore,i)),e._onlineComponents=t}async function j6(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ts("Error using user provided cache. Falling back to memory cache: "+n),await Vg(e,new rh)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Vg(e,new rh);return e._offlineComponents}async function lR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await VS(e,e._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await VS(e,new Iy))),e._onlineComponents}function V6(e){return lR(e).then(t=>t.syncEngine)}async function uR(e){const t=await lR(e),n=t.eventManager;return n.onListen=P6.bind(null,t.syncEngine),n.onUnlisten=x6.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=S6.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=A6.bind(null,t.syncEngine),n}function $6(e,t,n={}){const r=new ai;return e.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new sR({next:h=>{c.Za(),a.enqueueAndForget(()=>XO(o,d));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new q($.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new q($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new JO(F_(s.path),c,{includeMetadataChanges:!0,_a:!0});return QO(o,d)}(await uR(e),e.asyncQueue,t,n,r)),r.promise}function U6(e,t,n={}){const r=new ai;return e.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new sR({next:h=>{c.Za(),a.enqueueAndForget(()=>XO(o,d)),h.fromCache&&l.source==="server"?u.reject(new q($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new JO(s,c,{includeMetadataChanges:!0,_a:!0});return QO(o,d)}(await uR(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(e,t,n){if(!n)throw new q($.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function F6(e,t,n,r){if(t===!0&&r===!0)throw new q($.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function US(e){if(!te.isDocumentKey(e))throw new q($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function FS(e){if(te.isDocumentKey(e))throw new q($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Op(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":re()}function yr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Op(e);throw new q($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new q($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new q($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}F6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cR((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rp{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new q($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zS(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iz;switch(r.type){case"firstParty":return new lz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$S.get(n);r&&(Q("ComponentProvider","Removing Datastore"),$S.delete(n),r.terminate())}(this),Promise.resolve()}}function z6(e,t,n,r={}){var i;const o=(e=yr(e,Rp))._getSettings(),a=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=Ht.MOCK_USER;else{s=GC(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new q($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ht(u)}e._authCredentials=new oz(new aO(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ca(this.firestore,t,this._query)}}class un{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new un(this.firestore,t,this._key)}}class fo extends Ca{constructor(t,n,r){super(t,n,F_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new un(this.firestore,null,new te(t))}withConverter(t){return new fo(this.firestore,t,this._path)}}function Np(e,t,...n){if(e=qe(e),fR("collection","path",t),e instanceof Rp){const r=Me.fromString(t,...n);return FS(r),new fo(e,null,r)}{if(!(e instanceof un||e instanceof fo))throw new q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Me.fromString(t,...n));return FS(r),new fo(e.firestore,null,r)}}function ga(e,t,...n){if(e=qe(e),arguments.length===1&&(t=sO.newId()),fR("doc","path",t),e instanceof Rp){const r=Me.fromString(t,...n);return US(r),new un(e,null,new te(r))}{if(!(e instanceof un||e instanceof fo))throw new q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Me.fromString(t,...n));return US(r),new un(e.firestore,e instanceof fo?e.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zO(this,"async_queue_retry"),this.Vu=()=>{const r=jg();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const n=jg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=jg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ai;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!hc(t))throw t;Q("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw pi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(t,n,r){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const i=ew.createAndSchedule(this,t,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&re()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}class Oa extends Rp{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new BS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new BS(t),this._firestoreClient=void 0,await t}}}function B6(e,t){const n=typeof e=="object"?e:Ep(),r=typeof e=="string"?e:t||"(default)",i=wp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=KC("firestore");o&&z6(i,...o)}return i}function iw(e){if(e._terminated)throw new q($.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||W6(e),e._firestoreClient}function W6(e){var t,n,r;const i=e._freezeSettings(),o=function(s,l,u,c){return new Ez(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,cR(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new L6(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Os(Lt.fromBase64String(t))}catch(n){throw new q($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Os(Lt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return _e(this._lat,t._lat)||_e(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=/^__.*__$/;class H6{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ko(t,this.data,this.fieldMask,n,this.fieldTransforms):new pc(t,this.data,n,this.fieldTransforms)}}class dR{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new ko(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function hR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class sw{constructor(t,n,r,i,o,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new sw(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.Ou(t),i}Nu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return ih(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(hR(this.Cu)&&K6.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class q6{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ip(t)}Qu(t,n,r,i=!1){return new sw({Cu:t,methodName:n,qu:r,path:Ct.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lp(e){const t=e._freezeSettings(),n=Ip(e._databaseId);return new q6(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pR(e,t,n,r,i,o={}){const a=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);uw("Data must be an object, but it was:",a,r);const s=mR(r,a);let l,u;if(o.merge)l=new On(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=ky(t,d,n);if(!a.contains(h))throw new q($.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);vR(c,h)||c.push(h)}l=new On(c),u=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=a.fieldTransforms;return new H6(new vn(s),l,u)}class jp extends Mp{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jp}}class lw extends Mp{_toFieldTransform(t){return new Hz(t.path,new Vu)}isEqual(t){return t instanceof lw}}function G6(e,t,n,r){const i=e.Qu(1,t,n);uw("Data must be an object, but it was:",i,r);const o=[],a=vn.empty();Ia(r,(l,u)=>{const c=cw(t,l,n);u=qe(u);const d=i.Nu(c);if(u instanceof jp)o.push(c);else{const h=yc(u,d);h!=null&&(o.push(c),a.set(c,h))}});const s=new On(o);return new dR(a,s,i.fieldTransforms)}function Y6(e,t,n,r,i,o){const a=e.Qu(1,t,n),s=[ky(t,r,n)],l=[i];if(o.length%2!=0)throw new q($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(ky(t,o[h])),l.push(o[h+1]);const u=[],c=vn.empty();for(let h=s.length-1;h>=0;--h)if(!vR(u,s[h])){const p=s[h];let g=l[h];g=qe(g);const _=a.Nu(p);if(g instanceof jp)u.push(p);else{const y=yc(g,_);y!=null&&(u.push(p),c.set(p,y))}}const d=new On(u);return new dR(c,d,a.fieldTransforms)}function Q6(e,t,n,r=!1){return yc(n,e.Qu(r?4:3,t))}function yc(e,t){if(gR(e=qe(e)))return uw("Unsupported field value:",t,e),mR(e,t);if(e instanceof Mp)return function(r,i){if(!hR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=yc(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Bz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ct.fromDate(r);return{timestampValue:th(i.serializer,o)}}if(r instanceof ct){const o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:th(i.serializer,o)}}if(r instanceof ow)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Os)return{bytesValue:NO(i.serializer,r._byteString)};if(r instanceof un){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:H_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof aw)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return z_(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Op(r)}`)}(e,t)}function mR(e,t){const n={};return lO(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ia(e,(r,i)=>{const o=yc(i,t.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function gR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ct||e instanceof ow||e instanceof Os||e instanceof un||e instanceof Mp||e instanceof aw)}function uw(e,t,n){if(!gR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Op(n);throw r==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function ky(e,t,n){if((t=qe(t))instanceof Dp)return t._internalPath;if(typeof t=="string")return cw(e,t);throw ih("Field path arguments must be of type string or ",e,!1,void 0,n)}const X6=new RegExp("[~\\*/\\[\\]]");function cw(e,t,n){if(t.search(X6)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Dp(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ih(e,t,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new q($.INVALID_ARGUMENT,s+e+l)}function vR(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new J6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Vp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J6 extends yR{data(){return super.data()}}function Vp(e,t){return typeof t=="string"?cw(e,t):t instanceof Dp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fw{}class _R extends fw{}function wR(e,t,...n){let r=[];t instanceof fw&&r.push(t),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof dw).length,s=o.filter(l=>l instanceof $p).length;if(a>1||a>0&&s>0)throw new q($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class $p extends _R{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new $p(t,n,r)}_apply(t){const n=this._parse(t);return ER(t._query,n),new Ca(t.firestore,t.converter,_y(t._query,n))}_parse(t){const n=Lp(t.firestore);return function(o,a,s,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new q($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){KS(d,c);const p=[];for(const g of d)p.push(WS(l,o,g));h={arrayValue:{values:p}}}else h=WS(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||KS(d,c),h=Q6(s,a,d,c==="in"||c==="not-in");return it.create(u,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function e5(e,t,n){const r=t,i=Vp("where",e);return $p._create(i,r,n)}class dw extends fw{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new dw(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)ER(a,l),a=_y(a,l)}(t._query,n),new Ca(t.firestore,t.converter,_y(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hw extends _R{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new hw(t,n)}_apply(t){const n=function(i,o,a){if(i.startAt!==null)throw new q($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ju(o,a)}(t._query,this._field,this._direction);return new Ca(t.firestore,t.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new Gs(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function t5(e,t="asc"){const n=t,r=Vp("orderBy",e);return hw._create(r,n)}function WS(e,t,n){if(typeof(n=qe(n))=="string"){if(n==="")throw new q($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vO(t)&&n.indexOf("/")!==-1)throw new q($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Me.fromString(n));if(!te.isDocumentKey(r))throw new q($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dS(e,new te(r))}if(n instanceof un)return dS(e,n._key);throw new q($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Op(n)}.`)}function KS(e,t){if(!Array.isArray(e)||e.length===0)throw new q($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ER(e,t){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new q($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new q($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class n5{convertValue(t,n="none"){switch(ma(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(pa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw re()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ia(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(t){var n,r,i;const o=(i=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Je(a.doubleValue));return new aw(o)}convertGeoPoint(t){return new ow(Je(t.latitude),Je(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=j_(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Du(t));default:return null}}convertTimestamp(t){const n=yo(t);return new ct(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Me.fromString(t);Te($O(r));const i=new Mu(r.get(1),r.get(3)),o=new te(r.popFirst(5));return i.isEqual(n)||pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class PR extends yR{constructor(t,n,r,i,o,a){super(t,n,r,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Vp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dd extends PR{data(t={}){return super.data(t)}}class r5{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new dd(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new dd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Hl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new dd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Hl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:i5(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function i5(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(e){e=yr(e,un);const t=yr(e.firestore,Oa);return $6(iw(t),e._key).then(n=>s5(t,e,n))}class SR extends n5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Os(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new un(this.firestore,null,n)}}function mw(e){e=yr(e,Ca);const t=yr(e.firestore,Oa),n=iw(t),r=new SR(t);return Z6(e._query),U6(n,e._query).then(i=>new r5(t,r,e,i))}function HS(e,t,n){e=yr(e,un);const r=yr(e.firestore,Oa),i=bR(e.converter,t,n);return Up(r,[pR(Lp(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Xn.none())])}function o5(e,t,n,...r){e=yr(e,un);const i=yr(e.firestore,Oa),o=Lp(i);let a;return a=typeof(t=qe(t))=="string"||t instanceof Dp?Y6(o,"updateDoc",e._key,t,n,r):G6(o,"updateDoc",e._key,t),Up(i,[a.toMutation(e._key,Xn.exists(!0))])}function a5(e){return Up(yr(e.firestore,Oa),[new B_(e._key,Xn.none())])}function TR(e,t){const n=yr(e.firestore,Oa),r=ga(e),i=bR(e.converter,t);return Up(n,[pR(Lp(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function Up(e,t){return function(r,i){const o=new ai;return r.asyncQueue.enqueueAndForget(async()=>I6(await V6(r),i,o)),o.promise}(iw(e),t)}function s5(e,t,n){const r=n.docs.get(t._key),i=new SR(e);return new PR(e,i,t._key,r,new Hl(n.hasPendingWrites,n.fromCache),t.converter)}function l5(){return new lw("serverTimestamp")}(function(t,n=!0){(function(i){qs=i})(Aa),da(new go("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Oa(new az(r.getProvider("auth-internal")),new cz(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Or(sS,"4.7.3",t),Or(sS,"4.7.3","esm2017")})();function gw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function xR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u5=xR,AR=new cc("auth","Firebase",xR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new R_("@firebase/auth");function c5(e,...t){oh.logLevel<=me.WARN&&oh.warn(`Auth (${Aa}): ${e}`,...t)}function hd(e,...t){oh.logLevel<=me.ERROR&&oh.error(`Auth (${Aa}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(e,...t){throw yw(e,...t)}function pr(e,...t){return yw(e,...t)}function vw(e,t,n){const r=Object.assign(Object.assign({},u5()),{[t]:n});return new cc("auth","Firebase",r).create(t,{appName:e.name})}function Dr(e){return vw(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IR(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&er(e,"argument-error"),vw(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yw(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return AR.create(e,...t)}function ne(e,t,...n){if(!e)throw yw(t,...n)}function ei(e){const t="INTERNAL ASSERTION FAILED: "+e;throw hd(t),new Error(t)}function gi(e,t){e||ei(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function f5(){return qS()==="http:"||qS()==="https:"}function qS(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f5()||MF()||"connection"in navigator)?navigator.onLine:!0}function h5(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,n){this.shortDelay=t,this.longDelay=n,gi(n>t,"Short delay should be less than long delay!"),this.isMobile=RF()||LF()}get(){return d5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(e,t){gi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=new _c(3e4,6e4);function Co(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Oo(e,t,n,r,i={}){return CR(e,i,async()=>{let o={},a={};r&&(t==="GET"?a=r:o={body:JSON.stringify(r)});const s=fc(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},o);return DF()||(u.referrerPolicy="no-referrer"),kR.fetch()(OR(e,e.config.apiHost,n,s),u)})}async function CR(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},p5),t);try{const i=new v5(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Cf(e,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cf(e,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Cf(e,"email-already-in-use",a);if(l==="USER_DISABLED")throw Cf(e,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw vw(e,c,u);er(e,c)}}catch(i){if(i instanceof Br)throw i;er(e,"network-request-failed",{message:String(i)})}}async function wc(e,t,n,r,i={}){const o=await Oo(e,t,n,r,i);return"mfaPendingCredential"in o&&er(e,"multi-factor-auth-required",{_serverResponse:o}),o}function OR(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?_w(e.config,i):`${e.config.apiScheme}://${i}`}function g5(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class v5{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),m5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cf(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pr(e,t,r);return i.customData._tokenResponse=n,i}function GS(e){return e!==void 0&&e.enterprise!==void 0}class y5{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return g5(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function _5(e,t){return Oo(e,"GET","/v2/recaptchaConfig",Co(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(e,t){return Oo(e,"POST","/v1/accounts:delete",t)}async function RR(e,t){return Oo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function E5(e,t=!1){const n=qe(e),r=await n.getIdToken(t),i=ww(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:lu($g(i.auth_time)),issuedAtTime:lu($g(i.iat)),expirationTime:lu($g(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function $g(e){return Number(e)*1e3}function ww(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return hd("JWT malformed, contained fewer than 3 sections"),null;try{const i=BC(n);return i?JSON.parse(i):(hd("Failed to decode base64 JWT payload"),null)}catch(i){return hd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function YS(e){const t=ww(e);return ne(t,"internal-error"),ne(typeof t.exp<"u","internal-error"),ne(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Br&&b5(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function b5({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Fu(e,RR(n,{idToken:r}));ne(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?NR(o.providerUserInfo):[],s=T5(e.providerData,a),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Oy(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function S5(e){const t=qe(e);await ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function T5(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function NR(e){return e.map(t=>{var{providerId:n}=t,r=gw(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(e,t){const n=await CR(e,{},async()=>{const r=fc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,a=OR(e,i,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",kR.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function A5(e,t){return Oo(e,"POST","/v2/accounts:revokeToken",Co(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ne(t.idToken,"internal-error"),ne(typeof t.idToken<"u","internal-error"),ne(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):YS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ne(t.length!==0,"internal-error");const n=YS(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await x5(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new hs;return r&&(ne(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),o&&(ne(typeof o=="number","internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new hs,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(e,t){ne(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ti{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=gw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new P5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Oy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Fu(this,this.stsTokenManager.getToken(this.auth,t));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return E5(this,t)}reload(){return S5(this)}_assign(t){this!==t&&(ne(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ti(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Dr(this.auth));const t=await this.getIdToken();return await Fu(this,w5(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,a,s,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,_=(s=n.tenantId)!==null&&s!==void 0?s:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:P,emailVerified:k,isAnonymous:O,providerData:M,stsTokenManager:T}=n;ne(P&&T,t,"internal-error");const S=hs.fromJSON(this.name,T);ne(typeof P=="string",t,"internal-error"),Vi(d,t.name),Vi(h,t.name),ne(typeof k=="boolean",t,"internal-error"),ne(typeof O=="boolean",t,"internal-error"),Vi(p,t.name),Vi(g,t.name),Vi(_,t.name),Vi(y,t.name),Vi(w,t.name),Vi(b,t.name);const I=new ti({uid:P,auth:t,email:h,emailVerified:k,displayName:d,isAnonymous:O,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:S,createdAt:w,lastLoginAt:b});return M&&Array.isArray(M)&&(I.providerData=M.map(R=>Object.assign({},R))),y&&(I._redirectEventId=y),I}static async _fromIdTokenResponse(t,n,r=!1){const i=new hs;i.updateFromServerResponse(n);const o=new ti({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await ah(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];ne(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?NR(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new hs;s.updateFromIdToken(r);const l=new ti({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Oy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=new Map;function ni(e){gi(e instanceof Function,"Expected a class definition");let t=QS.get(e);return t?(gi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,QS.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}DR.type="NONE";const XS=DR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(e,t,n){return`firebase:${e}:${t}:${n}`}class ps{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=pd(this.userKey,i.apiKey,o),this.fullPersistenceKey=pd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ti._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ps(ni(XS),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ni(XS);const a=pd(r,t.config.apiKey,t.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const d=ti._fromJSON(t,c);u!==o&&(s=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ps(o,t,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new ps(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(VR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(MR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(UR(t))return"Blackberry";if(FR(t))return"Webos";if(LR(t))return"Safari";if((t.includes("chrome/")||jR(t))&&!t.includes("edge/"))return"Chrome";if($R(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MR(e=Jt()){return/firefox\//i.test(e)}function LR(e=Jt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jR(e=Jt()){return/crios\//i.test(e)}function VR(e=Jt()){return/iemobile/i.test(e)}function $R(e=Jt()){return/android/i.test(e)}function UR(e=Jt()){return/blackberry/i.test(e)}function FR(e=Jt()){return/webos/i.test(e)}function Ew(e=Jt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function I5(e=Jt()){var t;return Ew(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function k5(){return jF()&&document.documentMode===10}function zR(e=Jt()){return Ew(e)||$R(e)||FR(e)||UR(e)||/windows phone/i.test(e)||VR(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(e,t=[]){let n;switch(e){case"Browser":n=JS(Jt());break;case"Worker":n=`${JS(Jt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Aa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((a,s)=>{try{const l=t(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(e,t={}){return Oo(e,"GET","/v2/passwordPolicy",Co(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=6;class N5{constructor(t){var n,r,i,o;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:R5,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZS(this),this.idTokenSubscription=new ZS(this),this.beforeStateQueue=new C5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ps.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await RR(this,{idToken:t}),r=await ti._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(qn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ah(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=h5()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qn(this.app))return Promise.reject(Dr(this));const n=t?qe(t):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ne(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qn(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await O5(this),n=new N5(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new cc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await A5(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ni(t)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await ps.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=t.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=BR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&c5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function xi(e){return qe(e)}class ZS{constructor(t){this.auth=t,this.observer=null,this.addObserver=KF(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M5(e){Fp=e}function WR(e){return Fp.loadJS(e)}function L5(){return Fp.recaptchaEnterpriseScript}function j5(){return Fp.gapiScript}function V5(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const $5="recaptcha-enterprise",U5="NO_RECAPTCHA";class F5{constructor(t){this.type=$5,this.auth=xi(t)}async verify(t="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{_5(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new y5(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;GS(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:t}).then(u=>{a(u)}).catch(()=>{a(U5)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&GS(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=L5();l.length!==0&&(l+=s),WR(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function eT(e,t,n,r=!1){const i=new F5(e);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ry(e,t,n,r){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await eT(e,t,n,n==="getOobCode");return r(e,o)}else return r(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await eT(e,t,n,n==="getOobCode");return r(e,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(e,t){const n=wp(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Xd(o,t??{}))return i;er(i,"already-initialized")}return n.initialize({options:t})}function B5(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function W5(e,t,n){const r=xi(e);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=KR(t),{host:a,port:s}=K5(t),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||H5()}function KR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function K5(e){const t=KR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:tT(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:tT(a)}}}function tT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function H5(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(t){return ei("not implemented")}_linkToIdToken(t,n){return ei("not implemented")}_getReauthenticationResolver(t){return ei("not implemented")}}async function q5(e,t){return Oo(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(e,t){return wc(e,"POST","/v1/accounts:signInWithPassword",Co(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(e,t){return wc(e,"POST","/v1/accounts:signInWithEmailLink",Co(e,t))}async function Q5(e,t){return wc(e,"POST","/v1/accounts:signInWithEmailLink",Co(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends bw{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new zu(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new zu(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ry(t,n,"signInWithPassword",G5);case"emailLink":return Y5(t,{email:this._email,oobCode:this._password});default:er(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ry(t,r,"signUpPassword",q5);case"emailLink":return Q5(t,{idToken:n,email:this._email,oobCode:this._password});default:er(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ms(e,t){return wc(e,"POST","/v1/accounts:signInWithIdp",Co(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="http://localhost";class va extends bw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new va(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=gw(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new va(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return ms(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,ms(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ms(t,n)}buildRequest(){const t={requestUri:X5,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=fc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z5(e){const t=Fl(zl(e)).link,n=t?Fl(zl(t)).deep_link_id:null,r=Fl(zl(e)).deep_link_id;return(r?Fl(zl(r)).link:null)||r||n||t||e}class Pw{constructor(t){var n,r,i,o,a,s;const l=Fl(zl(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=J5((i=l.mode)!==null&&i!==void 0?i:null);ne(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(t){const n=Z5(t);try{return new Pw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(){this.providerId=Xs.PROVIDER_ID}static credential(t,n){return zu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=Pw.parseLink(n);return ne(r,"argument-error"),zu._fromEmailAndCode(t,r.code,r.tenantId)}}Xs.PROVIDER_ID="password";Xs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends zp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Ec{constructor(){super("facebook.com")}static credential(t){return va._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ki.credentialFromTaggedObject(t)}static credentialFromError(t){return Ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ki.credential(t.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return va._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Yr.credential(n,r)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Ec{constructor(){super("github.com")}static credential(t){return va._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hi.credentialFromTaggedObject(t)}static credentialFromError(t){return Hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hi.credential(t.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Ec{constructor(){super("twitter.com")}static credential(t,n){return va._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return qi.credentialFromTaggedObject(t)}static credentialFromError(t){return qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return qi.credential(n,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e9(e,t){return wc(e,"POST","/v1/accounts:signUp",Co(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await ti._fromIdTokenResponse(t,r,i),a=nT(r);return new ya({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=nT(r);return new ya({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function nT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends Br{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new sh(t,n,r,i)}}function HR(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(e,o,t,r):o})}async function t9(e,t,n=!1){const r=await Fu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ya._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(e,t,n=!1){const{auth:r}=e;if(qn(r.app))return Promise.reject(Dr(r));const i="reauthenticate";try{const o=await Fu(e,HR(r,i,t,e),n);ne(o.idToken,r,"internal-error");const a=ww(o.idToken);ne(a,r,"internal-error");const{sub:s}=a;return ne(e.uid===s,r,"user-mismatch"),ya._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&er(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(e,t,n=!1){if(qn(e.app))return Promise.reject(Dr(e));const r="signIn",i=await HR(e,r,t),o=await ya._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function r9(e,t){return qR(xi(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(e){const t=xi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function i9(e,t,n){if(qn(e.app))return Promise.reject(Dr(e));const r=xi(e),a=await Ry(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e9).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&GR(e),l}),s=await ya._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function o9(e,t,n){return qn(e.app)?Promise.reject(Dr(e)):r9(qe(e),Xs.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GR(e),r})}function a9(e,t,n,r){return qe(e).onIdTokenChanged(t,n,r)}function s9(e,t,n){return qe(e).beforeAuthStateChanged(t,n)}function l9(e,t,n,r){return qe(e).onAuthStateChanged(t,n,r)}function u9(e){return qe(e).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=1e3,f9=10;class QR extends YR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);k5()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,f9):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},c9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}QR.type="LOCAL";const d9=QR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR extends YR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}XR.type="SESSION";const JR=XR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Bp(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await h9(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=Sw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function m9(e){Mr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function g9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v9(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function y9(){return ZR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="firebaseLocalStorageDb",_9=1,uh="firebaseLocalStorage",tN="fbase_key";class bc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wp(e,t){return e.transaction([uh],t?"readwrite":"readonly").objectStore(uh)}function w9(){const e=indexedDB.deleteDatabase(eN);return new bc(e).toPromise()}function Ny(){const e=indexedDB.open(eN,_9);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(uh,{keyPath:tN})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(uh)?t(r):(r.close(),await w9(),t(await Ny()))})})}async function rT(e,t,n){const r=Wp(e,!0).put({[tN]:t,value:n});return new bc(r).toPromise()}async function E9(e,t){const n=Wp(e,!1).get(t),r=await new bc(n).toPromise();return r===void 0?null:r.value}function iT(e,t){const n=Wp(e,!0).delete(t);return new bc(n).toPromise()}const b9=800,P9=3;class nN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ny(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>P9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bp._getInstance(y9()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await g9(),!this.activeServiceWorker)return;this.sender=new p9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||v9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ny();return await rT(t,lh,"1"),await iT(t,lh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rT(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>E9(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>iT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=Wp(i,!1).getAll();return new bc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nN.type="LOCAL";const S9=nN;new _c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(e,t){return t?ni(t):(ne(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends bw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ms(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ms(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ms(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function T9(e){return qR(e.auth,new xw(e),e.bypassAuthState)}function x9(e){const{auth:t,user:n}=e;return ne(n,t,"internal-error"),n9(n,new xw(e),e.bypassAuthState)}async function A9(e){const{auth:t,user:n}=e;return ne(n,t,"internal-error"),t9(n,new xw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return T9;case"linkViaPopup":case"linkViaRedirect":return A9;case"reauthViaPopup":case"reauthViaRedirect":return x9;default:er(this.auth,"internal-error")}}resolve(t){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=new _c(2e3,1e4);async function k9(e,t,n){if(qn(e.app))return Promise.reject(pr(e,"operation-not-supported-in-this-environment"));const r=xi(e);IR(e,t,zp);const i=Tw(r,n);return new Qo(r,"signInViaPopup",t,i).executeNotNull()}class Qo extends rN{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ne(t,this.auth,"internal-error"),t}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const t=Sw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,I9.get())};t()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="pendingRedirect",md=new Map;class O9 extends rN{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=md.get(this.auth._key());if(!t){try{const r=await R9(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}md.set(this.auth._key(),t)}return this.bypassAuthState||md.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function R9(e,t){const n=oN(t),r=iN(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function N9(e,t){return iN(e)._set(oN(t),"true")}function D9(e,t){md.set(e._key(),t)}function iN(e){return ni(e._redirectPersistence)}function oN(e){return pd(C9,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(e,t,n){return L9(e,t,n)}async function L9(e,t,n){if(qn(e.app))return Promise.reject(Dr(e));const r=xi(e);IR(e,t,zp),await r._initializationPromise;const i=Tw(r,n);return await N9(i,r),i._openRedirect(r,t,"signInViaRedirect")}async function j9(e,t,n=!1){if(qn(e.app))return Promise.reject(Dr(e));const r=xi(e),i=Tw(r,t),a=await new O9(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=10*60*1e3;class $9{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!U9(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!aN(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=V9&&this.cachedEventUids.clear(),this.cachedEventUids.has(oT(t))}saveEventToCache(t){this.cachedEventUids.add(oT(t)),this.lastProcessedEventTime=Date.now()}}function oT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function aN({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function U9(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aN(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(e,t={}){return Oo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B9=/^https?/;async function W9(e){if(e.config.emulator)return;const{authorizedDomains:t}=await F9(e);for(const n of t)try{if(K9(n))return}catch{}er(e,"unauthorized-domain")}function K9(e){const t=Cy(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!B9.test(n))return!1;if(z9.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new _c(3e4,6e4);function aT(){const e=Mr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function q9(e){return new Promise((t,n)=>{var r,i,o;function a(){aT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{aT(),n(pr(e,"network-request-failed"))},timeout:H9.get()})}if(!((i=(r=Mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=Mr().gapi)===null||o===void 0)&&o.load)a();else{const s=V5("iframefcb");return Mr()[s]=()=>{gapi.load?a():n(pr(e,"network-request-failed"))},WR(`${j5()}?onload=${s}`).catch(l=>n(l))}}).catch(t=>{throw gd=null,t})}let gd=null;function G9(e){return gd=gd||q9(e),gd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new _c(5e3,15e3),Q9="__/auth/iframe",X9="emulator/auth/iframe",J9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eW(e){const t=e.config;ne(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_w(t,X9):`https://${e.config.authDomain}/${Q9}`,r={apiKey:t.apiKey,appName:e.name,v:Aa},i=Z9.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${fc(r).slice(1)}`}async function tW(e){const t=await G9(e),n=Mr().gapi;return ne(n,e,"internal-error"),t.open({where:document.body,url:eW(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=pr(e,"network-request-failed"),s=Mr().setTimeout(()=>{o(a)},Y9.get());function l(){Mr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rW=500,iW=600,oW="_blank",aW="http://localhost";class sT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sW(e,t,n,r=rW,i=iW){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},nW),{width:r.toString(),height:i.toString(),top:o,left:a}),u=Jt().toLowerCase();n&&(s=jR(u)?oW:n),MR(u)&&(t=t||aW,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(I5(u)&&s!=="_self")return lW(t||"",s),new sT(null);const d=window.open(t||"",s,c);ne(d,e,"popup-blocked");try{d.focus()}catch{}return new sT(d)}function lW(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW="__/auth/handler",cW="emulator/auth/handler",fW=encodeURIComponent("fac");async function lT(e,t,n,r,i,o){ne(e.config.authDomain,e,"auth-domain-config-required"),ne(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Aa,eventId:i};if(t instanceof zp){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",WF(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))a[c]=d}if(t instanceof Ec){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await e._getAppCheckToken(),u=l?`#${fW}=${encodeURIComponent(l)}`:"";return`${dW(e)}?${fc(s).slice(1)}${u}`}function dW({config:e}){return e.emulator?_w(e,cW):`https://${e.authDomain}/${uW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="webStorageSupport";class hW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JR,this._completeRedirectFn=j9,this._overrideRedirectResult=D9}async _openPopup(t,n,r,i){var o;gi((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await lT(t,n,r,Cy(),i);return sW(t,a,Sw())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await lT(t,n,r,Cy(),i);return m9(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(gi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await tW(t),r=new $9(t);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ug,{type:Ug},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Ug];a!==void 0&&n(!!a),er(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W9(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return zR()||LR()||Ew()}}const pW=hW;var uT="@firebase/auth",cT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vW(e){da(new go("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;ne(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BR(e)},u=new D5(r,i,o,l);return B5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),da(new go("auth-internal",t=>{const n=xi(t.getProvider("auth").getImmediate());return(r=>new mW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(uT,cT,gW(e)),Or(uT,cT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW=5*60,_W=qC("authIdTokenMaxAge")||yW;let fT=null;const wW=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_W)return;const i=n==null?void 0:n.token;fT!==i&&(fT=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function EW(e=Ep()){const t=wp(e,"auth");if(t.isInitialized())return t.getImmediate();const n=z5(e,{popupRedirectResolver:pW,persistence:[S9,d9,JR]}),r=qC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=wW(o.toString());s9(n,a,()=>a(n.currentUser)),a9(n,s=>a(s))}}const i=WC("auth");return i&&W5(n,`http://${i}`),n}function bW(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}M5({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=pr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",bW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vW("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firebasestorage.googleapis.com",lN="storageBucket",PW=2*60*1e3,SW=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye extends Br{constructor(t,n,r=0){super(Fg(t),`Firebase Storage: ${n} (${Fg(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ye.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Fg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ge;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ge||(Ge={}));function Fg(e){return"storage/"+e}function Aw(){const e="An unknown error occurred, please check the error payload for server response.";return new Ye(Ge.UNKNOWN,e)}function TW(e){return new Ye(Ge.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function xW(e){return new Ye(Ge.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function AW(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ye(Ge.UNAUTHENTICATED,e)}function IW(){return new Ye(Ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kW(e){return new Ye(Ge.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function CW(){return new Ye(Ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OW(){return new Ye(Ge.CANCELED,"User canceled the upload/download.")}function RW(e){return new Ye(Ge.INVALID_URL,"Invalid URL '"+e+"'.")}function NW(e){return new Ye(Ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function DW(){return new Ye(Ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+lN+"' property when initializing the app?")}function MW(){return new Ye(Ge.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function LW(){return new Ye(Ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jW(e){return new Ye(Ge.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dy(e){return new Ye(Ge.INVALID_ARGUMENT,e)}function uN(){return new Ye(Ge.APP_DELETED,"The Firebase app was deleted.")}function VW(e){return new Ye(Ge.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uu(e,t){return new Ye(Ge.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function kl(e){throw new Ye(Ge.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Rn.makeFromUrl(t,n)}catch{return new Rn(t,"")}if(r.path==="")return r;throw NW(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},_=n===sN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",w=new RegExp(`^https?://${_}/${i}/${y}`,"i"),P=[{regex:s,indices:l,postModify:o},{regex:p,indices:g,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<P.length;k++){const O=P[k],M=O.regex.exec(t);if(M){const T=M[O.indices.bucket];let S=M[O.indices.path];S||(S=""),r=new Rn(T,S),O.postModify(r);break}}if(r==null)throw RW(t);return r}}class $W{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return s===2}let u=!1;function c(...y){u||(u=!0,t.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,e(p,l())},y)}function h(){o&&clearTimeout(o)}function p(y,...w){if(u){h();return}if(y){h(),c.call(null,y,...w);return}if(l()||a){h(),c.call(null,y,...w);return}r<64&&(r*=2);let P;s===1?(s=2,P=0):P=(r+Math.random())*1e3,d(P)}let g=!1;function _(y){g||(g=!0,h(),!u&&(i!==null?(y||(s=2),clearTimeout(i),d(0)):y||(s=1)))}return d(0),o=setTimeout(()=>{a=!0,_(!0)},n),_}function FW(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(e){return e!==void 0}function BW(e){return typeof e=="object"&&!Array.isArray(e)}function Iw(e){return typeof e=="string"||e instanceof String}function dT(e){return kw()&&e instanceof Blob}function kw(){return typeof Blob<"u"}function hT(e,t,n,r){if(r<t)throw Dy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Dy(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function cN(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ra;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ra||(ra={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(t,n,r,i,o,a,s,l,u,c,d,h=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Of(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===ra.NO_ERROR,l=o.getStatus();if(!s||WW(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===ra.ABORT;r(!1,new Of(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Of(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());zW(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=Aw();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(i.canceled){const l=this.appDelete_?uN():OW();a(l)}else{const l=CW();a(l)}};this.canceled_?n(!1,new Of(!1,null,!0)):this.backoffId_=UW(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&FW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Of{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function HW(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function qW(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function GW(e,t){t&&(e["X-Firebase-GMPID"]=t)}function YW(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function QW(e,t,n,r,i,o,a=!0){const s=cN(e.urlParams),l=e.url+s,u=Object.assign({},e.headers);return GW(u,t),HW(u,n),qW(u,o),YW(u,r),new KW(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function JW(...e){const t=XW();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(kw())return new Blob(e);throw new Ye(Ge.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ZW(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(e){if(typeof atob>"u")throw jW("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zg{constructor(t,n){this.data=t,this.contentType=n||null}}function t8(e,t){switch(e){case Ar.RAW:return new zg(fN(t));case Ar.BASE64:case Ar.BASE64URL:return new zg(dN(e,t));case Ar.DATA_URL:return new zg(r8(t),i8(t))}throw Aw()}function fN(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=r,a=e.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function n8(e){let t;try{t=decodeURIComponent(e)}catch{throw uu(Ar.DATA_URL,"Malformed data URL.")}return fN(t)}function dN(e,t){switch(e){case Ar.BASE64:{const i=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(i||o)throw uu(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ar.BASE64URL:{const i=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(i||o)throw uu(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=e8(t)}catch(i){throw i.message.includes("polyfill")?i:uu(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class hN{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw uu(Ar.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=o8(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function r8(e){const t=new hN(e);return t.base64?dN(Ar.BASE64,t.rest):n8(t.rest)}function i8(e){return new hN(e).contentType}function o8(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t,n){let r=0,i="";dT(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(dT(this.data_)){const r=this.data_,i=ZW(r,t,n);return i===null?null:new Gi(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Gi(r,!0)}}static getBlob(...t){if(kw()){const n=t.map(r=>r instanceof Gi?r.data_:r);return new Gi(JW.apply(null,n))}else{const n=t.map(a=>Iw(a)?t8(Ar.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let s=0;s<a.length;s++)i[o++]=a[s]}),new Gi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(e){let t;try{t=JSON.parse(e)}catch{return null}return BW(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function s8(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function mN(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(e,t){return t}class on{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||l8}}let Rf=null;function u8(e){return!Iw(e)||e.length<2?e:mN(e)}function gN(){if(Rf)return Rf;const e=[];e.push(new on("bucket")),e.push(new on("generation")),e.push(new on("metageneration")),e.push(new on("name","fullPath",!0));function t(o,a){return u8(a)}const n=new on("name");n.xform=t,e.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new on("size");return i.xform=r,e.push(i),e.push(new on("timeCreated")),e.push(new on("updated")),e.push(new on("md5Hash",null,!0)),e.push(new on("cacheControl",null,!0)),e.push(new on("contentDisposition",null,!0)),e.push(new on("contentEncoding",null,!0)),e.push(new on("contentLanguage",null,!0)),e.push(new on("contentType",null,!0)),e.push(new on("metadata","customMetadata",!0)),Rf=e,Rf}function c8(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new Rn(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function f8(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,t[a.server])}return c8(r,e),r}function vN(e,t,n){const r=pN(t);return r===null?null:f8(e,r,n)}function d8(e,t,n,r){const i=pN(t);if(i===null||!Iw(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(u=>{const c=e.bucket,d=e.fullPath,h="/b/"+a(c)+"/o/"+a(d),p=Cw(h,n,r),g=cN({alt:"media",token:u});return p+g})[0]}function h8(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}class yN{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(e){if(!e)throw Aw()}function p8(e,t){function n(r,i){const o=vN(e,i,t);return _N(o!==null),o}return n}function m8(e,t){function n(r,i){const o=vN(e,i,t);return _N(o!==null),d8(o,i,e.host,e._protocol)}return n}function wN(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=IW():i=AW():n.getStatus()===402?i=xW(e.bucket):n.getStatus()===403?i=kW(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function g8(e){const t=wN(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=TW(e.path)),o.serverResponse=i.serverResponse,o}return n}function v8(e,t,n){const r=t.fullServerUrl(),i=Cw(r,e.host,e._protocol),o="GET",a=e.maxOperationRetryTime,s=new yN(i,o,m8(e,n),a);return s.errorHandler=g8(t),s}function y8(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function _8(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=y8(null,t)),r}function w8(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){let P="";for(let k=0;k<2;k++)P=P+Math.random().toString().slice(2);return P}const l=s();a["Content-Type"]="multipart/related; boundary="+l;const u=_8(t,r,i),c=h8(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Gi.getBlob(d,r,h);if(p===null)throw MW();const g={name:u.fullPath},_=Cw(o,e.host,e._protocol),y="POST",w=e.maxUploadRetryTime,b=new yN(_,y,p8(e,n),w);return b.urlParams=g,b.headers=a,b.body=p.uploadData(),b.errorHandler=wN(t),b}class E8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ra.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ra.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ra.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw kl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw kl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class b8 extends E8{initXhr(){this.xhr_.responseType="text"}}function EN(){return new b8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,n){this._service=t,n instanceof Rn?this._location=n:this._location=Rn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new _a(t,n)}get root(){const t=new Rn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mN(this._location.path)}get storage(){return this._service}get parent(){const t=a8(this._location.path);if(t===null)return null;const n=new Rn(this._location.bucket,t);return new _a(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw VW(t)}}function P8(e,t,n){e._throwIfRoot("uploadBytes");const r=w8(e.storage,e._location,gN(),new Gi(t,!0),n);return e.storage.makeRequestWithTokens(r,EN).then(i=>({metadata:i,ref:e}))}function S8(e){e._throwIfRoot("getDownloadURL");const t=v8(e.storage,e._location,gN());return e.storage.makeRequestWithTokens(t,EN).then(n=>{if(n===null)throw LW();return n})}function T8(e,t){const n=s8(e._location.path,t),r=new Rn(e._location.bucket,n);return new _a(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(e){return/^[A-Za-z]+:\/\//.test(e)}function A8(e,t){return new _a(e,t)}function bN(e,t){if(e instanceof Ow){const n=e;if(n._bucket==null)throw DW();const r=new _a(n,n._bucket);return t!=null?bN(r,t):r}else return t!==void 0?T8(e,t):e}function I8(e,t){if(t&&x8(t)){if(e instanceof Ow)return A8(e,t);throw Dy("To use ref(service, url), the first argument must be a Storage instance.")}else return bN(e,t)}function pT(e,t){const n=t==null?void 0:t[lN];return n==null?null:Rn.makeFromBucketSpec(n,e)}function k8(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:GC(i,e.app.options.projectId))}class Ow{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=sN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=PW,this._maxUploadRetryTime=SW,this._requests=new Set,i!=null?this._bucket=Rn.makeFromBucketSpec(i,this._host):this._bucket=pT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Rn.makeFromBucketSpec(this._url,t):this._bucket=pT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){hT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){hT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new _a(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new $W(uN());{const a=QW(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const mT="@firebase/storage",gT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="storage";function C8(e,t,n){return e=qe(e),P8(e,t,n)}function O8(e){return e=qe(e),S8(e)}function R8(e,t){return e=qe(e),I8(e,t)}function N8(e=Ep(),t){e=qe(e);const r=wp(e,PN).getImmediate({identifier:t}),i=KC("storage");return i&&D8(r,...i),r}function D8(e,t,n,r={}){k8(e,t,n,r)}function M8(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Ow(n,r,i,t,Aa)}function L8(){da(new go(PN,M8,"PUBLIC").setMultipleInstances(!0)),Or(mT,gT,""),Or(mT,gT,"esm2017")}L8();const j8={apiKey:"AIzaSyB3SEL01A00iO0SFTt1utqQMCuW9p30GVQ",authDomain:"workoutplannar.firebaseapp.com",projectId:"workoutplannar",storageBucket:"workoutplannar.firebasestorage.app",messagingSenderId:"923344644640",appId:"1:923344644640:web:d21c2ef570bd2c401daa45",measurementId:"G-QV804ZLRLZ"},Rw=H3().length?Ep():XC(j8),Rs=EW(Rw),vi=B6(Rw),V8=N8(Rw),vT=new Yr,$8=()=>/android|iphone|ipad|ipod/i.test(navigator.userAgent)?M9(Rs,vT):k9(Rs,vT),SN=()=>u9(Rs),Nw=e=>Np(vi,`users/${e}/workouts`);function U8({title:e="FitTrack",onMenuClick:t,theme:n="light",toggleTheme:r,user:i}){const[o,a]=v.useState(0),[s,l]=v.useState("");return v.useEffect(()=>{i&&l(i.photoURL||`https://ui-avatars.com/api/?name=${i.displayName||i.email}&rounded=true&size=128&background=3b82f6&color=fff`)},[i]),v.useEffect(()=>{const u=Number(localStorage.getItem("streak"))||0,c=localStorage.getItem("lastOpen"),d=new Date().toDateString();if(c!==d){const h=c?u+1:1;a(h),localStorage.setItem("streak",h),localStorage.setItem("lastOpen",d)}else a(u)},[]),A.createElement("div",{className:`
      fixed top-0 z-50 left-0 right-0 
      bg-white/95 dark:bg-gray-900/95 backdrop-blur-2xl
      border-b border-gray-200/50 dark:border-gray-800/50
      h-14 md:h-16 shadow-[0_4px_20px_rgba(0,0,0,0.08)]
      supports-[backdrop-filter:blur(40px)]:bg-white/98
      ${n==="dark"?"dark":""}
    `},A.createElement("div",{className:"h-full flex items-center px-3 md:px-6 max-w-7xl mx-auto"},A.createElement("button",{onClick:t,className:"md:hidden p-2 -ml-1 rounded-xl hover:bg-gray-100/50 dark:hover:bg-gray-800/50 transition-all","aria-label":"Open menu"},A.createElement(mF,{size:24,className:"text-gray-700 dark:text-gray-300"})),A.createElement("div",{className:"flex items-center gap-2.5 flex-1 min-w-0"},A.createElement("div",{className:`
            h-10 w-10 rounded-2xl flex items-center justify-center shadow-lg
            bg-gradient-to-br from-blue-500 to-blue-600
            border border-white/20 dark:border-gray-800/50
            backdrop-blur-sm
          `},A.createElement("span",{className:"text-white font-bold text-lg tracking-tight drop-shadow-sm"},"FT")),A.createElement("h1",{className:`
            text-lg md:text-xl font-bold text-gray-900 dark:text-white
            truncate tracking-tight
            bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-200
            bg-clip-text text-transparent
          `},e)),A.createElement("div",{className:"hidden md:flex items-center mx-auto w-64 max-w-sm flex-shrink-0"},A.createElement("div",{className:`
            flex items-center gap-2.5 bg-white/60 dark:bg-gray-800/60
            border border-gray-200/50 dark:border-gray-700/50
            px-4 py-2 rounded-2xl shadow-sm backdrop-blur-xl
            hover:shadow-md hover:border-gray-300/70 dark:hover:border-gray-600/70
            transition-all duration-200
          `},A.createElement(_F,{size:20,className:"text-gray-500 dark:text-gray-400 flex-shrink-0"}),A.createElement("input",{type:"text",placeholder:"Search workouts...",className:"bg-transparent outline-none w-full text-sm text-gray-900 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400"}))),A.createElement("div",{className:"flex items-center gap-1.5 md:gap-2 ml-auto"},A.createElement("div",{className:"hidden sm:flex items-center gap-1.5 bg-gradient-to-r from-orange-500/10 to-orange-600/10 border border-orange-200/50 px-3 py-1.5 rounded-2xl shadow-sm backdrop-blur-sm"},A.createElement(uF,{size:20,className:"text-orange-500 drop-shadow-sm"}),A.createElement("span",{className:"text-xs font-bold text-orange-700 dark:text-orange-300"},o,"d")),A.createElement("button",{className:`
            p-2 rounded-2xl flex items-center justify-center
            hover:bg-gray-100/50 dark:hover:bg-gray-800/50
            active:scale-95 transition-all duration-200 shadow-sm
            relative group
          `,"aria-label":"Notifications"},A.createElement(rF,{size:22,className:"text-gray-700 dark:text-gray-300 group-hover:text-gray-900 dark:group-hover:text-white"}),A.createElement("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full border-2 border-white shadow-sm animate-ping"})),A.createElement("button",{onClick:r,className:`
              p-2 rounded-2xl flex items-center justify-center
              hover:bg-gray-100/50 dark:hover:bg-gray-800/50
              active:scale-95 transition-all duration-200 shadow-sm
            `,"aria-label":`Switch to ${n==="light"?"dark":"light"} mode`},n==="light"?A.createElement(vF,{size:22,className:"text-gray-700 dark:text-gray-300"}):A.createElement(EF,{size:22,className:"text-gray-700 dark:text-gray-300"})),i?A.createElement("div",{className:"flex items-center gap-2"},A.createElement("div",{className:`
                w-10 h-10 rounded-2xl flex items-center justify-center
                bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900
                border-2 border-gray-200/50 dark:border-gray-700/50
                shadow-md hover:shadow-lg transition-all duration-200
                overflow-hidden
              `},A.createElement("img",{src:s,alt:"",className:"w-8 h-8 rounded-xl object-cover"})),A.createElement("button",{onClick:SN,className:`
                  px-3 py-1.5 rounded-xl font-medium text-xs bg-red-500/90
                  hover:bg-red-600 text-white shadow-md hover:shadow-lg
                  active:scale-95 transition-all duration-200
                `,"aria-label":"Sign out"},"Out")):A.createElement("button",{onClick:$8,className:`
                px-4 py-1.5 rounded-xl font-medium text-sm
                bg-gradient-to-r from-blue-600 to-blue-700 text-white
                shadow-lg hover:shadow-xl hover:-translate-y-0.5
                active:scale-95 active:translate-y-0
                transition-all duration-200 border border-blue-600/30
              `,"aria-label":"Sign in with Google"},"Sign In"))))}function F8(){const e=Io(),t=yp(),[n,r]=v.useState(!1),i=[{to:"/",icon:hF,label:"Home"},{to:"/analytics",icon:oF,label:"Stats"},{to:"/templates",icon:fF,label:"Templates"},{to:"/profile",icon:PF,label:"Profile"}],o=()=>{var a;r(!0),(a=navigator.vibrate)==null||a.call(navigator,[20,10,20]),t("/add"),setTimeout(()=>r(!1),150)};return A.createElement("nav",{className:`\r
        fixed bottom-0 left-0 w-full z-50 md:hidden\r
        bg-white/98 dark:bg-gray-900/98 backdrop-blur-2xl\r
        border-t border-gray-200/50 dark:border-gray-800/50\r
        h-[5.25rem] shadow-[0_-12px_40px_rgba(0,0,0,0.12)]\r
        supports-[backdrop-filter:blur(40px)]:bg-white/95\r
      `,role:"navigation","aria-label":"Primary navigation"},A.createElement("div",{className:"absolute inset-x-0 bottom-0 h-3 bg-gradient-to-t from-white/90 via-white/50 to-transparent pointer-events-none"}),A.createElement("div",{className:"relative h-full"},A.createElement("ul",{className:"h-full grid grid-cols-5 max-w-sm mx-auto px-1.5"},i.slice(0,2).map(({to:a,icon:s,label:l},u)=>{const c=e.pathname===a;return A.createElement("li",{key:a,className:"group relative"},A.createElement(Cu,{to:a,className:`
                    relative flex flex-col items-center justify-center h-full p-1.5
                    rounded-2xl transition-all duration-250 ease-out hover:scale-[1.03]
                    ${c?"scale-[1.08] shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 text-blue-600 dark:from-blue-950/50 dark:to-blue-900/50":"hover:bg-gray-50/50 active:scale-95 group-hover:shadow-md dark:hover:bg-gray-800/50"}
                  `,"aria-current":c?"page":void 0},A.createElement(s,{size:c?26:23,strokeWidth:c?2.8:2.2,className:`
                      transition-all duration-200
                      ${c?"drop-shadow-lg shadow-blue-500/25":"group-hover:drop-shadow-sm"}
                    `}),A.createElement("span",{className:`
                      text-[10px] xs:text-xs font-semibold leading-none tracking-tight mt-0.5
                      px-1 py-0.5 rounded-full backdrop-blur-sm
                      ${c?"text-blue-600 bg-blue-100/80 shadow-sm dark:bg-blue-900/60 dark:text-blue-300 drop-shadow-md":"text-gray-600 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-gray-200 bg-gray-100/60 dark:bg-gray-800/50"}
                    `},l)))}),A.createElement("li",{className:"relative -mt-4 z-10"}," ",A.createElement("div",{className:`\r
              absolute inset-0 w-20 h-20 rounded-full mx-auto\r
              bg-gradient-to-r from-blue-400 via-blue-500 to-purple-500\r
              opacity-30 blur-xl animate-ping-slow pointer-events-none\r
            `}),A.createElement("button",{onClick:o,onMouseDown:()=>r(!0),onMouseUp:()=>r(!1),onTouchStart:()=>r(!0),onTouchEnd:()=>r(!1),className:`
                relative group mx-auto block
                w-16 h-16 rounded-3xl flex items-center justify-center
                bg-gradient-to-br from-blue-600 via-blue-700 to-purple-600
                shadow-2xl border-4 border-white/20
                hover:shadow-[0_20px_40px_rgba(59,130,246,0.4)]
                hover:-translate-y-1 active:translate-y-0 active:scale-95
                transition-all duration-300 ease-out
                backdrop-blur-xl
                ${n?"shadow-inner scale-95 border-white/40 ring-4 ring-blue-400/50":"shadow-[0_12px_30px_rgba(59,130,246,0.35)] ring-2 ring-blue-500/20"}
              `,"aria-label":"Add new workout"},A.createElement("div",{className:`
                w-10 h-10 rounded-2xl flex items-center justify-center
                backdrop-blur-xl bg-white/20 border border-white/30
                group-hover:bg-white/30 transition-all duration-200
                ${n?"scale-110 rotate-90":"group-hover:scale-110 group-hover:rotate-12"}
              `},A.createElement(sF,{size:24,strokeWidth:3,className:`
                    text-white drop-shadow-lg
                    transition-all duration-200
                    ${n?"scale-125 rotate-180":"group-hover:scale-110"}
                  `})),A.createElement("div",{className:`\r
                absolute top-1 left-1 w-3 h-3 bg-gradient-to-r from-white/60 to-transparent\r
                rounded-full blur-sm animate-shimmer opacity-0 group-hover:opacity-100\r
              `}))),i.slice(2).map(({to:a,icon:s,label:l})=>{const u=e.pathname===a;return A.createElement("li",{key:a,className:"group relative"},A.createElement(Cu,{to:a,className:`
                    relative flex flex-col items-center justify-center h-full p-1.5
                    rounded-2xl transition-all duration-250 ease-out hover:scale-[1.03]
                    ${u?"scale-[1.08] shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 text-blue-600 dark:from-blue-950/50 dark:to-blue-900/50":"hover:bg-gray-50/50 active:scale-95 group-hover:shadow-md dark:hover:bg-gray-800/50"}
                  `,"aria-current":u?"page":void 0},A.createElement(s,{size:u?26:23,strokeWidth:u?2.8:2.2,className:`
                      transition-all duration-200
                      ${u?"drop-shadow-lg shadow-blue-500/25":"group-hover:drop-shadow-sm"}
                    `}),A.createElement("span",{className:`
                      text-[10px] xs:text-xs font-semibold leading-none tracking-tight mt-0.5
                      px-1 py-0.5 rounded-full backdrop-blur-sm
                      ${u?"text-blue-600 bg-blue-100/80 shadow-sm dark:bg-blue-900/60 dark:text-blue-300 drop-shadow-md":"text-gray-600 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-gray-200 bg-gray-100/60 dark:bg-gray-800/50"}
                    `},l)))})),A.createElement("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-20 h-1 bg-white/60 rounded-full shadow-sm backdrop-blur"})))}function z8({children:e,user:t}){const n=Io(),[r,i]=v.useState(!1),[o,a]=v.useState("light"),s=()=>a(u=>u==="light"?"dark":"light"),l=u=>n.pathname===u;return A.createElement("div",{className:`min-h-screen flex flex-col md:flex-row ${o==="dark"?"dark bg-gray-900 text-white":"bg-gray-100 text-gray-800"}`},A.createElement("aside",{className:`
          fixed md:static inset-y-0 left-0 z-50 w-64
          bg-white dark:bg-gray-800 shadow-lg p-5
          transform transition-transform duration-300 ease-in-out
          md:translate-x-0
          ${r?"translate-x-0":"-translate-x-full"}
        `},A.createElement("div",{className:"flex items-center justify-between md:hidden mb-4"},A.createElement("h1",{className:"text-xl font-bold text-blue-600"},"FitTrack"),A.createElement("button",{onClick:()=>i(!1)},A.createElement(YP,{size:24}))),A.createElement("h1",{className:"text-2xl font-bold text-blue-600 hidden md:block"},"FitTrack"),A.createElement("nav",{className:"flex flex-col gap-2 mt-6 text-base"},[["/"," Dashboard"],["/add"," Add Workout"],["/history"," History"],["/templates"," Templates"],["/analytics"," Analytics"],["/profile"," Profile"],["/achievements"," Achievements"],["/streaks"," Streaks"],["/settings"," Settings"]].map(([u,c])=>A.createElement(Cu,{key:u,to:u,onClick:()=>i(!1),className:`px-3 py-2 rounded-md text-sm sm:text-base transition
                hover:bg-gray-200 dark:hover:bg-gray-700
                ${l(u)?"bg-blue-500 text-white shadow":""}
              `},c)))),r&&A.createElement("div",{className:"fixed inset-0 bg-black/40 z-40 md:hidden",onClick:()=>i(!1)}),A.createElement("div",{className:"flex-1 flex flex-col min-h-screen"},A.createElement("header",{className:"fixed top-0 left-0 right-0 z-40"},A.createElement("div",{className:"hidden md:block"},A.createElement(U8,{title:"FitTrack",onMenuClick:()=>i(!r),toggleTheme:s,theme:o,user:t})),A.createElement("div",{className:"md:hidden bg-white dark:bg-gray-800 shadow px-4 py-3 flex justify-between items-center"},A.createElement("h1",{className:"text-xl font-bold text-blue-600"},"FitTrack"),A.createElement("div",{className:"flex items-center gap-3"},A.createElement("button",{onClick:s,className:"text-sm px-2 py-1 rounded-full border border-gray-300 dark:border-gray-600"},o==="light"?"Dark":"Light"),A.createElement("button",{onClick:()=>i(!r)},r?A.createElement(YP,{size:26}):A.createElement(QU,{size:26}))))),A.createElement("main",{className:`\r
            flex-1\r
            overflow-y-auto\r
            pt-16 md:pt-20\r
            pb-28 md:pb-6\r
            px-4 sm:px-6\r
            bg-gray-100 dark:bg-gray-900\r
          `},A.createElement("div",{className:"max-w-5xl mx-auto"},e)),A.createElement(F8,null)))}function B8({entries:e=[]}){const t=e.length;let n=0,r=0;return e.forEach(i=>{i.exercises.forEach(o=>{o.sets.forEach(a=>{n+=1,r+=Number(a.reps)||0})})}),A.createElement("div",{className:"p-4 bg-white border rounded"},A.createElement("div",{className:"font-medium"},"Stats"),A.createElement("div",{className:"mt-2 text-sm text-gray-700"},"Total workouts: ",t),A.createElement("div",{className:"text-sm text-gray-700"},"Total sets logged: ",n),A.createElement("div",{className:"text-sm text-gray-700"},"Total reps logged: ",r))}async function W8(e,t){try{if(!e)throw new Error("User ID missing");if(!t)throw new Error("Workout data missing");const n=Nw(e);return(await TR(n,{...t,createdAt:new Date().toISOString()})).id}catch(n){return console.error("Error adding workout:",n),null}}async function Kp(e){try{if(!e)throw new Error("User ID missing");const t=Nw(e),n=wR(t,t5("createdAt","desc"));return(await mw(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){return console.error("Error fetching workouts:",t),[]}}async function K8(e,t,n){try{if(!e)throw new Error("Workout ID missing");if(!t)throw new Error("User ID missing");const r=ga(Nw(t),e);return await o5(r,{...n,updatedAt:new Date().toISOString()}),!0}catch(r){return console.error("Error updating workout:",r),!1}}function Dw({user:e,existingWorkout:t=null,onClose:n=null}){var b;const r={name:"",sets:[{reps:"",weight:""}],notes:""},[i,o]=v.useState((t==null?void 0:t.date)||new Date().toISOString().slice(0,10)),[a,s]=v.useState((t==null?void 0:t.exercises)||[r]),[l,u]=v.useState(!1),d=(b=Io().state)==null?void 0:b.template;v.useEffect(()=>{d&&s(d.exercises)},[d]);const h=(P,k,O,M)=>{const T=[...a];T[P].sets[k][O]=O==="reps"?Number(M):M,s(T)},p=()=>s([...a,{...r}]),g=P=>s(a.filter((k,O)=>O!==P)),_=P=>{const k=[...a];k[P].sets.push({reps:"",weight:""}),s(k)},y=(P,k)=>{const O=[...a];O[P].sets.splice(k,1),s(O)},w=async()=>{if(!e)return alert("Sign in to save workouts");u(!0);try{const P={date:i,exercises:a,createdAt:new Date().toISOString()};t?(await K8(t.id,e.uid,P),alert("Workout updated ")):(await W8(e.uid,P),alert("Workout saved ")),s([r]),n&&n()}catch(P){console.error(P),alert("Error saving workout")}u(!1)};return A.createElement("div",{className:"pb-24 md:pb-0"},A.createElement("h2",{className:"text-xl font-semibold mb-4"},t?"Edit Workout":"Add Workout"),A.createElement("div",{className:"mb-4"},A.createElement("label",{className:"block text-sm"},"Date"),A.createElement("input",{type:"date",value:i,onChange:P=>o(P.target.value),className:"p-2 border rounded mt-1 w-full max-w-xs"})),A.createElement("div",{className:"space-y-4"},a.map((P,k)=>A.createElement("div",{key:k,className:"border p-3 rounded space-y-3 bg-white"},A.createElement("div",{className:"flex flex-col md:flex-row gap-2 items-start md:items-end"},A.createElement("div",{className:"flex-1 w-full"},A.createElement("label",{className:"text-xs"},"Exercise"),A.createElement("input",{value:P.name,onChange:O=>{const M=[...a];M[k].name=O.target.value,s(M)},className:"w-full p-2 border rounded",placeholder:"Bench Press"})),A.createElement("button",{className:"text-red-600 text-sm w-full md:w-auto",onClick:()=>g(k)},"Remove Exercise")),P.sets.map((O,M)=>A.createElement("div",{key:M,className:"flex flex-col md:flex-row gap-4 items-start md:items-end"},A.createElement("div",{className:"w-full md:w-auto"},A.createElement("label",{className:"text-xs"},"Reps"),A.createElement("input",{type:"number",value:O.reps,onChange:T=>h(k,M,"reps",T.target.value),className:"p-2 border rounded w-full md:w-20"})),A.createElement("div",{className:"w-full md:w-auto"},A.createElement("label",{className:"text-xs"},"Weight"),A.createElement("input",{value:O.weight,onChange:T=>h(k,M,"weight",T.target.value),placeholder:"kg",className:"p-2 border rounded w-full md:w-24"})),A.createElement("button",{className:"text-red-500 text-sm w-full md:w-auto",onClick:()=>y(k,M)},"Remove Set"))),A.createElement("button",{onClick:()=>_(k),className:"px-2 py-1 bg-gray-100 rounded text-sm"},"Add Set"),A.createElement("div",null,A.createElement("label",{className:"text-xs"},"Notes"),A.createElement("input",{value:P.notes,onChange:O=>{const M=[...a];M[k].notes=O.target.value,s(M)},className:"w-full p-2 border rounded",placeholder:"Optional notes"}))))),A.createElement("div",{className:"h-4"}),A.createElement("div",{className:"flex flex-col sm:flex-row gap-2 mt-4"},A.createElement("button",{onClick:p,className:"px-4 py-2 bg-gray-100 rounded w-full sm:w-auto"},"Add Exercise"),A.createElement("button",{onClick:w,disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded w-full sm:w-auto disabled:opacity-60"},l?"Saving...":t?"Update Workout":"Save Workout")))}function H8({goals:e,onAddGoal:t}){return A.createElement("div",{className:"p-4 bg-white rounded-lg shadow border"},A.createElement("div",{className:"flex justify-between items-center mb-3"},A.createElement("h2",{className:"text-lg font-semibold"},"Your Goals"),A.createElement("button",{onClick:t,className:"px-3 py-1 bg-green-600 text-white rounded-md"},"Add Goal")),e.length===0&&A.createElement("p",{className:"text-gray-500 text-sm"},"You have no goals yet."),A.createElement("div",{className:"space-y-3"},e.map(n=>A.createElement("div",{key:n.id,className:"p-3 border rounded-md bg-gray-50 shadow-sm"},A.createElement("div",{className:"font-medium"},n.title),A.createElement("div",{className:"text-sm text-gray-600"},n.description),A.createElement("div",{className:"text-xs text-gray-400 mt-1"},"Target: ",n.targetDate)))))}const q8=async(e,t)=>{await TR(Np(vi,"goals"),{uid:e,...t,createdAt:l5()})},G8=async e=>{const t=wR(Np(vi,"goals"),e5("uid","==",e));return(await mw(t)).docs.map(r=>({id:r.id,...r.data()}))};function Y8({user:e,onClose:t}){const[n,r]=v.useState(""),[i,o]=v.useState(""),[a,s]=v.useState(""),l=async()=>{if(!n.trim())return alert("Goal title required");await q8(e.uid,{title:n,description:i,targetDate:a}),t()};return A.createElement("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50"},A.createElement("div",{className:"bg-white w-96 p-6 rounded-xl shadow-lg"},A.createElement("h2",{className:"text-xl font-semibold mb-4"},"Add New Goal"),A.createElement("div",{className:"space-y-3"},A.createElement("div",null,A.createElement("label",{className:"text-sm font-medium"},"Goal Title"),A.createElement("input",{type:"text",className:"w-full p-2 border rounded mt-1",placeholder:"e.g. Lose 5kg",value:n,onChange:u=>r(u.target.value)})),A.createElement("div",null,A.createElement("label",{className:"text-sm font-medium"},"Description"),A.createElement("textarea",{className:"w-full p-2 border rounded mt-1",placeholder:"Short description...",value:i,onChange:u=>o(u.target.value)})),A.createElement("div",null,A.createElement("label",{className:"text-sm font-medium"},"Target Date"),A.createElement("input",{type:"date",className:"w-full p-2 border rounded mt-1",value:a,onChange:u=>s(u.target.value)}))),A.createElement("div",{className:"flex justify-end gap-3 mt-5"},A.createElement("button",{className:"px-3 py-2 bg-gray-300 rounded-md",onClick:t},"Cancel"),A.createElement("button",{className:"px-4 py-2 bg-green-600 text-white rounded-md",onClick:l},"Save Goal"))))}function TN({user:e}){const[t,n]=v.useState([]),[r,i]=v.useState([]),[o,a]=v.useState(!1),[s,l]=v.useState(!1),u=async()=>{if(!e)return n([]);const d=await Kp(e.uid);n(d)},c=async()=>{if(!e)return i([]);const d=await G8(e.uid);i(d)};return v.useEffect(()=>{u(),c()},[e]),A.createElement("div",{className:"pt-16 pb-24 px-4 md:pt-20 md:pb-10 md:px-8 min-h-screen bg-gray-100"},A.createElement("div",{className:`
          grid
          grid-cols-1
          md:grid-cols-2
          lg:grid-cols-3
          gap-6
        `},A.createElement("div",{className:"lg:col-span-2 space-y-4"},A.createElement("div",{className:"flex justify-between items-center mb-2"},A.createElement("h2",{className:"text-lg md:text-xl font-semibold"},"Recent Workouts"),A.createElement("button",{onClick:()=>a(!0),className:"px-3 py-1 bg-blue-600 text-white rounded-md text-sm md:text-base"},"Add Workout")),o&&A.createElement("div",{className:"border p-4 rounded bg-white mb-2"},A.createElement(Dw,{user:e,onClose:()=>{a(!1),u()}})),t.length===0&&A.createElement("div",{className:"p-4 bg-white border rounded text-center text-sm md:text-base"},"No workouts yet."),A.createElement("div",{className:"space-y-4"},t.slice(0,5).map(d=>A.createElement("div",{key:d.id,className:"border p-3 rounded bg-white"},A.createElement("div",{className:"flex justify-between mb-2"},A.createElement("div",{className:"font-medium"},d.date),A.createElement("div",{className:"text-xs text-gray-500"},new Date(d.createdAt).toLocaleString())),A.createElement("div",{className:"space-y-2"},d.exercises.map((h,p)=>A.createElement("div",{key:p,className:"p-2 border rounded"},A.createElement("div",{className:"font-semibold"},h.name),A.createElement("div",{className:"text-sm text-gray-600 mt-1"},h.sets.map((g,_)=>A.createElement("div",{key:_},"Set ",_+1,": ",g.reps||"-"," reps @"," ",g.weight||"-"," kg"))),h.notes&&A.createElement("div",{className:"text-xs text-gray-500 mt-1"},"Notes: ",h.notes)))))))),A.createElement("div",{className:"space-y-6"},A.createElement(B8,{entries:t}),A.createElement(H8,{goals:r,onAddGoal:()=>l(!0)}),s&&A.createElement(Y8,{user:e,onClose:()=>{l(!1),c()}}))))}function Q8({user:e}){const[t,n]=v.useState([]),[r,i]=v.useState(!0),[o,a]=v.useState(null);return v.useEffect(()=>{async function s(){if(!e)return;i(!0);const l=await Kp(e.uid);n(l),i(!1)}s()},[e]),A.createElement("div",{className:"pt-16 pb-24 px-4 md:pt-20 md:pb-10 md:px-8 min-h-screen bg-gray-50"},A.createElement("div",{className:"max-w-5xl mx-auto"},A.createElement("h2",{className:"text-xl md:text-2xl font-semibold mb-4"},"Workout History"),r&&A.createElement("p",null,"Loading..."),!r&&t.length===0&&A.createElement("p",null,"No workouts logged yet."),A.createElement("div",{className:"space-y-4"},t.map(s=>A.createElement("div",{key:s.id,className:"border p-3 rounded shadow-sm bg-white"}))),o&&A.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},A.createElement("div",{className:"bg-white p-6 rounded shadow-lg max-w-xl w-full relative max-h-[90vh] overflow-y-auto"},A.createElement(Dw,{user:e,existingWorkout:o,onClose:()=>a(null)}),A.createElement("button",{onClick:()=>a(null),className:"absolute top-2 right-2 text-red-500 text-lg font-bold"},"")))))}function xN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=xN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xe(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=xN(e))&&(r&&(r+=" "),r+=t);return r}var X8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Mw(e){if(typeof e!="string")return!1;var t=X8;return t.includes(e)}var J8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Z8=new Set(J8);function AN(e){return typeof e!="string"?!1:Z8.has(e)}function IN(e){return typeof e=="string"&&e.startsWith("data-")}function Vr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(AN(n)||IN(n))&&(t[n]=e[n]);return t}function Hp(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Vr(t)}return typeof e=="object"&&!Array.isArray(e)?Vr(e):null}function cn(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(AN(n)||IN(n)||Mw(n))&&(t[n]=e[n]);return t}function eK(e){return e==null?null:v.isValidElement(e)?cn(e.props):typeof e=="object"&&!Array.isArray(e)?cn(e):null}var tK=["children","width","height","viewBox","className","style","title","desc"];function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},My.apply(null,arguments)}function nK(e,t){if(e==null)return{};var n,r,i=rK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lw=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:s,title:l,desc:u}=e,c=nK(e,tK),d=o||{width:r,height:i,x:0,y:0},h=xe("recharts-surface",a);return v.createElement("svg",My({},cn(c),{className:h,width:r,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,u),n)}),iK=["children","className"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ly.apply(null,arguments)}function oK(e,t){if(e==null)return{};var n,r,i=aK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wo=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=oK(e,iK),o=xe("recharts-layer",r);return v.createElement("g",Ly({className:o},cn(i),{ref:t}),n)}),kN=v.createContext(null),sK=()=>v.useContext(kN);function ke(e){return function(){return e}}const CN=Math.cos,ch=Math.sin,Er=Math.sqrt,fh=Math.PI,qp=2*fh,jy=Math.PI,Vy=2*jy,Bo=1e-6,lK=Vy-Bo;function ON(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function uK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ON;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ON:uK(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-n,c=a-t,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Bo)if(!(Math.abs(d*l-u*c)>Bo)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-a,g=i-s,_=l*l+u*u,y=p*p+g*g,w=Math.sqrt(_),b=Math.sqrt(h),P=o*Math.tan((jy-Math.acos((_+h-y)/(2*w*b)))/2),k=P/b,O=P/w;Math.abs(k-1)>Bo&&this._append`L${t+k*c},${n+k*d}`,this._append`A${o},${o},0,0,${+(d*p>c*g)},${this._x1=t+O*l},${this._y1=n+O*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Bo||Math.abs(this._y1-c)>Bo)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Vy+Vy),h>lK?this._append`A${r},${r},0,1,${d},${t-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Bo&&this._append`A${r},${r},0,${+(h>=jy)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function jw(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new cK(t)}function Vw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function RN(e){this._context=e}RN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Gp(e){return new RN(e)}function NN(e){return e[0]}function DN(e){return e[1]}function MN(e,t){var n=ke(!0),r=null,i=Gp,o=null,a=jw(s);e=typeof e=="function"?e:e===void 0?NN:ke(e),t=typeof t=="function"?t:t===void 0?DN:ke(t);function s(l){var u,c=(l=Vw(l)).length,d,h=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,u,l),+t(d,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:ke(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:ke(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ke(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Nf(e,t,n){var r=null,i=ke(!0),o=null,a=Gp,s=null,l=jw(u);e=typeof e=="function"?e:e===void 0?NN:ke(+e),t=typeof t=="function"?t:ke(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?DN:ke(+n);function u(d){var h,p,g,_=(d=Vw(d)).length,y,w=!1,b,P=new Array(_),k=new Array(_);for(o==null&&(s=a(b=l())),h=0;h<=_;++h){if(!(h<_&&i(y=d[h],h,d))===w)if(w=!w)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(P[g],k[g]);s.lineEnd(),s.areaEnd()}w&&(P[h]=+e(y,h,d),k[h]=+t(y,h,d),s.point(r?+r(y,h,d):P[h],n?+n(y,h,d):k[h]))}if(b)return s=null,b+""||null}function c(){return MN().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:ke(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:ke(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ke(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:ke(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:ke(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ke(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ke(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class LN{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function fK(e){return new LN(e,!0)}function dK(e){return new LN(e,!1)}const $w={draw(e,t){const n=Er(t/fh);e.moveTo(n,0),e.arc(0,0,n,0,qp)}},hK={draw(e,t){const n=Er(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},jN=Er(1/3),pK=jN*2,mK={draw(e,t){const n=Er(t/pK),r=n*jN;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},gK={draw(e,t){const n=Er(t),r=-n/2;e.rect(r,r,n,n)}},vK=.8908130915292852,VN=ch(fh/10)/ch(7*fh/10),yK=ch(qp/10)*VN,_K=-CN(qp/10)*VN,wK={draw(e,t){const n=Er(t*vK),r=yK*n,i=_K*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=qp*o/5,s=CN(a),l=ch(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Bg=Er(3),EK={draw(e,t){const n=-Er(t/(Bg*3));e.moveTo(0,n*2),e.lineTo(-Bg*n,-n),e.lineTo(Bg*n,-n),e.closePath()}},Un=-.5,Fn=Er(3)/2,$y=1/Er(12),bK=($y/2+1)*3,PK={draw(e,t){const n=Er(t/bK),r=n/2,i=n*$y,o=r,a=n*$y+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(Un*r-Fn*i,Fn*r+Un*i),e.lineTo(Un*o-Fn*a,Fn*o+Un*a),e.lineTo(Un*s-Fn*l,Fn*s+Un*l),e.lineTo(Un*r+Fn*i,Un*i-Fn*r),e.lineTo(Un*o+Fn*a,Un*a-Fn*o),e.lineTo(Un*s+Fn*l,Un*l-Fn*s),e.closePath()}};function SK(e,t){let n=null,r=jw(i);e=typeof e=="function"?e:ke(e||$w),t=typeof t=="function"?t:ke(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ke(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ke(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function dh(){}function hh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function $N(e){this._context=e}$N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TK(e){return new $N(e)}function UN(e){this._context=e}UN.prototype={areaStart:dh,areaEnd:dh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xK(e){return new UN(e)}function FN(e){this._context=e}FN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AK(e){return new FN(e)}function zN(e){this._context=e}zN.prototype={areaStart:dh,areaEnd:dh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function IK(e){return new zN(e)}function yT(e){return e<0?-1:1}function _T(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(yT(o)+yT(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function wT(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Wg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function ph(e){this._context=e}ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wg(this,this._t0,wT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wg(this,wT(this,n=_T(this,e,t)),n);break;default:Wg(this,this._t0,n=_T(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function BN(e){this._context=new WN(e)}(BN.prototype=Object.create(ph.prototype)).point=function(e,t){ph.prototype.point.call(this,t,e)};function WN(e){this._context=e}WN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function kK(e){return new ph(e)}function CK(e){return new BN(e)}function KN(e){this._context=e}KN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=ET(e),i=ET(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ET(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function OK(e){return new KN(e)}function Yp(e,t){this._context=e,this._t=t}Yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function RK(e){return new Yp(e,.5)}function NK(e){return new Yp(e,0)}function DK(e){return new Yp(e,1)}function Ns(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Uy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function MK(e,t){return e[t]}function LK(e){const t=[];return t.key=e,t}function jK(){var e=ke([]),t=Uy,n=Ns,r=MK;function i(o){var a=Array.from(e.apply(this,arguments),LK),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=Vw(t(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ke(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ke(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Uy:typeof o=="function"?o:ke(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Ns,i):n},i}function VK(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Ns(e,t)}}function $K(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ns(e,t)}}function UK(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=e[t[s]],d=c[r][1]||0,h=c[r-1][1]||0,p=(d-h)/2,g=0;g<s;++g){var _=e[t[g]],y=_[r][1]||0,w=_[r-1][1]||0;p+=y-w}l+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Ns(e,t)}}var Qp={},HN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(HN);var Uw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Uw);var Xp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Xp);var Jp={},qN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(qN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qN,n=Xp;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],a=i.length;if(a===0)return o;let s=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(o.push(""),s++);s<a;){const d=i[s];u?d==="\\"&&s+1<a?(s++,l+=i[s]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,o.push(l),l=""):l+=d:d==="["?(c=!0,l&&(o.push(l),l="")):d==="."?l&&(o.push(l),l=""):l+=d,s++}return l&&o.push(l),o}e.toPath=r})(Jp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HN,n=Uw,r=Xp,i=Jp;function o(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?n.isDeepKey(l)?o(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return a(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function a(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=o})(Qp);var FK=Qp.get;const Zp=Si(FK);var Gn=e=>e===0?0:e>0?1:-1,$r=e=>typeof e=="number"&&e!=+e,yi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ee=e=>(typeof e=="number"||e instanceof Number)&&!$r(e),Ur=e=>ee(e)||typeof e=="string",zK=0,Bu=e=>{var t=++zK;return"".concat(e||"").concat(t)},Eo=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(t)&&typeof t!="string")return r;var o;if(yi(t)){if(n==null)return r;var a=t.indexOf("%");o=n*parseFloat(t.slice(0,a))/100}else o=+t;return $r(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},GN=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function yn(e,t,n){return ee(e)&&ee(t)?e+n*(t-e):t}function YN(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Zp(r,t))===n)}var bt=e=>e===null||typeof e>"u",Pc=e=>bt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function BK(e){return e!=null}function Sc(){}var WK=["type","size","sizeType"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fy.apply(null,arguments)}function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(n),!0).forEach(function(r){KK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KK(e,t,n){return(t=HK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HK(e){var t=qK(e,"string");return typeof t=="symbol"?t:t+""}function qK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GK(e,t){if(e==null)return{};var n,r,i=YK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var QN={symbolCircle:$w,symbolCross:hK,symbolDiamond:mK,symbolSquare:gK,symbolStar:wK,symbolTriangle:EK,symbolWye:PK},QK=Math.PI/180,XK=e=>{var t="symbol".concat(Pc(e));return QN[t]||$w},JK=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*QK;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ZK=(e,t)=>{QN["symbol".concat(Pc(e))]=t},Fw=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=GK(e,WK),o=PT(PT({},i),{},{type:t,size:n,sizeType:r}),a="circle";typeof t=="string"&&(a=t);var s=()=>{var h=XK(a),p=SK().type(h).size(JK(n,r,a)),g=p();if(g!==null)return g},{className:l,cx:u,cy:c}=o,d=cn(o);return ee(u)&&ee(c)&&ee(n)?v.createElement("path",Fy({},d,{className:xe("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};Fw.registerSymbol=ZK;var XN=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,zw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Mw(i)&&(r[i]=t||(o=>n[i](n,o)))}),r},eH=(e,t,n)=>r=>(e(t,n,r),null),JN=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];Mw(i)&&typeof o=="function"&&(r||(r={}),r[i]=eH(o,t,n))}),r};function ST(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(n),!0).forEach(function(r){nH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nH(e,t,n){return(t=rH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rH(e){var t=iH(e,"string");return typeof t=="symbol"?t:t+""}function iH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zt(e,t){var n=tH({},e),r=t,i=Object.keys(t),o=i.reduce((a,s)=>(a[s]===void 0&&r[s]!==void 0&&(a[s]=r[s]),a),n);return o}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mh.apply(null,arguments)}function TT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(n),!0).forEach(function(r){aH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aH(e,t,n){return(t=sH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sH(e){var t=lH(e,"string");return typeof t=="symbol"?t:t+""}function lH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bn=32,uH={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function cH(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Bn/2,o=Bn/6,a=Bn/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Bn,y2:i,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Bn,"M").concat(2*a,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Bn/8,"h").concat(Bn,"v").concat(Bn*3/4,"h").concat(-Bn,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var c=oH({},t);return delete c.legendIcon,v.cloneElement(t.legendIcon,c)}return v.createElement(Fw,{fill:s,cx:i,cy:i,size:Bn,sizeType:"diameter",type:l})}function fH(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:a}=e,s={x:0,y:0,width:Bn,height:Bn},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var h=c.formatter||i,p=xe({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var g=c.inactive?o:c.color,_=h?h(c.value,c,d):c.value;return v.createElement("li",mh({className:p,style:l,key:"legend-item-".concat(d)},JN(e,c,d)),v.createElement(Lw,{width:n,height:n,viewBox:s,style:u,"aria-label":"".concat(_," legend icon")},v.createElement(cH,{data:c,iconType:a,inactiveColor:o})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},_))})}var dH=e=>{var t=Zt(e,uH),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:o},v.createElement(fH,mh({},t,{payload:n})))},ZN={},e2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],s=r(a);i.has(s)||i.set(s,a)}return Array.from(i.values())}e.uniqBy=t})(e2);var Bw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Bw);var t2={},em={},n2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(n2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n2;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(em);var r2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(r2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=em,n=r2;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(t2);var i2={},o2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qp;function n(r){return function(i){return t.get(i,r)}}e.property=n})(o2);var a2={},Ww={},s2={},Kw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Kw);var Hw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Hw);var qw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(qw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kw,n=Hw,r=qw;function i(c,d,h){return typeof h!="function"?i(c,d,()=>{}):o(c,d,function p(g,_,y,w,b,P){const k=h(g,_,y,w,b,P);return k!==void 0?!!k:o(g,_,p,P)},new Map)}function o(c,d,h,p){if(d===c)return!0;switch(typeof d){case"object":return a(c,d,h,p);case"function":return Object.keys(d).length>0?o(c,{...d},h,p):r.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:r.eq(c,d)}}function a(c,d,h,p){if(d==null)return!0;if(Array.isArray(d))return l(c,d,h,p);if(d instanceof Map)return s(c,d,h,p);if(d instanceof Set)return u(c,d,h,p);const g=Object.keys(d);if(c==null)return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(d))return p.get(d)===c;p==null||p.set(d,c);try{for(let _=0;_<g.length;_++){const y=g[_];if(!n.isPrimitive(c)&&!(y in c)||d[y]===void 0&&c[y]!==void 0||d[y]===null&&c[y]!==null||!h(c[y],d[y],y,c,d,p))return!1}return!0}finally{p==null||p.delete(d)}}function s(c,d,h,p){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,_]of d.entries()){const y=c.get(g);if(h(y,_,g,c,d,p)===!1)return!1}return!0}function l(c,d,h,p){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let _=0;_<d.length;_++){const y=d[_];let w=!1;for(let b=0;b<c.length;b++){if(g.has(b))continue;const P=c[b];let k=!1;if(h(P,y,_,c,d,p)&&(k=!0),k){g.add(b),w=!0;break}}if(!w)return!1}return!0}function u(c,d,h,p){return d.size===0?!0:c instanceof Set?l([...c],[...d],h,p):!1}e.isMatchWith=i,e.isSetMatch=u})(s2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s2;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Ww);var l2={},Gw={},u2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(u2);var Yw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Yw);var Qw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",_="[object DataView]",y="[object Uint8Array]",w="[object Uint8ClampedArray]",b="[object Uint16Array]",P="[object Uint32Array]",k="[object BigUint64Array]",O="[object Int8Array]",M="[object Int16Array]",T="[object Int32Array]",S="[object BigInt64Array]",I="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=k,e.booleanTag=i,e.dataViewTag=_,e.dateTag=s,e.errorTag=g,e.float32ArrayTag=I,e.float64ArrayTag=R,e.functionTag=d,e.int16ArrayTag=M,e.int32ArrayTag=T,e.int8ArrayTag=O,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=a,e.uint16ArrayTag=b,e.uint32ArrayTag=P,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=w})(Qw);var c2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(c2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u2,n=Yw,r=Qw,i=Hw,o=c2;function a(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,h,p=new Map,g=void 0){const _=g==null?void 0:g(c,d,h,p);if(_!==void 0)return _;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const y=new Array(c.length);p.set(c,y);for(let w=0;w<c.length;w++)y[w]=s(c[w],w,h,p,g);return Object.hasOwn(c,"index")&&(y.index=c.index),Object.hasOwn(c,"input")&&(y.input=c.input),y}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const y=new RegExp(c.source,c.flags);return y.lastIndex=c.lastIndex,y}if(c instanceof Map){const y=new Map;p.set(c,y);for(const[w,b]of c)y.set(w,s(b,w,h,p,g));return y}if(c instanceof Set){const y=new Set;p.set(c,y);for(const w of c)y.add(s(w,void 0,h,p,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const y=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,y);for(let w=0;w<c.length;w++)y[w]=s(c[w],w,h,p,g);return y}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const y=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,y),l(y,c,h,p,g),y}if(typeof File<"u"&&c instanceof File){const y=new File([c],c.name,{type:c.type});return p.set(c,y),l(y,c,h,p,g),y}if(typeof Blob<"u"&&c instanceof Blob){const y=new Blob([c],{type:c.type});return p.set(c,y),l(y,c,h,p,g),y}if(c instanceof Error){const y=new c.constructor;return p.set(c,y),y.message=c.message,y.name=c.name,y.stack=c.stack,y.cause=c.cause,l(y,c,h,p,g),y}if(c instanceof Boolean){const y=new Boolean(c.valueOf());return p.set(c,y),l(y,c,h,p,g),y}if(c instanceof Number){const y=new Number(c.valueOf());return p.set(c,y),l(y,c,h,p,g),y}if(c instanceof String){const y=new String(c.valueOf());return p.set(c,y),l(y,c,h,p,g),y}if(typeof c=="object"&&u(c)){const y=Object.create(Object.getPrototypeOf(c));return p.set(c,y),l(y,c,h,p,g),y}return c}function l(c,d,h=c,p,g){const _=[...Object.keys(d),...t.getSymbols(d)];for(let y=0;y<_.length;y++){const w=_[y],b=Object.getOwnPropertyDescriptor(c,w);(b==null||b.writable)&&(c[w]=s(d[w],w,h,p,g))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=s,e.copyProperties=l})(Gw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gw;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(l2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ww,n=l2;function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(a2);var f2={},d2={},h2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gw,n=Qw;function r(i,o){return t.cloneDeepWith(i,(a,s,l,u)=>{const c=o==null?void 0:o(a,s,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case n.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=r})(h2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h2;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(d2);var p2={},Xw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Xw);var m2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yw;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(m2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uw,n=Xw,r=m2,i=Jp;function o(a,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(a==null?void 0:a[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=a;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=o})(p2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ww,n=Xp,r=d2,i=Qp,o=p2;function a(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?o.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=a})(f2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bw,n=o2,r=a2,i=f2;function o(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}e.iteratee=o})(i2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e2,n=Bw,r=t2,i=i2;function o(a,s=n.identity){return r.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(s)):[]}e.uniqBy=o})(ZN);var hH=ZN.uniqBy;const xT=Si(hH);function g2(e,t,n){return t===!0?xT(e,n):typeof t=="function"?xT(e,t):e}var v2={exports:{}},y2={},_2={exports:{}},w2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ds=v;function pH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mH=typeof Object.is=="function"?Object.is:pH,gH=Ds.useState,vH=Ds.useEffect,yH=Ds.useLayoutEffect,_H=Ds.useDebugValue;function wH(e,t){var n=t(),r=gH({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return yH(function(){i.value=n,i.getSnapshot=t,Kg(i)&&o({inst:i})},[e,n,t]),vH(function(){return Kg(i)&&o({inst:i}),e(function(){Kg(i)&&o({inst:i})})},[e]),_H(n),n}function Kg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mH(e,n)}catch{return!0}}function EH(e,t){return t()}var bH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?EH:wH;w2.useSyncExternalStore=Ds.useSyncExternalStore!==void 0?Ds.useSyncExternalStore:bH;_2.exports=w2;var PH=_2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=v,SH=PH;function TH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xH=typeof Object.is=="function"?Object.is:TH,AH=SH.useSyncExternalStore,IH=tm.useRef,kH=tm.useEffect,CH=tm.useMemo,OH=tm.useDebugValue;y2.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=IH(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=CH(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return d=g}return d=p}if(g=d,xH(c,p))return g;var _=r(p);return i!==void 0&&i(g,_)?(c=p,g):(c=p,d=_)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=AH(e,o[0],o[1]);return kH(function(){a.hasValue=!0,a.value=s},[s]),OH(s),s};v2.exports=y2;var RH=v2.exports,Jw=v.createContext(null),NH=e=>e,at=()=>{var e=v.useContext(Jw);return e?e.store.dispatch:NH},vd=()=>{},DH=()=>vd,MH=(e,t)=>e===t;function J(e){var t=v.useContext(Jw);return RH.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:DH,t?t.store.getState:vd,t?t.store.getState:vd,t?e:vd,MH)}function LH(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function jH(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function VH(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var AT=e=>Array.isArray(e)?e:[e];function $H(e){const t=Array.isArray(e[0])?e[0]:e;return VH(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function UH(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var FH=class{constructor(e){this.value=e}deref(){return this.value}},zH=typeof WeakRef<"u"?WeakRef:FH,BH=0,IT=1;function Df(){return{s:BH,v:void 0,o:null,p:null}}function E2(e,t={}){let n=Df();const{resultEqualityCheck:r}=t;let i,o=0;function a(){var d;let s=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let _=s.o;_===null&&(s.o=_=new WeakMap);const y=_.get(g);y===void 0?(s=Df(),_.set(g,s)):s=y}else{let _=s.p;_===null&&(s.p=_=new Map);const y=_.get(g);y===void 0?(s=Df(),_.set(g,s)):s=y}}const u=s;let c;if(s.s===IT)c=s.v;else if(c=e.apply(null,arguments),o++,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,c)&&(c=h,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new zH(c):c}return u.s=IT,u.v=c,c}return a.clearCache=()=>{n=Df(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function WH(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,a=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),LH(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=E2,argsMemoizeOptions:g=[],devModeChecks:_={}}=c,y=AT(h),w=AT(g),b=$H(i),P=d(function(){return o++,u.apply(null,arguments)},...y),k=p(function(){a++;const M=UH(b,arguments);return s=P.apply(null,M),s},...w);return Object.assign(k,{resultFunc:u,memoizedResultFunc:P,dependencies:b,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>s,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var V=WH(E2),KH=Object.assign((e,t=V)=>{jH(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((a,s,l)=>(a[n[l]]=s,a),{}))},{withTypes:()=>KH}),b2={},P2={},S2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=t(r),s=t(i);if(a===s&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?s-a:a-s}return 0};e.compareValues=n})(S2);var T2={},Zw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Zw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zw,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}e.isKey=i})(T2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S2,n=T2,r=Jp;function i(o,a,s,l){if(o==null)return[];s=l?void 0:s,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const u=(p,g)=>{let _=p;for(let y=0;y<g.length&&_!=null;++y)_=_[g[y]];return _},c=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,d=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return o.map(p=>({original:p,criteria:d.map(g=>c(g,p))})).slice().sort((p,g)=>{for(let _=0;_<d.length;_++){const y=t.compareValues(p.criteria[_],g.criteria[_],s[_]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=i})(P2);var x2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),a=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<o?a(c,l+1):i.push(c)}};return a(n,0),i}e.flatten=t})(x2);var eE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xw,n=em,r=Kw,i=qw;function o(a,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],a):!1}e.isIterateeCall=o})(eE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P2,n=x2,r=eE;function i(o,...a){const s=a.length;return s>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:s>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(o,n.flatten(a),["asc"])}e.sortBy=i})(b2);var HH=b2.sortBy;const nm=Si(HH);var A2=e=>e.legend.settings,qH=e=>e.legend.size,GH=e=>e.legend.payload,YH=V([GH,A2],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?nm(r,n):r});function QH(){return J(YH)}var Mf=1;function I2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-t.height)>Mf||Math.abs(a.left-t.left)>Mf||Math.abs(a.top-t.top)>Mf||Math.abs(a.width-t.width)>Mf)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function At(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var XH=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),kT=XH,Hg=()=>Math.random().toString(36).substring(7).split("").join("."),JH={INIT:`@@redux/INIT${Hg()}`,REPLACE:`@@redux/REPLACE${Hg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hg()}`},gh=JH;function tE(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function k2(e,t,n){if(typeof e!="function")throw new Error(At(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(At(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(At(1));return n(k2)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function u(){a===o&&(a=new Map,o.forEach((y,w)=>{a.set(w,y)}))}function c(){if(l)throw new Error(At(3));return i}function d(y){if(typeof y!="function")throw new Error(At(4));if(l)throw new Error(At(5));let w=!0;u();const b=s++;return a.set(b,y),function(){if(w){if(l)throw new Error(At(6));w=!1,u(),a.delete(b),o=null}}}function h(y){if(!tE(y))throw new Error(At(7));if(typeof y.type>"u")throw new Error(At(8));if(typeof y.type!="string")throw new Error(At(17));if(l)throw new Error(At(9));try{l=!0,i=r(i,y)}finally{l=!1}return(o=a).forEach(b=>{b()}),y}function p(y){if(typeof y!="function")throw new Error(At(10));r=y,h({type:gh.REPLACE})}function g(){const y=d;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(At(11));function b(){const k=w;k.next&&k.next(c())}return b(),{unsubscribe:y(b)}},[kT](){return this}}}return h({type:gh.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:p,[kT]:g}}function ZH(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:gh.INIT})>"u")throw new Error(At(12));if(typeof n(void 0,{type:gh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(At(13))})}function C2(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const a=t[o];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{ZH(n)}catch(o){i=o}return function(a={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],p=a[d],g=h(p,s);if(typeof g>"u")throw s&&s.type,new Error(At(14));u[d]=g,l=l||g!==p}return l=l||r.length!==Object.keys(a).length,l?u:a}}function vh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function eq(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(At(15))};const a={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},s=e.map(l=>l(a));return o=vh(...s)(i.dispatch),{...i,dispatch:o}}}function O2(e){return tE(e)&&"type"in e&&typeof e.type=="string"}var R2=Symbol.for("immer-nothing"),CT=Symbol.for("immer-draftable"),fn=Symbol.for("immer-state");function ur(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Nn=Object,Ms=Nn.getPrototypeOf,yh="constructor",rm="prototype",zy="configurable",_h="enumerable",yd="writable",Wu="value",_i=e=>!!e&&!!e[fn];function _r(e){var t;return e?N2(e)||im(e)||!!e[CT]||!!((t=e[yh])!=null&&t[CT])||om(e)||am(e):!1}var tq=Nn[rm][yh].toString(),OT=new WeakMap;function N2(e){if(!e||!nE(e))return!1;const t=Ms(e);if(t===null||t===Nn[rm])return!0;const n=Nn.hasOwnProperty.call(t,yh)&&t[yh];if(n===Object)return!0;if(!Ka(n))return!1;let r=OT.get(n);return r===void 0&&(r=Function.toString.call(n),OT.set(n,r)),r===tq}function Tc(e,t,n=!0){xc(e)===0?(n?Reflect.ownKeys(e):Nn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function xc(e){const t=e[fn];return t?t.type_:im(e)?1:om(e)?2:am(e)?3:0}var RT=(e,t,n=xc(e))=>n===2?e.has(t):Nn[rm].hasOwnProperty.call(e,t),By=(e,t,n=xc(e))=>n===2?e.get(t):e[t],wh=(e,t,n,r=xc(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function nq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var im=Array.isArray,om=e=>e instanceof Map,am=e=>e instanceof Set,nE=e=>typeof e=="object",Ka=e=>typeof e=="function",qg=e=>typeof e=="boolean",Gr=e=>e.copy_||e.base_,rE=e=>e.modified_?e.copy_:e.base_;function Wy(e,t){if(om(e))return new Map(e);if(am(e))return new Set(e);if(im(e))return Array[rm].slice.call(e);const n=N2(e);if(t===!0||t==="class_only"&&!n){const r=Nn.getOwnPropertyDescriptors(e);delete r[fn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s[yd]===!1&&(s[yd]=!0,s[zy]=!0),(s.get||s.set)&&(r[a]={[zy]:!0,[yd]:!0,[_h]:s[_h],[Wu]:e[a]})}return Nn.create(Ms(e),r)}else{const r=Ms(e);if(r!==null&&n)return{...e};const i=Nn.create(r);return Nn.assign(i,e)}}function iE(e,t=!1){return sm(e)||_i(e)||!_r(e)||(xc(e)>1&&Nn.defineProperties(e,{set:Lf,add:Lf,clear:Lf,delete:Lf}),Nn.freeze(e),t&&Tc(e,(n,r)=>{iE(r,!0)},!1)),e}function rq(){ur(2)}var Lf={[Wu]:rq};function sm(e){return e===null||!nE(e)?!0:Nn.isFrozen(e)}var Eh="MapSet",Ky="Patches",D2={};function Ls(e){const t=D2[e];return t||ur(0,e),t}var iq=e=>!!D2[e],Ku,M2=()=>Ku,oq=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:iq(Eh)?Ls(Eh):void 0});function NT(e,t){t&&(e.patchPlugin_=Ls(Ky),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Hy(e){qy(e),e.drafts_.forEach(aq),e.drafts_=null}function qy(e){e===Ku&&(Ku=e.parent_)}var DT=e=>Ku=oq(Ku,e);function aq(e){const t=e[fn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function MT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[fn].modified_&&(Hy(t),ur(4)),_r(e)&&(e=LT(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[fn].base_,e,t)}else e=LT(t,n);return sq(t,e,!0),Hy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==R2?e:void 0}function LT(e,t){if(sm(t))return t;const n=t[fn];if(!n)return oE(t,e.handledSet_,e);if(!lm(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);V2(n,e)}return n.copy_}function sq(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&iE(t,n)}function L2(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var lm=(e,t)=>e.scope_===t,lq=[];function j2(e,t,n,r){const i=Gr(e),o=e.type_;if(r!==void 0&&By(i,r,o)===t){wh(i,r,n,o);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;Tc(i,(l,u)=>{if(_i(u)){const c=s.get(u)||[];c.push(l),s.set(u,c)}})}const a=e.draftLocations_.get(t)??lq;for(const s of a)wh(i,s,n,o)}function uq(e,t,n){e.callbacks_.push(function(i){var s;const o=t;if(!o||!lm(o,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(o);const a=rE(o);j2(e,o.draft_??o,a,n),V2(o,i)})}function V2(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}L2(e)}}function cq(e,t,n){const{scope_:r}=e;if(_i(n)){const i=n[fn];lm(i,r)&&i.callbacks_.push(function(){_d(e);const a=rE(i);j2(e,n,a,t)})}else _r(n)&&e.callbacks_.push(function(){const o=Gr(e);By(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&oE(By(e.copy_,t,e.type_),r.handledSet_,r)})}function oE(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||_i(e)||t.has(e)||!_r(e)||sm(e)||(t.add(e),Tc(e,(r,i)=>{if(_i(i)){const o=i[fn];if(lm(o,n)){const a=rE(o);wh(e,r,a,e.type_),L2(o)}}else _r(i)&&oE(i,t,n)})),e}function fq(e,t){const n=im(e),r={type_:n?1:0,scope_:t?t.scope_:M2(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=aE;n&&(i=[r],o=Hu);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,[s,r]}var aE={get(e,t){if(t===fn)return e;const n=Gr(e);if(!RT(n,t,e.type_))return dq(e,n,t);const r=n[t];if(e.finalized_||!_r(r))return r;if(r===Gg(e.base_,t)){_d(e);const i=e.type_===1?+t:t,o=Yy(e.scope_,r,e,i);return e.copy_[i]=o}return r},has(e,t){return t in Gr(e)},ownKeys(e){return Reflect.ownKeys(Gr(e))},set(e,t,n){const r=$2(Gr(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Gg(Gr(e),t),o=i==null?void 0:i[fn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(nq(n,i)&&(n!==void 0||RT(e.base_,t,e.type_)))return!0;_d(e),Gy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),cq(e,t,n)),!0},deleteProperty(e,t){return _d(e),Gg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Gy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Gr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[yd]:!0,[zy]:e.type_!==1||t!=="length",[_h]:r[_h],[Wu]:n[t]}},defineProperty(){ur(11)},getPrototypeOf(e){return Ms(e.base_)},setPrototypeOf(){ur(12)}},Hu={};Tc(aE,(e,t)=>{Hu[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Hu.deleteProperty=function(e,t){return Hu.set.call(this,e,t,void 0)};Hu.set=function(e,t,n){return aE.set.call(this,e[0],t,n,e[0])};function Gg(e,t){const n=e[fn];return(n?Gr(n):e)[t]}function dq(e,t,n){var i;const r=$2(t,n);return r?Wu in r?r[Wu]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function $2(e,t){if(!(t in e))return;let n=Ms(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ms(n)}}function Gy(e){e.modified_||(e.modified_=!0,e.parent_&&Gy(e.parent_))}function _d(e){e.copy_||(e.assigned_=new Map,e.copy_=Wy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hq=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ka(n)&&!Ka(r)){const a=r;r=n;const s=this;return function(u=a,...c){return s.produce(u,d=>r.call(this,d,...c))}}Ka(r)||ur(6),i!==void 0&&!Ka(i)&&ur(7);let o;if(_r(n)){const a=DT(this),s=Yy(a,n,void 0);let l=!0;try{o=r(s),l=!1}finally{l?Hy(a):qy(a)}return NT(a,i),MT(o,a)}else if(!n||!nE(n)){if(o=r(n),o===void 0&&(o=n),o===R2&&(o=void 0),this.autoFreeze_&&iE(o,!0),i){const a=[],s=[];Ls(Ky).generateReplacementPatches_(n,o,{patches_:a,inversePatches_:s}),i(a,s)}return o}else ur(1,n)},this.produceWithPatches=(n,r)=>{if(Ka(n))return(s,...l)=>this.produceWithPatches(s,u=>n(u,...l));let i,o;return[this.produce(n,r,(s,l)=>{i=s,o=l}),i,o]},qg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),qg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),qg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){_r(t)||ur(8),_i(t)&&(t=mr(t));const n=DT(this),r=Yy(n,t,void 0);return r[fn].isManual_=!0,qy(n),r}finishDraft(t,n){const r=t&&t[fn];(!r||!r.isManual_)&&ur(9);const{scope_:i}=r;return NT(i,n),MT(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Ls(Ky).applyPatches_;return _i(t)?i(t,n):this.produce(t,o=>i(o,n))}};function Yy(e,t,n,r){const[i,o]=om(t)?Ls(Eh).proxyMap_(t,n):am(t)?Ls(Eh).proxySet_(t,n):fq(t,n);return((n==null?void 0:n.scope_)??M2()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?uq(n,o,r):o.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(o);const{patchPlugin_:u}=l;o.modified_&&u&&u.generatePatches_(o,[],l)}),i}function mr(e){return _i(e)||ur(10,e),U2(e)}function U2(e){if(!_r(e)||sm(e))return e;const t=e[fn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Wy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Wy(e,!0);return Tc(n,(i,o)=>{wh(n,i,U2(o))},r),t&&(t.finalized_=!1),n}var pq=new hq,F2=pq.produce;function z2(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var mq=z2(),gq=z2,vq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vh:vh.apply(null,arguments)};function tr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Mn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>O2(r)&&r.type===e,n}var B2=class ql extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ql.prototype)}static get[Symbol.species](){return ql}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ql(...t[0].concat(this)):new ql(...t.concat(this))}};function jT(e){return _r(e)?F2(e,()=>{}):e}function jf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function yq(e){return typeof e=="boolean"}var _q=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let a=new B2;return n&&(yq(n)?a.push(mq):a.push(gq(n.extraArgument))),a},W2="RTK_autoBatch",Ve=()=>e=>({payload:e,meta:{[W2]:!0}}),VT=e=>t=>{setTimeout(t,e)},K2=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,a=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VT(10):e.type==="callback"?e.queueNotification:VT(e.timeout),u=()=>{a=!1,o&&(o=!1,s.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),h=r.subscribe(d);return s.add(c),()=>{h(),s.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[W2]),o=!i,o&&(a||(a=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},wq=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new B2(e);return r&&i.push(K2(typeof r=="object"?r:void 0)),i};function Eq(e){const t=_q(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(tE(n))l=C2(n);else throw new Error(Mn(1));let u;typeof r=="function"?u=r(t):u=t();let c=vh;i&&(c=vq({trace:!1,...typeof i=="object"&&i}));const d=eq(...u),h=wq(d);let p=typeof s=="function"?s(h):h();const g=c(...p);return k2(l,a,g)}function H2(e){const t={},n=[];let r;const i={addCase(o,a){const s=typeof o=="string"?o:o.type;if(!s)throw new Error(Mn(28));if(s in t)throw new Error(Mn(29));return t[s]=a,i},addAsyncThunk(o,a){return a.pending&&(t[o.pending.type]=a.pending),a.rejected&&(t[o.rejected.type]=a.rejected),a.fulfilled&&(t[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function bq(e){return typeof e=="function"}function Pq(e,t){let[n,r,i]=H2(t),o;if(bq(e))o=()=>jT(e());else{const s=jT(e);o=()=>s}function a(s=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(_i(c)){const p=d(c,l);return p===void 0?c:p}else{if(_r(c))return F2(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},s)}return a.getInitialState=o,a}var Sq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Tq=(e=21)=>{let t="",n=e;for(;n--;)t+=Sq[Math.random()*64|0];return t},xq=Symbol.for("rtk-slice-createasyncthunk");function Aq(e,t){return`${e}/${t}`}function Iq({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[xq];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(Mn(11));typeof process<"u";const s=(typeof i.reducers=="function"?i.reducers(Cq()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(k,O){const M=typeof k=="string"?k:k.type;if(!M)throw new Error(Mn(12));if(M in u.sliceCaseReducersByType)throw new Error(Mn(13));return u.sliceCaseReducersByType[M]=O,c},addMatcher(k,O){return u.sliceMatchers.push({matcher:k,reducer:O}),c},exposeAction(k,O){return u.actionCreators[k]=O,c},exposeCaseReducer(k,O){return u.sliceCaseReducersByName[k]=O,c}};l.forEach(k=>{const O=s[k],M={reducerName:k,type:Aq(o,k),createNotation:typeof i.reducers=="function"};Rq(O)?Dq(M,O,c,t):Oq(M,O,c)});function d(){const[k={},O=[],M=void 0]=typeof i.extraReducers=="function"?H2(i.extraReducers):[i.extraReducers],T={...k,...u.sliceCaseReducersByType};return Pq(i.initialState,S=>{for(let I in T)S.addCase(I,T[I]);for(let I of u.sliceMatchers)S.addMatcher(I.matcher,I.reducer);for(let I of O)S.addMatcher(I.matcher,I.reducer);M&&S.addDefaultCase(M)})}const h=k=>k,p=new Map,g=new WeakMap;let _;function y(k,O){return _||(_=d()),_(k,O)}function w(){return _||(_=d()),_.getInitialState()}function b(k,O=!1){function M(S){let I=S[k];return typeof I>"u"&&O&&(I=jf(g,M,w)),I}function T(S=h){const I=jf(p,O,()=>new WeakMap);return jf(I,S,()=>{const R={};for(const[C,D]of Object.entries(i.selectors??{}))R[C]=kq(D,S,()=>jf(g,S,w),O);return R})}return{reducerPath:k,getSelectors:T,get selectors(){return T(M)},selectSlice:M}}const P={name:o,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...b(a),injectInto(k,{reducerPath:O,...M}={}){const T=O??a;return k.inject({reducerPath:T,reducer:y},M),{...P,...b(T,!0)}}};return P}}function kq(e,t,n,r){function i(o,...a){let s=t(o);return typeof s>"u"&&r&&(s=n()),e(s,...a)}return i.unwrapped=e,i}var Sn=Iq();function Cq(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Oq({type:e,reducerName:t,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!Nq(r))throw new Error(Mn(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,a?tr(e,a):tr(e))}function Rq(e){return e._reducerDefinitionType==="asyncThunk"}function Nq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Dq({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Mn(18));const{payloadCreator:o,fulfilled:a,pending:s,rejected:l,settled:u,options:c}=n,d=i(e,o,c);r.exposeAction(t,d),a&&r.addCase(d.fulfilled,a),s&&r.addCase(d.pending,s),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:a||Vf,pending:s||Vf,rejected:l||Vf,settled:u||Vf})}function Vf(){}var Mq="task",q2="listener",G2="completed",sE="cancelled",Lq=`task-${sE}`,jq=`task-${G2}`,Qy=`${q2}-${sE}`,Vq=`${q2}-${G2}`,um=class{constructor(e){ng(this,"name","TaskAbortError");ng(this,"message");this.code=e,this.message=`${Mq} ${sE} (reason: ${e})`}},lE=(e,t)=>{if(typeof e!="function")throw new TypeError(Mn(32))},bh=()=>{},Y2=(e,t=bh)=>(e.catch(t),e),Q2=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ia=e=>{if(e.aborted)throw new um(e.reason)};function X2(e,t){let n=bh;return new Promise((r,i)=>{const o=()=>i(new um(e.reason));if(e.aborted){o();return}n=Q2(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=bh})}var $q=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof um?"cancelled":"rejected",error:n}}finally{t==null||t()}},Ph=e=>t=>Y2(X2(e,t).then(n=>(ia(e),n))),J2=e=>{const t=Ph(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:gs}=Object,$T={},cm="listenerMiddleware",Uq=(e,t)=>{const n=r=>Q2(e,()=>r.abort(e.reason));return(r,i)=>{lE(r);const o=new AbortController;n(o);const a=$q(async()=>{ia(e),ia(o.signal);const s=await r({pause:Ph(o.signal),delay:J2(o.signal),signal:o.signal});return ia(o.signal),s},()=>o.abort(jq));return i!=null&&i.autoJoin&&t.push(a.catch(bh)),{result:Ph(e)(a),cancel(){o.abort(Lq)}}}},Fq=(e,t)=>{const n=async(r,i)=>{ia(t);let o=()=>{};const s=[new Promise((l,u)=>{let c=e({predicate:r,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await X2(t,Promise.race(s));return ia(t),l}finally{o()}};return(r,i)=>Y2(n(r,i))},Z2=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=tr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Mn(21));return lE(o),{predicate:i,type:t,effect:o}},eD=gs(e=>{const{type:t,predicate:n,effect:r}=Z2(e);return{id:Tq(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Mn(22))}}},{withTypes:()=>eD}),UT=(e,t)=>{const{type:n,effect:r,predicate:i}=Z2(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Xy=e=>{e.pending.forEach(t=>{t.abort(Qy)})},zq=(e,t)=>()=>{for(const n of t.keys())Xy(n);e.clear()},FT=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},tD=gs(tr(`${cm}/add`),{withTypes:()=>tD}),Bq=tr(`${cm}/removeAll`),nD=gs(tr(`${cm}/remove`),{withTypes:()=>nD}),Wq=(...e)=>{console.error(`${cm}/error`,...e)},Ac=(e={})=>{const t=new Map,n=new Map,r=p=>{const g=n.get(p)??0;n.set(p,g+1)},i=p=>{const g=n.get(p)??1;g===1?n.delete(p):n.set(p,g-1)},{extra:o,onError:a=Wq}=e;lE(a);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&Xy(p)}),l=p=>{const g=UT(t,p)??eD(p);return s(g)};gs(l,{withTypes:()=>l});const u=p=>{const g=UT(t,p);return g&&(g.unsubscribe(),p.cancelActive&&Xy(g)),!!g};gs(u,{withTypes:()=>u});const c=async(p,g,_,y)=>{const w=new AbortController,b=Fq(l,w.signal),P=[];try{p.pending.add(w),r(p),await Promise.resolve(p.effect(g,gs({},_,{getOriginalState:y,condition:(k,O)=>b(k,O).then(Boolean),take:b,delay:J2(w.signal),pause:Ph(w.signal),extra:o,signal:w.signal,fork:Uq(w.signal,P),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((k,O,M)=>{k!==w&&(k.abort(Qy),M.delete(k))})},cancel:()=>{w.abort(Qy),p.pending.delete(w)},throwIfCancelled:()=>{ia(w.signal)}})))}catch(k){k instanceof um||FT(a,k,{raisedBy:"effect"})}finally{await Promise.all(P),w.abort(Vq),i(p),p.pending.delete(w)}},d=zq(t,n);return{middleware:p=>g=>_=>{if(!O2(_))return g(_);if(tD.match(_))return l(_.payload);if(Bq.match(_)){d();return}if(nD.match(_))return u(_.payload);let y=p.getState();const w=()=>{if(y===$T)throw new Error(Mn(23));return y};let b;try{if(b=g(_),t.size>0){const P=p.getState(),k=Array.from(t.values());for(const O of k){let M=!1;try{M=O.predicate(_,P,y)}catch(T){M=!1,FT(a,T,{raisedBy:"predicate"})}M&&c(O,_,p,w)}}}finally{y=$T}return b},startListening:l,stopListening:u,clearListeners:d}};function Mn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Kq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},rD=Sn({name:"chartLayout",initialState:Kq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Hq,setLayout:qq,setChartSize:Gq,setScale:Yq}=rD.actions,Qq=rD.reducer;function iD(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function zT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(n),!0).forEach(function(r){Xq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xq(e,t,n){return(t=Jq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jq(e){var t=Zq(e,"string");return typeof t=="symbol"?t:t+""}function Zq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qt(e,t,n){return bt(e)||bt(t)?n:Ur(t)?Zp(e,t,n):typeof t=="function"?t(e):n}var e7=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:s}=t;if((s==="vertical"||s==="horizontal"&&a==="middle")&&o!=="center"&&ee(e[o]))return is(is({},e),{},{[o]:e[o]+(r||0)});if((s==="horizontal"||s==="vertical"&&o==="center")&&a!=="middle"&&ee(e[a]))return is(is({},e),{},{[a]:e[a]+(i||0)})}return e},Ro=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",oD=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var i,o,a=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===n&&(o=!0),s.coordinate));return i||a.push(t),o||a.push(n),a},aD=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:a,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:h,axisType:p}=e;if(!a)return null;var g=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,_=(t||n)&&i==="category"&&a.bandwidth?a.bandwidth()/g:0;if(_=p==="angleAxis"&&o&&o.length>=2?Gn(o[0]-o[1])*2*_:_,t&&(d||h)){var y=(d||h||[]).map((w,b)=>{var P=r?r.indexOf(w):w;return{coordinate:a(P)+_,value:w,offset:_,index:b}});return y.filter(w=>!$r(w.coordinate))}return l&&u?u.map((w,b)=>({coordinate:a(w)+_,value:w,index:b,offset:_})):a.ticks&&!n&&c!=null?a.ticks(c).map((w,b)=>({coordinate:a(w)+_,value:w,offset:_,index:b})):a.domain().map((w,b)=>({coordinate:a(w)+_,value:r?r[w]:w,index:b,offset:_}))},BT=1e-4,t7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-BT,o=Math.max(r[0],r[1])+BT,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}},n7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=$r(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},r7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=$r(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},i7={sign:n7,expand:VK,none:Ns,silhouette:$K,wiggle:UK,positive:r7},o7=(e,t,n)=>{var r=i7[n],i=jK().keys(t).value((o,a)=>Number(Qt(o,a,0))).order(Uy).offset(r);return i(e)};function WT(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:a}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!bt(i[t.dataKey])){var s=YN(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Qt(i,bt(a)?t.dataKey:a);return bt(l)?null:t.scale(l)}var a7=e=>{var t=e.flat(2).filter(ee);return[Math.min(...t),Math.max(...t)]},s7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],l7=(e,t,n)=>{if(e!=null)return s7(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:a}=o,s=a.reduce((l,u)=>{var c=iD(u,t,n),d=a7(c);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},KT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sh=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=nm(t,c=>c.coordinate),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],u=i[a-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function qT(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return is(is({},t),{},{dataKey:n,payload:r,value:i,name:o})}function sD(e,t){if(e)return String(e);if(typeof t=="string")return t}var u7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},c7=(e,t)=>t==="centric"?e.angle:e.radius,Ai=e=>e.layout.width,Ii=e=>e.layout.height,f7=e=>e.layout.scale,lD=e=>e.layout.margin,fm=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),dm=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),d7="data-recharts-item-index",h7="data-recharts-item-data-key",Ic=60;function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(n),!0).forEach(function(r){p7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p7(e,t,n){return(t=m7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m7(e){var t=g7(e,"string");return typeof t=="symbol"?t:t+""}function g7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v7=e=>e.brush.height;function y7(e){var t=dm(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ic;return n+i}return n},0)}function _7(e){var t=dm(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ic;return n+i}return n},0)}function w7(e){var t=fm(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function E7(e){var t=fm(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var jt=V([Ai,Ii,lD,v7,y7,_7,w7,E7,A2,qH],(e,t,n,r,i,o,a,s,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+o},d={top:(n.top||0)+a,bottom:(n.bottom||0)+s},h=$f($f({},d),c),p=h.bottom;h.bottom+=r,h=e7(h,l,u);var g=e-h.left-h.right,_=t-h.top-h.bottom;return $f($f({brushBottom:p},h),{},{width:Math.max(g,0),height:Math.max(_,0)})}),b7=V(jt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),uD=V(Ai,Ii,(e,t)=>({x:0,y:0,width:e,height:t})),P7=v.createContext(null),Tn=()=>v.useContext(P7)!=null,hm=e=>e.brush,pm=V([hm,jt,lD],(e,t,n)=>({height:e.height,x:ee(e.x)?e.x:t.left,y:ee(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ee(e.width)?e.width:t.width})),cD={},fD={},dD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let a,s=null;const l=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),c=()=>{s!==null&&(n.apply(a,s),a=void 0,s=null)},d=()=>{u&&c(),_()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},r)},g=()=>{h!==null&&(clearTimeout(h),h=null)},_=()=>{g(),a=void 0,s=null},y=()=>{c()},w=function(...b){if(i!=null&&i.aborted)return;a=this,s=b;const P=h==null;p(),l&&P&&c()};return w.schedule=p,w.cancel=_,w.flush=y,i==null||i.addEventListener("abort",_,{once:!0}),w}e.debounce=t})(dD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dD;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:s=!0,maxWait:l}=o,u=Array(2);a&&(u[0]="leading"),s&&(u[1]="trailing");let c,d=null;const h=t.debounce(function(..._){c=r.apply(this,_),d=null},i,{edges:u}),p=function(..._){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=r.apply(this,_),d=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,_),c)},g=()=>(h.flush(),c);return p.cancel=h.cancel,p.flush=g,p}e.debounce=n})(fD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fD;function n(r,i=0,o={}){const{leading:a=!0,trailing:s=!0}=o;return t.debounce(r,i,{leading:a,maxWait:i,trailing:s})}e.throttle=n})(cD);var S7=cD.throttle;const T7=Si(S7);var Th=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},hD=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:a}=n,s=yi(r)?e:Number(r),l=yi(i)?t:Number(i);return o&&o>0&&(s?l=s/o:l&&(s=l*o),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:s,calculatedHeight:l}},x7={width:0,height:0,overflow:"visible"},A7={width:0,overflowX:"visible"},I7={height:0,overflowY:"visible"},k7={},C7=e=>{var{width:t,height:n}=e,r=yi(t),i=yi(n);return r&&i?x7:r?A7:i?I7:k7};function O7(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function Pt(e){return Number.isFinite(e)}function Fr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jy.apply(null,arguments)}function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(n),!0).forEach(function(r){R7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R7(e,t,n){return(t=N7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N7(e){var t=D7(e,"string");return typeof t=="symbol"?t:t+""}function D7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pD=v.createContext({width:-1,height:-1});function M7(e){return Fr(e.width)&&Fr(e.height)}function mD(e){var{children:t,width:n,height:r}=e,i=v.useMemo(()=>({width:n,height:r}),[n,r]);return M7(i)?v.createElement(pD.Provider,{value:i},t):null}var uE=()=>v.useContext(pD),L7=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:a=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:d,className:h,onResize:p,style:g={}}=e,_=v.useRef(null),y=v.useRef();y.current=p,v.useImperativeHandle(t,()=>_.current);var[w,b]=v.useState({containerWidth:r.width,containerHeight:r.height}),P=v.useCallback((S,I)=>{b(R=>{var C=Math.round(S),D=Math.round(I);return R.containerWidth===C&&R.containerHeight===D?R:{containerWidth:C,containerHeight:D}})},[]);v.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return Sc;var S=D=>{var N,{width:Z,height:ce}=D[0].contentRect;P(Z,ce),(N=y.current)===null||N===void 0||N.call(y,Z,ce)};c>0&&(S=T7(S,c,{trailing:!0,leading:!1}));var I=new ResizeObserver(S),{width:R,height:C}=_.current.getBoundingClientRect();return P(R,C),I.observe(_.current),()=>{I.disconnect()}},[P,c]);var{containerWidth:k,containerHeight:O}=w;Th(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:T}=hD(k,O,{width:i,height:o,aspect:n,maxHeight:l});return Th(M!=null&&M>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,T,i,o,a,s,n),v.createElement("div",{id:d?"".concat(d):void 0,className:xe("recharts-responsive-container",h),style:QT(QT({},g),{},{width:i,height:o,minWidth:a,minHeight:s,maxHeight:l}),ref:_},v.createElement("div",{style:C7({width:i,height:o})},v.createElement(mD,{width:M,height:T},u)))}),gD=v.forwardRef((e,t)=>{var n=uE();if(Fr(n.width)&&Fr(n.height))return e.children;var{width:r,height:i}=O7({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:a}=hD(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ee(o)&&ee(a)?v.createElement(mD,{width:o,height:a},e.children):v.createElement(L7,Jy({},e,{width:r,height:i,ref:t}))});function vD(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var mm=()=>{var e,t=Tn(),n=J(b7),r=J(pm),i=(e=J(hm))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},j7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},yD=()=>{var e;return(e=J(jt))!==null&&e!==void 0?e:j7},cE=()=>J(Ai),fE=()=>J(Ii),V7=()=>J(e=>e.layout.margin),je=e=>e.layout.layoutType,gm=()=>J(je),$7=()=>{var e=gm();return e!==void 0},vm=e=>{var t=at(),n=Tn(),{width:r,height:i}=e,o=uE(),a=r,s=i;return o&&(a=o.width>0?o.width:r,s=o.height>0?o.height:i),v.useEffect(()=>{!n&&Fr(a)&&Fr(s)&&t(Gq({width:a,height:s}))},[t,n,a,s]),null},_D=Symbol.for("immer-nothing"),XT=Symbol.for("immer-draftable"),jn=Symbol.for("immer-state");function cr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qu=Object.getPrototypeOf;function js(e){return!!e&&!!e[jn]}function wa(e){var t;return e?wD(e)||Array.isArray(e)||!!e[XT]||!!((t=e.constructor)!=null&&t[XT])||kc(e)||_m(e):!1}var U7=Object.prototype.constructor.toString(),JT=new WeakMap;function wD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=JT.get(n);return r===void 0&&(r=Function.toString.call(n),JT.set(n,r)),r===U7}function xh(e,t,n=!0){ym(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ym(e){const t=e[jn];return t?t.type_:Array.isArray(e)?1:kc(e)?2:_m(e)?3:0}function Zy(e,t){return ym(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ED(e,t,n){const r=ym(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function F7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function kc(e){return e instanceof Map}function _m(e){return e instanceof Set}function Wo(e){return e.copy_||e.base_}function e0(e,t){if(kc(e))return new Map(e);if(_m(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=wD(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[jn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(qu(e),r)}else{const r=qu(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function dE(e,t=!1){return wm(e)||js(e)||!wa(e)||(ym(e)>1&&Object.defineProperties(e,{set:Uf,add:Uf,clear:Uf,delete:Uf}),Object.freeze(e),t&&Object.values(e).forEach(n=>dE(n,!0))),e}function z7(){cr(2)}var Uf={value:z7};function wm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var B7={};function Ea(e){const t=B7[e];return t||cr(0,e),t}var Gu;function bD(){return Gu}function W7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ZT(e,t){t&&(Ea("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function t0(e){n0(e),e.drafts_.forEach(K7),e.drafts_=null}function n0(e){e===Gu&&(Gu=e.parent_)}function ex(e){return Gu=W7(Gu,e)}function K7(e){const t=e[jn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tx(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[jn].modified_&&(t0(t),cr(4)),wa(e)&&(e=Ah(t,e),t.parent_||Ih(t,e)),t.patches_&&Ea("Patches").generateReplacementPatches_(n[jn].base_,e,t.patches_,t.inversePatches_)):e=Ah(t,n,[]),t0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_D?e:void 0}function Ah(e,t,n){if(wm(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[jn];if(!i)return xh(t,(o,a)=>nx(e,i,t,o,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Ih(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,s=!1;i.type_===3&&(a=new Set(o),o.clear(),s=!0),xh(a,(l,u)=>nx(e,i,o,l,u,n,s),r),Ih(e,o,!1),n&&e.patches_&&Ea("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function nx(e,t,n,r,i,o,a){if(i==null||typeof i!="object"&&!a)return;const s=wm(i);if(!(s&&!a)){if(js(i)){const l=o&&t&&t.type_!==3&&!Zy(t.assigned_,r)?o.concat(r):void 0,u=Ah(e,i,l);if(ED(n,r,u),js(u))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(wa(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&s)return;Ah(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(kc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Ih(e,i)}}}function Ih(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&dE(t,n)}function H7(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:bD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=hE;n&&(i=[r],o=Yu);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}var hE={get(e,t){if(t===jn)return e;const n=Wo(e);if(!Zy(n,t))return q7(e,n,t);const r=n[t];return e.finalized_||!wa(r)?r:r===Yg(e.base_,t)?(Qg(e),e.copy_[t]=i0(r,e)):r},has(e,t){return t in Wo(e)},ownKeys(e){return Reflect.ownKeys(Wo(e))},set(e,t,n){const r=PD(Wo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Yg(Wo(e),t),o=i==null?void 0:i[jn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(F7(n,i)&&(n!==void 0||Zy(e.base_,t)))return!0;Qg(e),r0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Yg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Qg(e),r0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Wo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){cr(11)},getPrototypeOf(e){return qu(e.base_)},setPrototypeOf(){cr(12)}},Yu={};xh(hE,(e,t)=>{Yu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Yu.deleteProperty=function(e,t){return Yu.set.call(this,e,t,void 0)};Yu.set=function(e,t,n){return hE.set.call(this,e[0],t,n,e[0])};function Yg(e,t){const n=e[jn];return(n?Wo(n):e)[t]}function q7(e,t,n){var i;const r=PD(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function PD(e,t){if(!(t in e))return;let n=qu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=qu(n)}}function r0(e){e.modified_||(e.modified_=!0,e.parent_&&r0(e.parent_))}function Qg(e){e.copy_||(e.copy_=e0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var G7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const a=this;return function(l=o,...u){return a.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&cr(6),r!==void 0&&typeof r!="function"&&cr(7);let i;if(wa(t)){const o=ex(this),a=i0(t,void 0);let s=!0;try{i=n(a),s=!1}finally{s?t0(o):n0(o)}return ZT(o,r),tx(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===_D&&(i=void 0),this.autoFreeze_&&dE(i,!0),r){const o=[],a=[];Ea("Patches").generateReplacementPatches_(t,i,o,a),r(o,a)}return i}else cr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...s)=>this.produceWithPatches(a,l=>t(l,...s));let r,i;return[this.produce(t,n,(a,s)=>{r=a,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){wa(e)||cr(8),js(e)&&(e=Y7(e));const t=ex(this),n=i0(e,void 0);return n[jn].isManual_=!0,n0(t),n}finishDraft(e,t){const n=e&&e[jn];(!n||!n.isManual_)&&cr(9);const{scope_:r}=n;return ZT(r,t),tx(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ea("Patches").applyPatches_;return js(e)?r(e,t):this.produce(e,i=>r(i,t))}};function i0(e,t){const n=kc(e)?Ea("MapSet").proxyMap_(e,t):_m(e)?Ea("MapSet").proxySet_(e,t):H7(e,t);return(t?t.scope_:bD()).drafts_.push(n),n}function Y7(e){return js(e)||cr(10,e),SD(e)}function SD(e){if(!wa(e)||wm(e))return e;const t=e[jn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=e0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=e0(e,!0);return xh(n,(i,o)=>{ED(n,i,SD(o))},r),t&&(t.finalized_=!1),n}var Q7=new G7;Q7.produce;var X7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},TD=Sn({name:"legend",initialState:X7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ve()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=mr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Ve()},removeLegendPayload:{reducer(e,t){var n=mr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Ve()}}}),{setLegendSize:rx,setLegendSettings:J7,addLegendPayload:Z7,replaceLegendPayload:eG,removeLegendPayload:tG}=TD.actions,nG=TD.reducer,rG=["contextPayload"];function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o0.apply(null,arguments)}function ix(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ix(Object(n),!0).forEach(function(r){iG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ix(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iG(e,t,n){return(t=oG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oG(e){var t=aG(e,"string");return typeof t=="symbol"?t:t+""}function aG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sG(e,t){if(e==null)return{};var n,r,i=lG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function uG(e){return e.value}function cG(e){var{contextPayload:t}=e,n=sG(e,rG),r=g2(t,e.payloadUniqBy,uG),i=Vs(Vs({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(dH,i)}function fG(e,t,n,r,i,o){var{layout:a,align:s,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&a==="vertical"?u={left:((r||0)-o.width)/2}:u=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-o.height)/2}:c=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Vs(Vs({},u),c)}function dG(e){var t=at();return v.useEffect(()=>{t(J7(e))},[t,e]),null}function hG(e){var t=at();return v.useEffect(()=>(t(rx(e)),()=>{t(rx({width:0,height:0}))}),[t,e]),null}function pG(e,t,n,r){return e==="vertical"&&ee(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var mG={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function pE(e){var t=Zt(e,mG),n=QH(),r=sK(),i=V7(),{width:o,height:a,wrapperStyle:s,portal:l}=t,[u,c]=I2([n]),d=cE(),h=fE();if(d==null||h==null)return null;var p=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=pG(t.layout,a,o,p),_=l?s:Vs(Vs({position:"absolute",width:(g==null?void 0:g.width)||o||"auto",height:(g==null?void 0:g.height)||a||"auto"},fG(s,t,i,d,h,u)),s),y=l??r;if(y==null||n==null)return null;var w=v.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:c},v.createElement(dG,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(hG,{width:u.width,height:u.height}),v.createElement(cG,o0({},t,g,{margin:i,chartWidth:d,chartHeight:h,contextPayload:n})));return gp.createPortal(w,y)}pE.displayName="Legend";function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a0.apply(null,arguments)}function ox(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ox(Object(n),!0).forEach(function(r){gG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ox(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gG(e,t,n){return(t=vG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vG(e){var t=yG(e,"string");return typeof t=="symbol"?t:t+""}function yG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _G(e){return Array.isArray(e)&&Ur(e[0])&&Ur(e[1])?e.join(" ~ "):e}var wG=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:h=!1}=e,p=()=>{if(o&&o.length){var O={padding:0,margin:0},M=(s?nm(o,s):o).map((T,S)=>{if(T.type==="none")return null;var I=T.formatter||a||_G,{value:R,name:C}=T,D=R,N=C;if(I){var Z=I(R,C,T,S,o);if(Array.isArray(Z))[D,N]=Z;else if(Z!=null)D=Z;else return null}var ce=Xg({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:ce},Ur(N)?v.createElement("span",{className:"recharts-tooltip-item-name"},N):null,Ur(N)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},D),v.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:O},M)}return null},g=Xg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=Xg({margin:0},i),y=!bt(c),w=y?c:"",b=xe("recharts-default-tooltip",l),P=xe("recharts-tooltip-label",u);y&&d&&o!==void 0&&o!==null&&(w=d(c,o));var k=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",a0({className:b,style:g},k),v.createElement("p",{className:P,style:_},v.isValidElement(w)?w:"".concat(w)),p())},Cl="recharts-tooltip-wrapper",EG={visibility:"hidden"};function bG(e){var{coordinate:t,translateX:n,translateY:r}=e;return xe(Cl,{["".concat(Cl,"-right")]:ee(n)&&t&&ee(t.x)&&n>=t.x,["".concat(Cl,"-left")]:ee(n)&&t&&ee(t.x)&&n<t.x,["".concat(Cl,"-bottom")]:ee(r)&&t&&ee(t.y)&&r>=t.y,["".concat(Cl,"-top")]:ee(r)&&t&&ee(t.y)&&r<t.y})}function ax(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(o&&ee(o[r]))return o[r];var c=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return a[r]?c:d;var h=l[r];if(h==null)return 0;if(a[r]){var p=c,g=h;return p<g?Math.max(d,h):Math.max(c,h)}if(u==null)return 0;var _=d+s,y=h+u;return _>y?Math.max(c,h):Math.max(d,h)}function PG(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function SG(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:a,useTranslate3d:s,viewBox:l}=e,u,c,d;return a.height>0&&a.width>0&&n?(c=ax({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=ax({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=PG({translateX:c,translateY:d,useTranslate3d:s})):u=EG,{cssProperties:u,cssClasses:bG({translateX:c,translateY:d,coordinate:n})}}function sx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ff(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sx(Object(n),!0).forEach(function(r){s0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s0(e,t,n){return(t=TG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TG(e){var t=xG(e,"string");return typeof t=="symbol"?t:t+""}function xG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class AG extends v.PureComponent{constructor(){super(...arguments),s0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),s0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:_,innerRef:y,hasPortalFromProps:w}=this.props,{cssClasses:b,cssProperties:P}=SG({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:_.height,width:_.width},useTranslate3d:h,viewBox:p}),k=w?{}:Ff(Ff({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),O=Ff(Ff({},k),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},g);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:O,ref:y},o)}}var xD=()=>{var e;return(e=J(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l0.apply(null,arguments)}function lx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ux(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lx(Object(n),!0).forEach(function(r){IG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IG(e,t,n){return(t=kG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kG(e){var t=CG(e,"string");return typeof t=="symbol"?t:t+""}function CG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cx={curveBasisClosed:xK,curveBasisOpen:AK,curveBasis:TK,curveBumpX:fK,curveBumpY:dK,curveLinearClosed:IK,curveLinear:Gp,curveMonotoneX:kK,curveMonotoneY:CK,curveNatural:OK,curveStep:RK,curveStepAfter:DK,curveStepBefore:NK},kh=e=>Pt(e.x)&&Pt(e.y),fx=e=>e.base!=null&&kh(e.base)&&kh(e),Ol=e=>e.x,Rl=e=>e.y,OG=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Pc(e));return(n==="curveMonotone"||n==="curveBump")&&t?cx["".concat(n).concat(t==="vertical"?"Y":"X")]:cx[n]||Gp},RG=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,a=OG(t,i),s=o?n.filter(kh):n,l;if(Array.isArray(r)){var u=n.map((p,g)=>ux(ux({},p),{},{base:r[g]}));i==="vertical"?l=Nf().y(Rl).x1(Ol).x0(p=>p.base.x):l=Nf().x(Ol).y1(Rl).y0(p=>p.base.y);var c=l.defined(fx).curve(a),d=o?u.filter(fx):u;return c(d)}i==="vertical"&&ee(r)?l=Nf().y(Rl).x1(Ol).x0(r):ee(r)?l=Nf().x(Ol).y1(Rl).y0(r):l=MN().x(Ol).y(Rl);var h=l.defined(kh).curve(a);return h(s)},AD=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?RG(e):r;return v.createElement("path",l0({},Vr(e),zw(e),{className:xe("recharts-curve",t),d:o===null?void 0:o,ref:i}))},NG=["x","y","top","left","width","height","className"];function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u0.apply(null,arguments)}function dx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dx(Object(n),!0).forEach(function(r){MG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MG(e,t,n){return(t=LG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LG(e){var t=jG(e,"string");return typeof t=="symbol"?t:t+""}function jG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VG(e,t){if(e==null)return{};var n,r,i=$G(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $G(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UG=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),FG=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:s}=e,l=VG(e,NG),u=DG({x:t,y:n,top:r,left:i,width:o,height:a},l);return!ee(t)||!ee(n)||!ee(o)||!ee(a)||!ee(r)||!ee(i)?null:v.createElement("path",u0({},cn(u),{className:xe("recharts-cross",s),d:UG(t,n,o,a,r,i)}))};function zG(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function hx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function px(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hx(Object(n),!0).forEach(function(r){BG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BG(e,t,n){return(t=WG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WG(e){var t=KG(e,"string");return typeof t=="symbol"?t:t+""}function KG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HG=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ID=(e,t,n)=>e.map(r=>"".concat(HG(r)," ").concat(t,"ms ").concat(n)).join(","),qG=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Qu=(e,t)=>Object.keys(t).reduce((n,r)=>px(px({},n),{},{[r]:e(r,t[r])}),{});function mx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mx(Object(n),!0).forEach(function(r){GG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GG(e,t,n){return(t=YG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YG(e){var t=QG(e,"string");return typeof t=="symbol"?t:t+""}function QG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ch=(e,t,n)=>e+(t-e)*n,c0=e=>{var{from:t,to:n}=e;return t!==n},kD=(e,t,n)=>{var r=Qu((i,o)=>{if(c0(o)){var[a,s]=e(o.from,o.to,o.velocity);return lt(lt({},o),{},{from:a,velocity:s})}return o},t);return n<1?Qu((i,o)=>c0(o)?lt(lt({},o),{},{velocity:Ch(o.velocity,r[i].velocity,n),from:Ch(o.from,r[i].from,n)}):o,t):kD(e,r,n-1)};function XG(e,t,n,r,i,o){var a,s=r.reduce((h,p)=>lt(lt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>Qu((h,p)=>p.from,s),u=()=>!Object.values(s).filter(c0).length,c=null,d=h=>{a||(a=h);var p=h-a,g=p/n.dt;s=kD(n,s,g),i(lt(lt(lt({},e),t),l())),a=h,u()||(c=o.setTimeout(d))};return()=>(c=o.setTimeout(d),()=>{var h;(h=c)===null||h===void 0||h()})}function JG(e,t,n,r,i,o,a){var s=null,l=i.reduce((d,h)=>lt(lt({},d),{},{[h]:[e[h],t[h]]}),{}),u,c=d=>{u||(u=d);var h=(d-u)/r,p=Qu((_,y)=>Ch(...y,n(h)),l);if(o(lt(lt(lt({},e),t),p)),h<1)s=a.setTimeout(c);else{var g=Qu((_,y)=>Ch(...y,n(1)),l);o(lt(lt(lt({},e),t),g))}};return()=>(s=a.setTimeout(c),()=>{var d;(d=s)===null||d===void 0||d()})}const ZG=(e,t,n,r,i,o)=>{var a=qG(e,t);return n==null?()=>(i(lt(lt({},e),t)),()=>{}):n.isStepper===!0?XG(e,t,n,a,i,o):JG(e,t,n,r,a,i,o)};var Oh=1e-4,CD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],OD=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),gx=(e,t)=>n=>{var r=CD(e,t);return OD(r,n)},eY=(e,t)=>n=>{var r=CD(e,t),i=[...r.map((o,a)=>o*a).slice(1),0];return OD(i,n)},tY=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=o[1].split(")")[0].split(",").map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]}}}return n.length===4?n:[0,0,1,1]},nY=(e,t,n,r)=>{var i=gx(e,n),o=gx(t,r),a=eY(e,n),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,h=0;h<8;++h){var p=i(d)-c,g=a(d);if(Math.abs(p-c)<Oh||g<Oh)return o(d);d=s(d-p/g)}return o(d)};return l.isStepper=!1,l},vx=function(){return nY(...tY(...arguments))},rY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(a,s,l)=>{var u=-(a-s)*n,c=l*r,d=l+(u-c)*i/1e3,h=l*i/1e3+a;return Math.abs(h-s)<Oh&&Math.abs(d)<Oh?[s,0]:[h,d]};return o.isStepper=!0,o.dt=i,o},iY=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vx(e);case"spring":return rY();default:if(e.split("(")[0]==="cubic-bezier")return vx(e)}return typeof e=="function"?e:null};function oY(e){var t,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(o.bind(null,u),l);return}o(l),i=e.setTimeout(o.bind(null,u));return}typeof a=="string"&&(t=a,n(t)),typeof a=="object"&&(t=a,n(t)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>e}}class aY{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function sY(){return oY(new aY)}var lY=v.createContext(sY);function uY(e,t){var n=v.useContext(lY);return v.useMemo(()=>t??n(e),[e,t,n])}var cY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Cc={devToolsEnabled:!1,isSsr:cY()},fY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yx={t:0},Jg={t:1};function mE(e){var t=Zt(e,fY),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:s,onAnimationStart:l,children:u}=t,c=n==="auto"?!Cc.isSsr:n,d=uY(t.animationId,t.animationManager),[h,p]=v.useState(c?yx:Jg),g=v.useRef(null);return v.useEffect(()=>{c||p(Jg)},[c]),v.useEffect(()=>{if(!c||!r)return Sc;var _=ZG(yx,Jg,iY(o),i,p,d.getTimeoutController()),y=()=>{g.current=_()};return d.start([l,a,y,i,s]),()=>{d.stop(),g.current&&g.current(),s()}},[c,r,i,o,a,l,s,d]),u(h.t)}function gE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Bu(t)),r=v.useRef(e);return r.current!==e&&(n.current=Bu(t),r.current=e),n.current}var dY=["radius"],hY=["radius"];function _x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_x(Object(n),!0).forEach(function(r){pY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_x(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pY(e,t,n){return(t=mY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mY(e){var t=gY(e,"string");return typeof t=="symbol"?t:t+""}function gY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rh.apply(null,arguments)}function Ex(e,t){if(e==null)return{};var n,r,i=vY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bx=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,s=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,h=4;d<h;d++)c[d]=i[d]>o?o:i[d];u="M".concat(e,",").concat(t+a*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+s*c[0],",").concat(t)),u+="L ".concat(e+n-s*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(t+a*c[1])),u+="L ".concat(e+n,",").concat(t+r-a*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+n-s*c[2],",").concat(t+r)),u+="L ".concat(e+s*c[3],",").concat(t+r),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+r-a*c[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);u="M ".concat(e,",").concat(t+a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+s*p,",").concat(t,`
            L `).concat(e+n-s*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n,",").concat(t+a*p,`
            L `).concat(e+n,",").concat(t+r-a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n-s*p,",").concat(t+r,`
            L `).concat(e+s*p,",").concat(t+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+r-a*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},Px={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RD=e=>{var t=Zt(e,Px),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var fe=n.current.getTotalLength();fe&&i(fe)}catch{}},[]);var{x:o,y:a,width:s,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:_}=t,y=v.useRef(s),w=v.useRef(l),b=v.useRef(o),P=v.useRef(a),k=v.useMemo(()=>({x:o,y:a,width:s,height:l,radius:u}),[o,a,s,l,u]),O=gE(k,"rectangle-");if(o!==+o||a!==+a||s!==+s||l!==+l||s===0||l===0)return null;var M=xe("recharts-rectangle",c);if(!_){var T=cn(t),S=Ex(T,dY);return v.createElement("path",Rh({},S,{radius:typeof u=="number"?u:void 0,className:M,d:bx(o,a,s,l,u)}))}var I=y.current,R=w.current,C=b.current,D=P.current,N="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),ce=ID(["strokeDasharray"],h,typeof d=="string"?d:Px.animationEasing);return v.createElement(mE,{animationId:O,key:O,canBegin:r>0,duration:h,easing:d,isActive:_,begin:p},fe=>{var se=yn(I,s,fe),z=yn(R,l,fe),B=yn(C,o,fe),X=yn(D,a,fe);n.current&&(y.current=se,w.current=z,b.current=B,P.current=X);var le;g?fe>0?le={transition:ce,strokeDasharray:Z}:le={strokeDasharray:N}:le={strokeDasharray:Z};var ue=cn(t),Ee=Ex(ue,hY);return v.createElement("path",Rh({},Ee,{radius:typeof u=="number"?u:void 0,className:M,d:bx(B,X,se,z,u),ref:n,style:wx(wx({},le),t.style)}))})};function Sx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sx(Object(n),!0).forEach(function(r){yY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yY(e,t,n){return(t=_Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Y(e){var t=wY(e,"string");return typeof t=="symbol"?t:t+""}function wY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nh=Math.PI/180,EY=e=>e*180/Math.PI,Ot=(e,t,n,r)=>({x:e+Math.cos(-Nh*r)*n,y:t+Math.sin(-Nh*r)*n}),bY=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},PY=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},SY=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,a=PY({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:EY(l),angleInRadian:l}},TY=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},xY=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return e+a*360},AY=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=SY({x:n,y:r},t),{innerRadius:a,outerRadius:s}=t;if(i<a||i>s||i===0)return null;var{startAngle:l,endAngle:u}=TY(t),c=o,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?Tx(Tx({},t),{},{radius:i,angle:xY(c,t)}):null};function ND(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,a=Ot(t,n,r,i),s=Ot(t,n,r,o);return{points:[a,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f0.apply(null,arguments)}var IY=(e,t)=>{var n=Gn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},zf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:s,cornerIsExternal:l}=e,u=s*(a?1:-1)+r,c=Math.asin(s/u)/Nh,d=l?i:i+o*c,h=Ot(t,n,u,d),p=Ot(t,n,r,d),g=l?i-o*c:i,_=Ot(t,n,u*Math.cos(c*Nh),g);return{center:h,circleTangency:p,lineTangency:_,theta:c}},DD=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=e,s=IY(o,a),l=o+s,u=Ot(t,n,i,o),c=Ot(t,n,i,l),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(o>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var h=Ot(t,n,r,o),p=Ot(t,n,r,l);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(o<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},kY=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=Gn(u-l),{circleTangency:d,lineTangency:h,theta:p}=zf({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:s}),{circleTangency:g,lineTangency:_,theta:y}=zf({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:s}),w=s?Math.abs(l-u):Math.abs(l-u)-p-y;if(w<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):DD({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:P,lineTangency:k,theta:O}=zf({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),{circleTangency:M,lineTangency:T,theta:S}=zf({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),I=s?Math.abs(l-u):Math.abs(l-u)-O-S;if(I<0&&o===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(I>180),",").concat(+(c>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(k.x,",").concat(k.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b},CY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MD=e=>{var t=Zt(e,CY),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(o<i||u===c)return null;var h=xe("recharts-sector",d),p=o-i,g=Eo(a,p,0,!0),_;return g>0&&Math.abs(u-c)<360?_=kY({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):_=DD({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),v.createElement("path",f0({},cn(t),{className:h,d:_}))};function OY(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(XN(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:a,angle:s}=t,l=Ot(r,i,o,s),u=Ot(r,i,a,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return ND(t)}}var LD={},jD={},VD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zw;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(VD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VD;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(jD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eE,n=jD;function r(i,o,a){a&&typeof a!="number"&&t.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const s=Math.max(Math.ceil((o-i)/(a||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=a;return l}e.range=r})(LD);var RY=LD.range;const $D=Si(RY);function ho(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vE(e){let t,n,r;e.length!==2?(t=ho,n=(s,l)=>ho(e(s),l),r=(s,l)=>e(s)-l):(t=e===ho||e===NY?e:DY,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function DY(){return 0}function UD(e){return e===null?NaN:+e}function*MY(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const LY=vE(ho),jY=LY.right;vE(UD).center;const Oc=jY;class xx extends Map{constructor(t,n=UY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Ax(this,t))}has(t){return super.has(Ax(this,t))}set(t,n){return super.set(VY(this,t),n)}delete(t){return super.delete($Y(this,t))}}function Ax({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function VY({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function $Y({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function UY(e){return e!==null&&typeof e=="object"?e.valueOf():e}function FY(e=ho){if(e===ho)return FD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function FD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const zY=Math.sqrt(50),BY=Math.sqrt(10),WY=Math.sqrt(2);function Dh(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=zY?10:o>=BY?5:o>=WY?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?Dh(e,t,n*2):[s,l,u]}function d0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?Dh(t,e,n):Dh(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function h0(e,t,n){return t=+t,e=+e,n=+n,Dh(e,t,n)[2]}function p0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?h0(t,e,n):h0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Ix(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function kx(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function zD(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?FD:FY(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*d/l+h)),g=Math.min(r,Math.floor(t+(l-u)*d/l+h));zD(e,t,p,g,i)}const o=e[t];let a=n,s=r;for(Nl(e,n,t),i(e[r],o)>0&&Nl(e,n,r);a<s;){for(Nl(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?Nl(e,n,s):(++s,Nl(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Nl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function KY(e,t,n){if(e=Float64Array.from(MY(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return kx(e);if(t>=1)return Ix(e);var r,i=(r-1)*t,o=Math.floor(i),a=Ix(zD(e,o).subarray(0,o+1)),s=kx(e.subarray(o+1));return a+(s-a)*(i-o)}}function HY(e,t,n=UD){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function qY(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function rr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ki(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const m0=Symbol("implicit");function yE(){var e=new xx,t=[],n=[],r=m0;function i(o){let a=e.get(o);if(a===void 0){if(r!==m0)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new xx;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return yE(t,n).unknown(r)},rr.apply(i,arguments),i}function _E(){var e=yE().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var h=t().length,p=i<r,g=p?i:r,_=p?r:i;o=(_-g)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),g+=(_-g-o*(h-l))*c,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var y=qY(h).map(function(w){return g+o*w});return n(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return _E(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},rr.apply(d(),arguments)}function BD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return BD(t())},e}function GY(){return BD(_E.apply(null,arguments).paddingInner(1))}function wE(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function WD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Rc(){}var Xu=.7,Mh=1/Xu,vs="\\s*([+-]?\\d+)\\s*",Ju="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YY=/^#([0-9a-f]{3,8})$/,QY=new RegExp(`^rgb\\(${vs},${vs},${vs}\\)$`),XY=new RegExp(`^rgb\\(${Lr},${Lr},${Lr}\\)$`),JY=new RegExp(`^rgba\\(${vs},${vs},${vs},${Ju}\\)$`),ZY=new RegExp(`^rgba\\(${Lr},${Lr},${Lr},${Ju}\\)$`),eQ=new RegExp(`^hsl\\(${Ju},${Lr},${Lr}\\)$`),tQ=new RegExp(`^hsla\\(${Ju},${Lr},${Lr},${Ju}\\)$`),Cx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wE(Rc,Zu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ox,formatHex:Ox,formatHex8:nQ,formatHsl:rQ,formatRgb:Rx,toString:Rx});function Ox(){return this.rgb().formatHex()}function nQ(){return this.rgb().formatHex8()}function rQ(){return KD(this).formatHsl()}function Rx(){return this.rgb().formatRgb()}function Zu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=YY.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Nx(t):n===3?new wn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Bf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Bf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QY.exec(e))?new wn(t[1],t[2],t[3],1):(t=XY.exec(e))?new wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=JY.exec(e))?Bf(t[1],t[2],t[3],t[4]):(t=ZY.exec(e))?Bf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eQ.exec(e))?Lx(t[1],t[2]/100,t[3]/100,1):(t=tQ.exec(e))?Lx(t[1],t[2]/100,t[3]/100,t[4]):Cx.hasOwnProperty(e)?Nx(Cx[e]):e==="transparent"?new wn(NaN,NaN,NaN,0):null}function Nx(e){return new wn(e>>16&255,e>>8&255,e&255,1)}function Bf(e,t,n,r){return r<=0&&(e=t=n=NaN),new wn(e,t,n,r)}function iQ(e){return e instanceof Rc||(e=Zu(e)),e?(e=e.rgb(),new wn(e.r,e.g,e.b,e.opacity)):new wn}function g0(e,t,n,r){return arguments.length===1?iQ(e):new wn(e,t,n,r??1)}function wn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}wE(wn,g0,WD(Rc,{brighter(e){return e=e==null?Mh:Math.pow(Mh,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xu:Math.pow(Xu,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wn(oa(this.r),oa(this.g),oa(this.b),Lh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dx,formatHex:Dx,formatHex8:oQ,formatRgb:Mx,toString:Mx}));function Dx(){return`#${Xo(this.r)}${Xo(this.g)}${Xo(this.b)}`}function oQ(){return`#${Xo(this.r)}${Xo(this.g)}${Xo(this.b)}${Xo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Mx(){const e=Lh(this.opacity);return`${e===1?"rgb(":"rgba("}${oa(this.r)}, ${oa(this.g)}, ${oa(this.b)}${e===1?")":`, ${e})`}`}function Lh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xo(e){return e=oa(e),(e<16?"0":"")+e.toString(16)}function Lx(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new fr(e,t,n,r)}function KD(e){if(e instanceof fr)return new fr(e.h,e.s,e.l,e.opacity);if(e instanceof Rc||(e=Zu(e)),!e)return new fr;if(e instanceof fr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new fr(a,s,l,e.opacity)}function aQ(e,t,n,r){return arguments.length===1?KD(e):new fr(e,t,n,r??1)}function fr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}wE(fr,aQ,WD(Rc,{brighter(e){return e=e==null?Mh:Math.pow(Mh,e),new fr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xu:Math.pow(Xu,e),new fr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new wn(Zg(e>=240?e-240:e+120,i,r),Zg(e,i,r),Zg(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new fr(jx(this.h),Wf(this.s),Wf(this.l),Lh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Lh(this.opacity);return`${e===1?"hsl(":"hsla("}${jx(this.h)}, ${Wf(this.s)*100}%, ${Wf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jx(e){return e=(e||0)%360,e<0?e+360:e}function Wf(e){return Math.max(0,Math.min(1,e||0))}function Zg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const EE=e=>()=>e;function sQ(e,t){return function(n){return e+n*t}}function lQ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function uQ(e){return(e=+e)==1?HD:function(t,n){return n-t?lQ(t,n,e):EE(isNaN(t)?n:t)}}function HD(e,t){var n=t-e;return n?sQ(e,n):EE(isNaN(e)?t:e)}const Vx=function e(t){var n=uQ(t);function r(i,o){var a=n((i=g0(i)).r,(o=g0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=HD(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function cQ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function fQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dQ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Js(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function hQ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function jh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function pQ(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Js(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var v0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ev=new RegExp(v0.source,"g");function mQ(e){return function(){return e}}function gQ(e){return function(t){return e(t)+""}}function vQ(e,t){var n=v0.lastIndex=ev.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=v0.exec(e))&&(i=ev.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:jh(r,i)})),n=ev.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?gQ(l[0].x):mQ(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function Js(e,t){var n=typeof t,r;return t==null||n==="boolean"?EE(t):(n==="number"?jh:n==="string"?(r=Zu(t))?(t=r,Vx):vQ:t instanceof Zu?Vx:t instanceof Date?hQ:fQ(t)?cQ:Array.isArray(t)?dQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pQ:jh)(e,t)}function bE(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function yQ(e,t){t===void 0&&(t=e,e=Js);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function _Q(e){return function(){return e}}function Vh(e){return+e}var $x=[0,1];function sn(e){return e}function y0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:_Q(isNaN(t)?NaN:.5)}function wQ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function EQ(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=y0(i,r),o=n(a,o)):(r=y0(r,i),o=n(o,a)),function(s){return o(r(s))}}function bQ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=y0(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=Oc(e,s,1,r)-1;return o[l](i[l](s))}}function Nc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Em(){var e=$x,t=$x,n=Js,r,i,o,a=sn,s,l,u;function c(){var h=Math.min(e.length,t.length);return a!==sn&&(a=wQ(e[0],e[h-1])),s=h>2?bQ:EQ,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(r),t,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(t,e.map(r),jh)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Vh),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=bE,c()},d.clamp=function(h){return arguments.length?(a=h?!0:sn,c()):a!==sn},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return r=h,i=p,c()}}function PE(){return Em()(sn,sn)}function PQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $h(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function $s(e){return e=$h(Math.abs(e)),e?e[1]:NaN}function SQ(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function TQ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var xQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ec(e){if(!(t=xQ.exec(e)))throw new Error("invalid format: "+e);var t;return new SE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ec.prototype=SE.prototype;function SE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}SE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function AQ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var qD;function IQ(e,t){var n=$h(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(qD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+$h(e,Math.max(0,t+o-1))[0]}function Ux(e,t){var n=$h(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Fx={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:PQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ux(e*100,t),r:Ux,s:IQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zx(e){return e}var Bx=Array.prototype.map,Wx=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kQ(e){var t=e.grouping===void 0||e.thousands===void 0?zx:SQ(Bx.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?zx:TQ(Bx.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=ec(d);var h=d.fill,p=d.align,g=d.sign,_=d.symbol,y=d.zero,w=d.width,b=d.comma,P=d.precision,k=d.trim,O=d.type;O==="n"?(b=!0,O="g"):Fx[O]||(P===void 0&&(P=12),k=!0,O="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var M=_==="$"?n:_==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",T=_==="$"?r:/[%p]/.test(O)?a:"",S=Fx[O],I=/[defgprs%]/.test(O);P=P===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function R(C){var D=M,N=T,Z,ce,fe;if(O==="c")N=S(C)+N,C="";else{C=+C;var se=C<0||1/C<0;if(C=isNaN(C)?l:S(Math.abs(C),P),k&&(C=AQ(C)),se&&+C==0&&g!=="+"&&(se=!1),D=(se?g==="("?g:s:g==="-"||g==="("?"":g)+D,N=(O==="s"?Wx[8+qD/3]:"")+N+(se&&g==="("?")":""),I){for(Z=-1,ce=C.length;++Z<ce;)if(fe=C.charCodeAt(Z),48>fe||fe>57){N=(fe===46?i+C.slice(Z+1):C.slice(Z))+N,C=C.slice(0,Z);break}}}b&&!y&&(C=t(C,1/0));var z=D.length+C.length+N.length,B=z<w?new Array(w-z+1).join(h):"";switch(b&&y&&(C=t(B+C,B.length?w-N.length:1/0),B=""),p){case"<":C=D+C+N+B;break;case"=":C=D+B+C+N;break;case"^":C=B.slice(0,z=B.length>>1)+D+C+N+B.slice(z);break;default:C=B+D+C+N;break}return o(C)}return R.toString=function(){return d+""},R}function c(d,h){var p=u((d=ec(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor($s(h)/3)))*3,_=Math.pow(10,-g),y=Wx[8+g/3];return function(w){return p(_*w)+y}}return{format:u,formatPrefix:c}}var Kf,TE,GD;CQ({thousands:",",grouping:[3],currency:["$",""]});function CQ(e){return Kf=kQ(e),TE=Kf.format,GD=Kf.formatPrefix,Kf}function OQ(e){return Math.max(0,-$s(Math.abs(e)))}function RQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($s(t)/3)))*3-$s(Math.abs(e)))}function NQ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$s(t)-$s(e))+1}function YD(e,t,n,r){var i=p0(e,t,n),o;switch(r=ec(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=RQ(i,a))&&(r.precision=o),GD(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=NQ(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=OQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return TE(r)}function No(e){var t=e.domain;return e.ticks=function(n){var r=t();return d0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return YD(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=h0(a,s,n),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function QD(){var e=PE();return e.copy=function(){return Nc(e,QD())},rr.apply(e,arguments),No(e)}function XD(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Vh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return XD(e).unknown(t)},e=arguments.length?Array.from(e,Vh):[0,1],No(n)}function JD(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Kx(e){return Math.log(e)}function Hx(e){return Math.exp(e)}function DQ(e){return-Math.log(-e)}function MQ(e){return-Math.exp(-e)}function LQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jQ(e){return e===10?LQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function VQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function qx(e){return(t,n)=>-e(-t,n)}function xE(e){const t=e(Kx,Hx),n=t.domain;let r=10,i,o;function a(){return i=VQ(r),o=jQ(r),n()[0]<0?(i=qx(i),o=qx(o),e(DQ,MQ)):e(Kx,Hx),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),p=i(c),g,_;const y=s==null?10:+s;let w=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<r;++g)if(_=h<0?g/o(-h):g*o(h),!(_<u)){if(_>c)break;w.push(_)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(_=h>0?g/o(-h):g*o(h),!(_<u)){if(_>c)break;w.push(_)}w.length*2<y&&(w=d0(u,c,y))}else w=d0(h,p,Math.min(p-h,y)).map(o);return d?w.reverse():w},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ec(l)).precision==null&&(l.trim=!0),l=TE(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(JD(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function ZD(){const e=xE(Em()).domain([1,10]);return e.copy=()=>Nc(e,ZD()).base(e.base()),rr.apply(e,arguments),e}function Gx(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Yx(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function AE(e){var t=1,n=e(Gx(t),Yx(t));return n.constant=function(r){return arguments.length?e(Gx(t=+r),Yx(t)):t},No(n)}function eM(){var e=AE(Em());return e.copy=function(){return Nc(e,eM()).constant(e.constant())},rr.apply(e,arguments)}function Qx(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $Q(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function UQ(e){return e<0?-e*e:e*e}function IE(e){var t=e(sn,sn),n=1;function r(){return n===1?e(sn,sn):n===.5?e($Q,UQ):e(Qx(n),Qx(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},No(t)}function kE(){var e=IE(Em());return e.copy=function(){return Nc(e,kE()).exponent(e.exponent())},rr.apply(e,arguments),e}function FQ(){return kE.apply(null,arguments).exponent(.5)}function Xx(e){return Math.sign(e)*e*e}function zQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function tM(){var e=PE(),t=[0,1],n=!1,r;function i(o){var a=zQ(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(Xx(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Vh)).map(Xx)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return tM(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},rr.apply(i,arguments),No(i)}function nM(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=HY(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[Oc(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ho),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return nM().domain(e).range(t).unknown(r)},rr.apply(o,arguments)}function rM(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Oc(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return rM().domain([e,t]).range(i).unknown(o)},rr.apply(No(a),arguments)}function iM(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Oc(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return iM().domain(e).range(t).unknown(n)},rr.apply(i,arguments)}const tv=new Date,nv=new Date;function ft(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return l},i.filter=o=>ft(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(tv.setTime(+o),nv.setTime(+a),e(tv),e(nv),Math.floor(n(tv,nv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Uh=ft(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Uh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ft(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Uh);Uh.range;const ri=1e3,Yn=ri*60,ii=Yn*60,wi=ii*24,CE=wi*7,Jx=wi*30,rv=wi*365,Jo=ft(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getUTCSeconds());Jo.range;const OE=ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ri)},(e,t)=>{e.setTime(+e+t*Yn)},(e,t)=>(t-e)/Yn,e=>e.getMinutes());OE.range;const RE=ft(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Yn)},(e,t)=>(t-e)/Yn,e=>e.getUTCMinutes());RE.range;const NE=ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ri-e.getMinutes()*Yn)},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getHours());NE.range;const DE=ft(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getUTCHours());DE.range;const Dc=ft(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yn)/wi,e=>e.getDate()-1);Dc.range;const bm=ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wi,e=>e.getUTCDate()-1);bm.range;const oM=ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wi,e=>Math.floor(e/wi));oM.range;function Ra(e){return ft(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Yn)/CE)}const Pm=Ra(0),Fh=Ra(1),BQ=Ra(2),WQ=Ra(3),Us=Ra(4),KQ=Ra(5),HQ=Ra(6);Pm.range;Fh.range;BQ.range;WQ.range;Us.range;KQ.range;HQ.range;function Na(e){return ft(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/CE)}const Sm=Na(0),zh=Na(1),qQ=Na(2),GQ=Na(3),Fs=Na(4),YQ=Na(5),QQ=Na(6);Sm.range;zh.range;qQ.range;GQ.range;Fs.range;YQ.range;QQ.range;const ME=ft(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ME.range;const LE=ft(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());LE.range;const Ei=ft(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ft(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ei.range;const bi=ft(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());bi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ft(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});bi.range;function aM(e,t,n,r,i,o){const a=[[Jo,1,ri],[Jo,5,5*ri],[Jo,15,15*ri],[Jo,30,30*ri],[o,1,Yn],[o,5,5*Yn],[o,15,15*Yn],[o,30,30*Yn],[i,1,ii],[i,3,3*ii],[i,6,6*ii],[i,12,12*ii],[r,1,wi],[r,2,2*wi],[n,1,CE],[t,1,Jx],[t,3,3*Jx],[e,1,rv]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),g=p?p.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,d){const h=Math.abs(c-u)/d,p=vE(([,,y])=>y).right(a,h);if(p===a.length)return e.every(p0(u/rv,c/rv,d));if(p===0)return Uh.every(Math.max(p0(u,c,d),1));const[g,_]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return g.every(_)}return[s,l]}const[XQ,JQ]=aM(bi,LE,Sm,oM,DE,RE),[ZQ,eX]=aM(Ei,ME,Pm,Dc,NE,OE);function iv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ov(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function tX(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=Ml(i),c=Ll(i),d=Ml(o),h=Ll(o),p=Ml(a),g=Ll(a),_=Ml(s),y=Ll(s),w=Ml(l),b=Ll(l),P={a:se,A:z,b:B,B:X,c:null,d:iA,e:iA,f:SX,g:DX,G:LX,H:EX,I:bX,j:PX,L:sM,m:TX,M:xX,p:le,q:ue,Q:sA,s:lA,S:AX,u:IX,U:kX,V:CX,w:OX,W:RX,x:null,X:null,y:NX,Y:MX,Z:jX,"%":aA},k={a:Ee,A:Qe,b:en,B:tn,c:null,d:oA,e:oA,f:FX,g:XX,G:ZX,H:VX,I:$X,j:UX,L:uM,m:zX,M:BX,p:Oe,q:al,Q:sA,s:lA,S:WX,u:KX,U:HX,V:qX,w:GX,W:YX,x:null,X:null,y:QX,Y:JX,Z:eJ,"%":aA},O={a:R,A:C,b:D,B:N,c:Z,d:nA,e:nA,f:vX,g:tA,G:eA,H:rA,I:rA,j:hX,L:gX,m:dX,M:pX,p:I,q:fX,Q:_X,s:wX,S:mX,u:aX,U:sX,V:lX,w:oX,W:uX,x:ce,X:fe,y:tA,Y:eA,Z:cX,"%":yX};P.x=M(n,P),P.X=M(r,P),P.c=M(t,P),k.x=M(n,k),k.X=M(r,k),k.c=M(t,k);function M(U,ae){return function(de){var W=[],mt=-1,be=0,Tt=U.length,Vt,br,Kc;for(de instanceof Date||(de=new Date(+de));++mt<Tt;)U.charCodeAt(mt)===37&&(W.push(U.slice(be,mt)),(br=Zx[Vt=U.charAt(++mt)])!=null?Vt=U.charAt(++mt):br=Vt==="e"?" ":"0",(Kc=ae[Vt])&&(Vt=Kc(de,br)),W.push(Vt),be=mt+1);return W.push(U.slice(be,mt)),W.join("")}}function T(U,ae){return function(de){var W=Dl(1900,void 0,1),mt=S(W,U,de+="",0),be,Tt;if(mt!=de.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ae&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(be=ov(Dl(W.y,0,1)),Tt=be.getUTCDay(),be=Tt>4||Tt===0?zh.ceil(be):zh(be),be=bm.offset(be,(W.V-1)*7),W.y=be.getUTCFullYear(),W.m=be.getUTCMonth(),W.d=be.getUTCDate()+(W.w+6)%7):(be=iv(Dl(W.y,0,1)),Tt=be.getDay(),be=Tt>4||Tt===0?Fh.ceil(be):Fh(be),be=Dc.offset(be,(W.V-1)*7),W.y=be.getFullYear(),W.m=be.getMonth(),W.d=be.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Tt="Z"in W?ov(Dl(W.y,0,1)).getUTCDay():iv(Dl(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Tt+5)%7:W.w+W.U*7-(Tt+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,ov(W)):iv(W)}}function S(U,ae,de,W){for(var mt=0,be=ae.length,Tt=de.length,Vt,br;mt<be;){if(W>=Tt)return-1;if(Vt=ae.charCodeAt(mt++),Vt===37){if(Vt=ae.charAt(mt++),br=O[Vt in Zx?ae.charAt(mt++):Vt],!br||(W=br(U,de,W))<0)return-1}else if(Vt!=de.charCodeAt(W++))return-1}return W}function I(U,ae,de){var W=u.exec(ae.slice(de));return W?(U.p=c.get(W[0].toLowerCase()),de+W[0].length):-1}function R(U,ae,de){var W=p.exec(ae.slice(de));return W?(U.w=g.get(W[0].toLowerCase()),de+W[0].length):-1}function C(U,ae,de){var W=d.exec(ae.slice(de));return W?(U.w=h.get(W[0].toLowerCase()),de+W[0].length):-1}function D(U,ae,de){var W=w.exec(ae.slice(de));return W?(U.m=b.get(W[0].toLowerCase()),de+W[0].length):-1}function N(U,ae,de){var W=_.exec(ae.slice(de));return W?(U.m=y.get(W[0].toLowerCase()),de+W[0].length):-1}function Z(U,ae,de){return S(U,t,ae,de)}function ce(U,ae,de){return S(U,n,ae,de)}function fe(U,ae,de){return S(U,r,ae,de)}function se(U){return a[U.getDay()]}function z(U){return o[U.getDay()]}function B(U){return l[U.getMonth()]}function X(U){return s[U.getMonth()]}function le(U){return i[+(U.getHours()>=12)]}function ue(U){return 1+~~(U.getMonth()/3)}function Ee(U){return a[U.getUTCDay()]}function Qe(U){return o[U.getUTCDay()]}function en(U){return l[U.getUTCMonth()]}function tn(U){return s[U.getUTCMonth()]}function Oe(U){return i[+(U.getUTCHours()>=12)]}function al(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var ae=M(U+="",P);return ae.toString=function(){return U},ae},parse:function(U){var ae=T(U+="",!1);return ae.toString=function(){return U},ae},utcFormat:function(U){var ae=M(U+="",k);return ae.toString=function(){return U},ae},utcParse:function(U){var ae=T(U+="",!0);return ae.toString=function(){return U},ae}}}var Zx={"-":"",_:" ",0:"0"},St=/^\s*\d+/,nX=/^%/,rX=/[\\^$*+?|[\]().{}]/g;function we(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function iX(e){return e.replace(rX,"\\$&")}function Ml(e){return new RegExp("^(?:"+e.map(iX).join("|")+")","i")}function Ll(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function oX(e,t,n){var r=St.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function aX(e,t,n){var r=St.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function sX(e,t,n){var r=St.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function lX(e,t,n){var r=St.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function uX(e,t,n){var r=St.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function eA(e,t,n){var r=St.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function tA(e,t,n){var r=St.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cX(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fX(e,t,n){var r=St.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function dX(e,t,n){var r=St.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function nA(e,t,n){var r=St.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function hX(e,t,n){var r=St.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function rA(e,t,n){var r=St.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function pX(e,t,n){var r=St.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function mX(e,t,n){var r=St.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function gX(e,t,n){var r=St.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function vX(e,t,n){var r=St.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yX(e,t,n){var r=nX.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function _X(e,t,n){var r=St.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function wX(e,t,n){var r=St.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function iA(e,t){return we(e.getDate(),t,2)}function EX(e,t){return we(e.getHours(),t,2)}function bX(e,t){return we(e.getHours()%12||12,t,2)}function PX(e,t){return we(1+Dc.count(Ei(e),e),t,3)}function sM(e,t){return we(e.getMilliseconds(),t,3)}function SX(e,t){return sM(e,t)+"000"}function TX(e,t){return we(e.getMonth()+1,t,2)}function xX(e,t){return we(e.getMinutes(),t,2)}function AX(e,t){return we(e.getSeconds(),t,2)}function IX(e){var t=e.getDay();return t===0?7:t}function kX(e,t){return we(Pm.count(Ei(e)-1,e),t,2)}function lM(e){var t=e.getDay();return t>=4||t===0?Us(e):Us.ceil(e)}function CX(e,t){return e=lM(e),we(Us.count(Ei(e),e)+(Ei(e).getDay()===4),t,2)}function OX(e){return e.getDay()}function RX(e,t){return we(Fh.count(Ei(e)-1,e),t,2)}function NX(e,t){return we(e.getFullYear()%100,t,2)}function DX(e,t){return e=lM(e),we(e.getFullYear()%100,t,2)}function MX(e,t){return we(e.getFullYear()%1e4,t,4)}function LX(e,t){var n=e.getDay();return e=n>=4||n===0?Us(e):Us.ceil(e),we(e.getFullYear()%1e4,t,4)}function jX(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+we(t/60|0,"0",2)+we(t%60,"0",2)}function oA(e,t){return we(e.getUTCDate(),t,2)}function VX(e,t){return we(e.getUTCHours(),t,2)}function $X(e,t){return we(e.getUTCHours()%12||12,t,2)}function UX(e,t){return we(1+bm.count(bi(e),e),t,3)}function uM(e,t){return we(e.getUTCMilliseconds(),t,3)}function FX(e,t){return uM(e,t)+"000"}function zX(e,t){return we(e.getUTCMonth()+1,t,2)}function BX(e,t){return we(e.getUTCMinutes(),t,2)}function WX(e,t){return we(e.getUTCSeconds(),t,2)}function KX(e){var t=e.getUTCDay();return t===0?7:t}function HX(e,t){return we(Sm.count(bi(e)-1,e),t,2)}function cM(e){var t=e.getUTCDay();return t>=4||t===0?Fs(e):Fs.ceil(e)}function qX(e,t){return e=cM(e),we(Fs.count(bi(e),e)+(bi(e).getUTCDay()===4),t,2)}function GX(e){return e.getUTCDay()}function YX(e,t){return we(zh.count(bi(e)-1,e),t,2)}function QX(e,t){return we(e.getUTCFullYear()%100,t,2)}function XX(e,t){return e=cM(e),we(e.getUTCFullYear()%100,t,2)}function JX(e,t){return we(e.getUTCFullYear()%1e4,t,4)}function ZX(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Fs(e):Fs.ceil(e),we(e.getUTCFullYear()%1e4,t,4)}function eJ(){return"+0000"}function aA(){return"%"}function sA(e){return+e}function lA(e){return Math.floor(+e/1e3)}var $a,fM,dM;tJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tJ(e){return $a=tX(e),fM=$a.format,$a.parse,dM=$a.utcFormat,$a.utcParse,$a}function nJ(e){return new Date(e)}function rJ(e){return e instanceof Date?+e:+new Date(+e)}function jE(e,t,n,r,i,o,a,s,l,u){var c=PE(),d=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),_=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),b=u("%b %d"),P=u("%B"),k=u("%Y");function O(M){return(l(M)<M?p:s(M)<M?g:a(M)<M?_:o(M)<M?y:r(M)<M?i(M)<M?w:b:n(M)<M?P:k)(M)}return c.invert=function(M){return new Date(d(M))},c.domain=function(M){return arguments.length?h(Array.from(M,rJ)):h().map(nJ)},c.ticks=function(M){var T=h();return e(T[0],T[T.length-1],M??10)},c.tickFormat=function(M,T){return T==null?O:u(T)},c.nice=function(M){var T=h();return(!M||typeof M.range!="function")&&(M=t(T[0],T[T.length-1],M??10)),M?h(JD(T,M)):c},c.copy=function(){return Nc(c,jE(e,t,n,r,i,o,a,s,l,u))},c}function iJ(){return rr.apply(jE(ZQ,eX,Ei,ME,Pm,Dc,NE,OE,Jo,fM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oJ(){return rr.apply(jE(XQ,JQ,bi,LE,Sm,bm,DE,RE,Jo,dM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tm(){var e=0,t=1,n,r,i,o,a=sn,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var p,g;return arguments.length?([p,g]=h,a=d(p,g),u):[a(0),a(1)]}}return u.range=c(Js),u.rangeRound=c(bE),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function Do(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function hM(){var e=No(Tm()(sn));return e.copy=function(){return Do(e,hM())},ki.apply(e,arguments)}function pM(){var e=xE(Tm()).domain([1,10]);return e.copy=function(){return Do(e,pM()).base(e.base())},ki.apply(e,arguments)}function mM(){var e=AE(Tm());return e.copy=function(){return Do(e,mM()).constant(e.constant())},ki.apply(e,arguments)}function VE(){var e=IE(Tm());return e.copy=function(){return Do(e,VE()).exponent(e.exponent())},ki.apply(e,arguments)}function aJ(){return VE.apply(null,arguments).exponent(.5)}function gM(){var e=[],t=sn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Oc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ho),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>KY(e,o/r))},n.copy=function(){return gM(t).domain(e)},ki.apply(n,arguments)}function xm(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,u=sn,c,d=!1,h;function p(_){return isNaN(_=+_)?h:(_=.5+((_=+c(_))-o)*(r*_<r*o?s:l),u(d?Math.max(0,Math.min(1,_)):_))}p.domain=function(_){return arguments.length?([e,t,n]=_,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[e,t,n]},p.clamp=function(_){return arguments.length?(d=!!_,p):d},p.interpolator=function(_){return arguments.length?(u=_,p):u};function g(_){return function(y){var w,b,P;return arguments.length?([w,b,P]=y,u=yQ(_,[w,b,P]),p):[u(0),u(.5),u(1)]}}return p.range=g(Js),p.rangeRound=g(bE),p.unknown=function(_){return arguments.length?(h=_,p):h},function(_){return c=_,i=_(e),o=_(t),a=_(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function vM(){var e=No(xm()(sn));return e.copy=function(){return Do(e,vM())},ki.apply(e,arguments)}function yM(){var e=xE(xm()).domain([.1,1,10]);return e.copy=function(){return Do(e,yM()).base(e.base())},ki.apply(e,arguments)}function _M(){var e=AE(xm());return e.copy=function(){return Do(e,_M()).constant(e.constant())},ki.apply(e,arguments)}function $E(){var e=IE(xm());return e.copy=function(){return Do(e,$E()).exponent(e.exponent())},ki.apply(e,arguments)}function sJ(){return $E.apply(null,arguments).exponent(.5)}const Gl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_E,scaleDiverging:vM,scaleDivergingLog:yM,scaleDivergingPow:$E,scaleDivergingSqrt:sJ,scaleDivergingSymlog:_M,scaleIdentity:XD,scaleImplicit:m0,scaleLinear:QD,scaleLog:ZD,scaleOrdinal:yE,scalePoint:GY,scalePow:kE,scaleQuantile:nM,scaleQuantize:rM,scaleRadial:tM,scaleSequential:hM,scaleSequentialLog:pM,scaleSequentialPow:VE,scaleSequentialQuantile:gM,scaleSequentialSqrt:aJ,scaleSequentialSymlog:mM,scaleSqrt:FQ,scaleSymlog:eM,scaleThreshold:iM,scaleTime:iJ,scaleUtc:oJ,tickFormat:YD},Symbol.toStringTag,{value:"Module"}));var Mo=e=>e.chartData,lJ=V([Mo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),UE=(e,t,n,r)=>r?lJ(e):Mo(e);function bo(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Pt(t)&&Pt(n))return!0}return!1}function uA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function wM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(Pt(n))i=n;else if(typeof n=="function")return;if(Pt(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(bo(a))return a}}function uJ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(bo(r))return uA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,a,s;if(i==="auto")t!=null&&(a=Math.min(...t));else if(ee(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&KT.test(i)){var l=KT.exec(i);if(l==null||t==null)a=void 0;else{var u=+l[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(o==="auto")t!=null&&(s=Math.max(...t));else if(ee(o))s=o;else if(typeof o=="function")try{t!=null&&(s=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&HT.test(o)){var c=HT.exec(o);if(c==null||t==null)s=void 0;else{var d=+c[1];s=t[1]+d}}else s=t==null?void 0:t[1];var h=[a,s];if(bo(h))return t==null?h:uA(h,t,n)}}}var Zs=1e9,cJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zE,Ue=!0,nr="[DecimalError] ",aa=nr+"Invalid argument: ",FE=nr+"Exponent out of range: ",el=Math.floor,Ko=Math.pow,fJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kn,_t=1e7,De=7,EM=9007199254740991,Bh=el(EM/De),Y={};Y.absoluteValue=Y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Y.comparedTo=Y.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Y.decimalPlaces=Y.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*De;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Y.dividedBy=Y.div=function(e){return si(this,new this.constructor(e))};Y.dividedToIntegerBy=Y.idiv=function(e){var t=this,n=t.constructor;return Ie(si(t,new n(e),0,1),n.precision)};Y.equals=Y.eq=function(e){return!this.cmp(e)};Y.exponent=function(){return ot(this)};Y.greaterThan=Y.gt=function(e){return this.cmp(e)>0};Y.greaterThanOrEqualTo=Y.gte=function(e){return this.cmp(e)>=0};Y.isInteger=Y.isint=function(){return this.e>this.d.length-2};Y.isNegative=Y.isneg=function(){return this.s<0};Y.isPositive=Y.ispos=function(){return this.s>0};Y.isZero=function(){return this.s===0};Y.lessThan=Y.lt=function(e){return this.cmp(e)<0};Y.lessThanOrEqualTo=Y.lte=function(e){return this.cmp(e)<1};Y.logarithm=Y.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(kn))throw Error(nr+"NaN");if(n.s<1)throw Error(nr+(n.s?"NaN":"-Infinity"));return n.eq(kn)?new r(0):(Ue=!1,t=si(tc(n,o),tc(e,o),o),Ue=!0,Ie(t,i))};Y.minus=Y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SM(t,e):bM(t,(e.s=-e.s,e))};Y.modulo=Y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(nr+"NaN");return n.s?(Ue=!1,t=si(n,e,0,1).times(e),Ue=!0,n.minus(t)):Ie(new r(n),i)};Y.naturalExponential=Y.exp=function(){return PM(this)};Y.naturalLogarithm=Y.ln=function(){return tc(this)};Y.negated=Y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Y.plus=Y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bM(t,e):SM(t,(e.s=-e.s,e))};Y.precision=Y.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(aa+e);if(t=ot(i)+1,r=i.d.length-1,n=r*De+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Y.squareRoot=Y.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(nr+"NaN")}for(e=ot(s),Ue=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Ir(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=el((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(si(s,o,a+2)).times(.5),Ir(o.d).slice(0,a)===(t=Ir(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Ie(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return Ue=!0,Ie(r,n)};Y.times=Y.mul=function(e){var t,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,p=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,n=c.e+e.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+p[r]*h[i-r-1]+t,o[i--]=s%_t|0,t=s/_t|0;o[i]=(o[i]+t)%_t|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Ue?Ie(e,d.precision):e};Y.toDecimalPlaces=Y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(zr(e,0,Zs),t===void 0?t=r.rounding:zr(t,0,8),Ie(n,e+ot(n)+1,t))};Y.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=ba(r,!0):(zr(e,0,Zs),t===void 0?t=i.rounding:zr(t,0,8),r=Ie(new i(r),e+1,t),n=ba(r,!0,e+1)),n};Y.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?ba(i):(zr(e,0,Zs),t===void 0?t=o.rounding:zr(t,0,8),r=Ie(new o(i),e+ot(i)+1,t),n=ba(r.abs(),!1,e+ot(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Y.toInteger=Y.toint=function(){var e=this,t=e.constructor;return Ie(new t(e),ot(e)+1,t.rounding)};Y.toNumber=function(){return+this};Y.toPower=Y.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(kn);if(s=new l(s),!s.s){if(e.s<1)throw Error(nr+"Infinity");return s}if(s.eq(kn))return s;if(r=l.precision,e.eq(kn))return Ie(s,r);if(t=e.e,n=e.d.length-1,a=t>=n,o=s.s,a){if((n=c<0?-c:c)<=EM){for(i=new l(kn),t=Math.ceil(r/De+4),Ue=!1;n%2&&(i=i.times(s),fA(i.d,t)),n=el(n/2),n!==0;)s=s.times(s),fA(s.d,t);return Ue=!0,e.s<0?new l(kn).div(i):Ie(i,r)}}else if(o<0)throw Error(nr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,Ue=!1,i=e.times(tc(s,r+u)),Ue=!0,i=PM(i),i.s=o,i};Y.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=ot(i),r=ba(i,n<=o.toExpNeg||n>=o.toExpPos)):(zr(e,1,Zs),t===void 0?t=o.rounding:zr(t,0,8),i=Ie(new o(i),e,t),n=ot(i),r=ba(i,e<=n||n<=o.toExpNeg,e)),r};Y.toSignificantDigits=Y.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(zr(e,1,Zs),t===void 0?t=r.rounding:zr(t,0,8)),Ie(new r(n),e,t)};Y.toString=Y.valueOf=Y.val=Y.toJSON=Y[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ot(e),n=e.constructor;return ba(e,t<=n.toExpNeg||t>=n.toExpPos)};function bM(e,t){var n,r,i,o,a,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Ue?Ie(t,d):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/De),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/_t|0,l[o]%=_t;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Ue?Ie(t,d):t}function zr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(aa+e)}function Ir(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",n=De-r.length,n&&(o+=Fi(n)),o+=r;a=e[t],r=a+"",n=De-r.length,n&&(o+=Fi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var si=function(){function e(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%_t|0,a=o/_t|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*_t+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,p,g,_,y,w,b,P,k,O,M,T,S,I=r.constructor,R=r.s==i.s?1:-1,C=r.d,D=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(nr+"Division by zero");for(l=r.e-i.e,T=D.length,O=C.length,p=new I(R),g=p.d=[],u=0;D[u]==(C[u]||0);)++u;if(D[u]>(C[u]||0)&&--l,o==null?b=o=I.precision:a?b=o+(ot(r)-ot(i))+1:b=o,b<0)return new I(0);if(b=b/De+2|0,u=0,T==1)for(c=0,D=D[0],b++;(u<O||c)&&b--;u++)P=c*_t+(C[u]||0),g[u]=P/D|0,c=P%D|0;else{for(c=_t/(D[0]+1)|0,c>1&&(D=e(D,c),C=e(C,c),T=D.length,O=C.length),k=T,_=C.slice(0,T),y=_.length;y<T;)_[y++]=0;S=D.slice(),S.unshift(0),M=D[0],D[1]>=_t/2&&++M;do c=0,s=t(D,_,T,y),s<0?(w=_[0],T!=y&&(w=w*_t+(_[1]||0)),c=w/M|0,c>1?(c>=_t&&(c=_t-1),d=e(D,c),h=d.length,y=_.length,s=t(d,_,h,y),s==1&&(c--,n(d,T<h?S:D,h))):(c==0&&(s=c=1),d=D.slice()),h=d.length,h<y&&d.unshift(0),n(_,d,y),s==-1&&(y=_.length,s=t(D,_,T,y),s<1&&(c++,n(_,T<y?S:D,y))),y=_.length):s===0&&(c++,_=[0]),g[u++]=c,s&&_[0]?_[y++]=C[k]||0:(_=[C[k]],y=1);while((k++<O||_[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,Ie(p,a?o+ot(p)+1:o)}}();function PM(e,t){var n,r,i,o,a,s,l=0,u=0,c=e.constructor,d=c.precision;if(ot(e)>16)throw Error(FE+ot(e));if(!e.s)return new c(kn);for(t==null?(Ue=!1,s=d):s=t,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(r=Math.log(Ko(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(kn),c.precision=s;;){if(i=Ie(i.times(e),s),n=n.times(++l),a=o.plus(si(i,n,s)),Ir(a.d).slice(0,s)===Ir(o.d).slice(0,s)){for(;u--;)o=Ie(o.times(o),s);return c.precision=d,t==null?(Ue=!0,Ie(o,d)):o}o=a}}function ot(e){for(var t=e.e*De,n=e.d[0];n>=10;n/=10)t++;return t}function av(e,t,n){if(t>e.LN10.sd())throw Ue=!0,n&&(e.precision=n),Error(nr+"LN10 precision limit exceeded");return Ie(new e(e.LN10),t)}function Fi(e){for(var t="";e--;)t+="0";return t}function tc(e,t){var n,r,i,o,a,s,l,u,c,d=1,h=10,p=e,g=p.d,_=p.constructor,y=_.precision;if(p.s<1)throw Error(nr+(p.s?"NaN":"-Infinity"));if(p.eq(kn))return new _(0);if(t==null?(Ue=!1,u=y):u=t,p.eq(10))return t==null&&(Ue=!0),av(_,u);if(u+=h,_.precision=u,n=Ir(g),r=n.charAt(0),o=ot(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Ir(p.d),r=n.charAt(0),d++;o=ot(p),r>1?(p=new _("0."+n),o++):p=new _(r+"."+n.slice(1))}else return l=av(_,u+2,y).times(o+""),p=tc(new _(r+"."+n.slice(1)),u-h).plus(l),_.precision=y,t==null?(Ue=!0,Ie(p,y)):p;for(s=a=p=si(p.minus(kn),p.plus(kn),u),c=Ie(p.times(p),u),i=3;;){if(a=Ie(a.times(c),u),l=s.plus(si(a,new _(i),u)),Ir(l.d).slice(0,u)===Ir(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(av(_,u+2,y).times(o+""))),s=si(s,new _(d),u),_.precision=y,t==null?(Ue=!0,Ie(s,y)):s;s=l,i+=2}}function cA(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=el(n/De),e.d=[],r=(n+1)%De,n<0&&(r+=De),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=De;r<i;)e.d.push(+t.slice(r,r+=De));t=t.slice(r),r=De-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Ue&&(e.e>Bh||e.e<-Bh))throw Error(FE+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ie(e,t,n){var r,i,o,a,s,l,u,c,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=De,i=t,u=d[c=0];else{if(c=Math.ceil((r+1)/De),o=d.length,c>=o)return e;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=De,i=r-De+a}if(n!==void 0&&(o=Ko(10,a-i-1),s=u/o%10|0,l=t<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ko(10,a-i):0:d[c-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=ot(e),d.length=1,t=t-o-1,d[0]=Ko(10,(De-t%De)%De),e.e=el(-t/De)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=Ko(10,De-r),d[c]=i>0?(u/Ko(10,a-i)%Ko(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==_t&&(d[0]=1,++e.e);break}else{if(d[c]+=o,d[c]!=_t)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Ue&&(e.e>Bh||e.e<-Bh))throw Error(FE+ot(e));return e}function SM(e,t){var n,r,i,o,a,s,l,u,c,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ue?Ie(t,p):t;if(l=e.d,d=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(p/De),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=_t-1;--l[o],l[i]+=_t}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Ue?Ie(t,p):t):new h(0)}function ba(e,t,n){var r,i=ot(e),o=Ir(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Fi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Fi(-i-1)+o,n&&(r=n-a)>0&&(o+=Fi(r))):i>=a?(o+=Fi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Fi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Fi(r))),e.s<0?"-"+o:o}function fA(e,t){if(e.length>t)return e.length=t,!0}function TM(e){var t,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(aa+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return cA(a,o.toString())}else if(typeof o!="string")throw Error(aa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,fJ.test(o))cA(a,o);else throw Error(aa+o)}if(i.prototype=Y,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=TM,i.config=i.set=dJ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function dJ(e){if(!e||typeof e!="object")throw Error(nr+"Object expected");var t,n,r,i=["precision",1,Zs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(el(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(aa+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(aa+n+": "+r);return this}var zE=TM(cJ);kn=new zE(1);const Pe=zE;var hJ=e=>e,xM={"@@functional/placeholder":!0},AM=e=>e===xM,dA=e=>function t(){return arguments.length===0||arguments.length===1&&AM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},IM=(e,t)=>e===1?t:dA(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(a=>a!==xM).length;return o>=e?t(...r):IM(e-o,dA(function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var u=r.map(c=>AM(c)?s.shift():c);return t(...u,...s)}))}),pJ=e=>IM(e.length,e),_0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},mJ=pJ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),gJ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return hJ;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((s,l)=>l(s),o(...arguments))}},w0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function kM(e){var t;return e===0?t=1:t=Math.floor(new Pe(e).abs().log(10).toNumber())+1,t}function CM(e,t,n){for(var r=new Pe(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var OM=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},RM=(e,t,n)=>{if(e.lte(0))return new Pe(0);var r=kM(e.toNumber()),i=new Pe(10).pow(r),o=e.div(i),a=r!==1?.05:.1,s=new Pe(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return t?new Pe(l.toNumber()):new Pe(Math.ceil(l.toNumber()))},vJ=(e,t,n)=>{var r=new Pe(1),i=new Pe(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Pe(10).pow(kM(e)-1),i=new Pe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Pe(Math.floor(e)))}else e===0?i=new Pe(Math.floor((t-1)/2)):n||(i=new Pe(Math.floor(e)));var a=Math.floor((t-1)/2),s=gJ(mJ(l=>i.add(new Pe(l-a).mul(r)).toNumber()),_0);return s(0,t)},NM=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Pe(0),tickMin:new Pe(0),tickMax:new Pe(0)};var a=RM(new Pe(n).sub(t).div(r-1),i,o),s;t<=0&&n>=0?s=new Pe(0):(s=new Pe(t).add(n).div(2),s=s.sub(new Pe(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),u=Math.ceil(new Pe(n).sub(s).div(a).toNumber()),c=l+u+1;return c>r?NM(t,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:a,tickMin:s.sub(new Pe(l).mul(a)),tickMax:s.add(new Pe(u).mul(a))})},yJ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[s,l]=OM([n,r]);if(s===-1/0||l===1/0){var u=l===1/0?[s,..._0(0,i-1).map(()=>1/0)]:[..._0(0,i-1).map(()=>-1/0),l];return n>r?w0(u):u}if(s===l)return vJ(s,i,o);var{step:c,tickMin:d,tickMax:h}=NM(s,l,a,o,0),p=CM(d,h.add(new Pe(.1).mul(c)),c);return n>r?w0(p):p},_J=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=OM([r,i]);if(a===-1/0||s===1/0)return[r,i];if(a===s)return[a];var l=Math.max(n,2),u=RM(new Pe(s).sub(a).div(l-1),o,0),c=[...CM(new Pe(a),new Pe(s),u),s];return o===!1&&(c=c.map(d=>Math.round(d))),r>i?w0(c):c},wJ=e=>e.rootProps.barCategoryGap,Am=e=>e.rootProps.stackOffset,DM=e=>e.rootProps.reverseStackOrder,BE=e=>e.options.chartName,WE=e=>e.rootProps.syncId,MM=e=>e.rootProps.syncMethod,KE=e=>e.options.eventEmitter,Rt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Qr={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:Rt.axis},In={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:Rt.axis},Im=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},EJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qr.angleAxisId,includeHidden:!1,name:void 0,reversed:Qr.reversed,scale:Qr.scale,tick:Qr.tick,tickCount:void 0,ticks:void 0,type:Qr.type,unit:void 0},bJ={allowDataOverflow:In.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:In.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:In.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:In.scale,tick:In.tick,tickCount:In.tickCount,ticks:void 0,type:In.type,unit:void 0},PJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qr.scale,tick:Qr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},SJ={allowDataOverflow:In.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:In.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:In.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:In.scale,tick:In.tick,tickCount:In.tickCount,ticks:void 0,type:"category",unit:void 0},HE=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?PJ:EJ,qE=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?SJ:bJ,km=e=>e.polarOptions,GE=V([Ai,Ii,jt],bY),LM=V([km,GE],(e,t)=>{if(e!=null)return Eo(e.innerRadius,t,0)}),jM=V([km,GE],(e,t)=>{if(e!=null)return Eo(e.outerRadius,t,t*.8)}),TJ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},VM=V([km],TJ);V([HE,VM],Im);var $M=V([GE,LM,jM],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});V([qE,$M],Im);var UM=V([je,km,LM,jM,Ai,Ii],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:a,cy:s,startAngle:l,endAngle:u}=t;return{cx:Eo(a,i,i/2),cy:Eo(s,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),dt=(e,t)=>t,Cm=(e,t,n)=>n;function FM(e){return e==null?void 0:e.id}function zM(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=FM(s);u.forEach((d,h)=>{var p=o==null||i?h:String(Qt(d,o,null)),g=Qt(d,s.dataKey,0),_;a.has(p)?_=a.get(p):_={},Object.assign(_,{[c]:g}),a.set(p,_)})}}),Array.from(a.values())}function YE(e){return e.stackId!=null&&e.dataKey!=null}var Om=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Rm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function xJ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var ht=e=>{var t=je(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},tl=e=>e.tooltip.settings.axisId;function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(r){AJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AJ(e,t,n){return(t=IJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IJ(e){var t=kJ(e,"string");return typeof t=="symbol"?t:t+""}function kJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E0=[0,"auto"],gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},BM=(e,t)=>e.cartesianAxis.xAxis[t],Ci=(e,t)=>{var n=BM(e,t);return n??gt},vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:E0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ic},WM=(e,t)=>e.cartesianAxis.yAxis[t],Oi=(e,t)=>{var n=WM(e,t);return n??vt},CJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},QE=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??CJ},pn=(e,t,n)=>{switch(t){case"xAxis":return Ci(e,n);case"yAxis":return Oi(e,n);case"zAxis":return QE(e,n);case"angleAxis":return HE(e,n);case"radiusAxis":return qE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},OJ=(e,t,n)=>{switch(t){case"xAxis":return Ci(e,n);case"yAxis":return Oi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Mc=(e,t,n)=>{switch(t){case"xAxis":return Ci(e,n);case"yAxis":return Oi(e,n);case"angleAxis":return HE(e,n);case"radiusAxis":return qE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},KM=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function HM(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var qM=e=>e.graphicalItems.cartesianItems,RJ=V([dt,Cm],HM),GM=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Lc=V([qM,pn,RJ],GM,{memoizeOptions:{resultEqualityCheck:Rm}}),YM=V([Lc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(YE)),QM=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),NJ=V([Lc],QM),XM=e=>e.map(t=>t.data).filter(Boolean).flat(1),DJ=V([Lc],XM,{memoizeOptions:{resultEqualityCheck:Rm}}),JM=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},XE=V([DJ,UE],JM),ZM=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Qt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Qt(i,r)}))):e.map(r=>({value:r})),Nm=V([XE,pn,Lc],ZM);function eL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function wd(e){if(Ur(e)||e instanceof Date){var t=Number(e);if(Pt(t))return t}}function pA(e){if(Array.isArray(e)){var t=[wd(e[0]),wd(e[1])];return bo(t)?t:void 0}var n=wd(e);if(n!=null)return[n,n]}function Pi(e){return e.map(wd).filter(BK)}function MJ(e,t,n){return!n||typeof t!="number"||$r(t)?[]:n.length?Pi(n.flatMap(r=>{var i=Qt(e,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!Pt(o)||!Pt(a)))return[t-o,t+a]})):[]}var pt=e=>{var t=ht(e),n=tl(e);return Mc(e,t,n)},jc=V([pt],e=>e==null?void 0:e.dataKey),LJ=V([YM,UE,pt],zM),tL=(e,t,n,r)=>{var i={},o=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),i);return Object.fromEntries(Object.entries(o).map(a=>{var[s,l]=a,u=r?[...l].reverse():l,c=u.map(FM);return[s,{stackedData:o7(e,c,n),graphicalItems:u}]}))},jJ=V([LJ,YM,Am,DM],tL),nL=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var a=l7(e,i,o);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},VJ=V([pn],e=>e.allowDataOverflow),JE=e=>{var t;if(e==null||!("domain"in e))return E0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Pi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:E0},rL=V([pn],JE),iL=V([rL,VJ],wM),$J=V([jJ,Mo,dt,iL],nL,{memoizeOptions:{resultEqualityCheck:Om}}),ZE=e=>e.errorBars,UJ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>eL(n,r)),Kh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),s=Math.max(...o);return[a,s]}},oL=(e,t,n,r,i)=>{var o,a;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var u,c,d=(u=r[l.id])===null||u===void 0?void 0:u.filter(w=>eL(i,w)),h=Qt(s,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),p=MJ(s,h,d);if(p.length>=2){var g=Math.min(...p),_=Math.max(...p);(o==null||g<o)&&(o=g),(a==null||_>a)&&(a=_)}var y=pA(h);y!=null&&(o=o==null?y[0]:Math.min(o,y[0]),a=a==null?y[1]:Math.max(a,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=pA(Qt(s,t.dataKey));l!=null&&(o=o==null?l[0]:Math.min(o,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),Pt(o)&&Pt(a))return[o,a]},FJ=V([XE,pn,NJ,ZE,dt],oL,{memoizeOptions:{resultEqualityCheck:Om}});function zJ(e){var{value:t}=e;if(Ur(t)||t instanceof Date)return t}var BJ=(e,t,n)=>{var r=e.map(zJ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&GN(r))?$D(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},aL=e=>e.referenceElements.dots,nl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),WJ=V([aL,dt,Cm],nl),sL=e=>e.referenceElements.areas,KJ=V([sL,dt,Cm],nl),lL=e=>e.referenceElements.lines,HJ=V([lL,dt,Cm],nl),uL=(e,t)=>{var n=Pi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qJ=V(WJ,dt,uL),cL=(e,t)=>{var n=Pi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},GJ=V([KJ,dt],cL);function YJ(e){var t;if(e.x!=null)return Pi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Pi(n)}function QJ(e){var t;if(e.y!=null)return Pi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Pi(n)}var fL=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?YJ(r):QJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},XJ=V([HJ,dt],fL),JJ=V(qJ,XJ,GJ,(e,t,n)=>Kh(e,n,t)),dL=(e,t,n,r,i,o,a,s)=>{if(n!=null)return n;var l=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",u=l?Kh(r,o,i):Kh(o,i);return uJ(t,u,e.allowDataOverflow)},ZJ=V([pn,rL,iL,$J,FJ,JJ,je,dt],dL,{memoizeOptions:{resultEqualityCheck:Om}}),eZ=[0,1],hL=(e,t,n,r,i,o,a)=>{if(!((e==null||n==null||n.length===0)&&a===void 0)){var{dataKey:s,type:l}=e,u=Ro(t,o);if(u&&s==null){var c;return $D(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?BJ(r,e,u):i==="expand"?eZ:a}},e1=V([pn,je,XE,Nm,Am,dt,ZJ],hL),pL=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:a}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var s="scale".concat(Pc(o));return s in Gl?s:"point"}}},Vc=V([pn,je,KM,BE,dt],pL);function tZ(e){if(e!=null){if(e in Gl)return Gl[e]();var t="scale".concat(Pc(e));if(t in Gl)return Gl[t]()}}function t1(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=tZ(t);if(i!=null){var o=i.domain(n).range(r);return t7(o),o}}}var mL=(e,t,n)=>{var r=JE(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&bo(e))return yJ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&bo(e))return _J(e,t.tickCount,t.allowDecimals)}},n1=V([e1,Mc,Vc],mL),gL=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&bo(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],a=t[1],s=n[n.length-1];return[Math.min(i,o),Math.max(a,s)]}return t},nZ=V([pn,e1,n1,dt],gL),rZ=V(Nm,pn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Pi(e.map(s=>s.value))).sort((s,l)=>s-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),vL=V(rZ,je,wJ,jt,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Pt(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var a=Eo(n,e*o),s=e*o/2;return s-a-(s-a)/o*a}return 0}),iZ=(e,t)=>{var n=Ci(e,t);return n==null||typeof n.padding!="string"?0:vL(e,"xAxis",t,n.padding)},oZ=(e,t)=>{var n=Oi(e,t);return n==null||typeof n.padding!="string"?0:vL(e,"yAxis",t,n.padding)},aZ=V(Ci,iZ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),sZ=V(Oi,oZ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),lZ=V([jt,aZ,pm,hm,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),uZ=V([jt,je,sZ,pm,hm,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),$c=(e,t,n,r)=>{var i;switch(t){case"xAxis":return lZ(e,n,r);case"yAxis":return uZ(e,n,r);case"zAxis":return(i=QE(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return VM(e);case"radiusAxis":return $M(e,n);default:return}},yL=V([pn,$c],Im),rl=V([pn,Vc,nZ,yL],t1);V([Lc,ZE,dt],UJ);function _L(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Dm=(e,t)=>t,Mm=(e,t,n)=>n,cZ=V(fm,Dm,Mm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(_L)),fZ=V(dm,Dm,Mm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(_L)),wL=(e,t)=>({width:e.width,height:t.height}),dZ=(e,t)=>{var n=typeof t.width=="number"?t.width:Ic;return{width:n,height:e.height}},hZ=V(jt,Ci,wL),pZ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},mZ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},gZ=V(Ii,jt,cZ,Dm,Mm,(e,t,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=wL(t,s);a==null&&(a=pZ(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;o[s.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),o}),vZ=V(Ai,jt,fZ,Dm,Mm,(e,t,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=dZ(t,s);a==null&&(a=mZ(t,r,e));var u=r==="left"&&!i||r==="right"&&i;o[s.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),o}),yZ=(e,t)=>{var n=Ci(e,t);if(n!=null)return gZ(e,n.orientation,n.mirror)},_Z=V([jt,Ci,yZ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),wZ=(e,t)=>{var n=Oi(e,t);if(n!=null)return vZ(e,n.orientation,n.mirror)},EZ=V([jt,Oi,wZ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),bZ=V(jt,Oi,(e,t)=>{var n=typeof t.width=="number"?t.width:Ic;return{width:n,height:e.height}}),EL=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,s=Ro(e,r),l=t.map(u=>u.value);if(a&&s&&o==="category"&&i&&GN(l))return l}},r1=V([je,Nm,pn,dt],EL),bL=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=Ro(e,r);if(a&&(i==="number"||o!=="auto"))return t.map(s=>s.value)}},i1=V([je,Nm,Mc,dt],bL),mA=V([je,OJ,Vc,rl,r1,i1,$c,n1,dt],(e,t,n,r,i,o,a,s,l)=>{if(t!=null){var u=Ro(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:s,range:a,realScaleType:n,scale:r}}}),PZ=(e,t,n,r,i,o,a,s,l)=>{if(!(t==null||r==null)){var u=Ro(e,l),{type:c,ticks:d,tickCount:h}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/p:0;g=l==="angleAxis"&&o!=null&&o.length>=2?Gn(o[0]-o[1])*2*g:g;var _=d||i;if(_){var y=_.map((w,b)=>{var P=a?a.indexOf(w):w;return{index:b,coordinate:r(P)+g,value:w,offset:g}});return y.filter(w=>Pt(w.coordinate))}return u&&s?s.map((w,b)=>({coordinate:r(w)+g,value:w,index:b,offset:g})).filter(w=>Pt(w.coordinate)):r.ticks?r.ticks(h).map(w=>({coordinate:r(w)+g,value:w,offset:g})):r.domain().map((w,b)=>({coordinate:r(w)+g,value:a?a[w]:w,index:b,offset:g}))}},PL=V([je,Mc,Vc,rl,n1,$c,r1,i1,dt],PZ),SZ=(e,t,n,r,i,o,a)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=Ro(e,a),{tickCount:l}=t,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Gn(r[0]-r[1])*2*u:u,s&&o?o.map((c,d)=>({coordinate:n(c)+u,value:c,index:d,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,d)=>({coordinate:n(c)+u,value:i?i[c]:c,index:d,offset:u}))}},SL=V([je,Mc,rl,$c,r1,i1,dt],SZ),TL=V(pn,rl,(e,t)=>{if(!(e==null||t==null))return Wh(Wh({},e),{},{scale:t})}),TZ=V([pn,Vc,e1,yL],t1);V((e,t,n)=>QE(e,n),TZ,(e,t)=>{if(!(e==null||t==null))return Wh(Wh({},e),{},{scale:t})});var xZ=V([je,fm,dm],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),xL=e=>e.options.defaultTooltipEventType,AL=e=>e.options.validateTooltipEventTypes;function IL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function o1(e,t){var n=xL(e),r=AL(e);return IL(t,n,r)}function AZ(e){return J(t=>o1(t,e))}var kL=(e,t)=>{var n,r=Number(t);if(!($r(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},IZ=e=>e.tooltip.settings,Yi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},kZ={itemInteraction:{click:Yi,hover:Yi},axisInteraction:{click:Yi,hover:Yi},keyboardInteraction:Yi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},CL=Sn({name:"tooltip",initialState:kZ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ve()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=mr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Ve()},removeTooltipEntrySettings:{reducer(e,t){var n=mr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Ve()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:CZ,replaceTooltipEntrySettings:OZ,removeTooltipEntrySettings:RZ,setTooltipSettingsState:NZ,setActiveMouseOverItemIndex:DZ,mouseLeaveItem:wse,mouseLeaveChart:OL,setActiveClickItemIndex:Ese,setMouseOverAxisIndex:RL,setMouseClickAxisIndex:MZ,setSyncInteraction:b0,setKeyboardInteraction:P0}=CL.actions,LZ=CL.reducer;function gA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(n),!0).forEach(function(r){jZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jZ(e,t,n){return(t=VZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VZ(e){var t=$Z(e,"string");return typeof t=="symbol"?t:t+""}function $Z(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UZ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function FZ(e){return e.index!=null}var NL=(e,t,n,r)=>{if(t==null)return Yi;var i=UZ(e,t,n);if(i==null)return Yi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(FZ(i)){if(o)return Hf(Hf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Hf(Hf({},Yi),{},{coordinate:i.coordinate})};function zZ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function BZ(e,t){var n=zZ(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),a=Math.max(r,i);return n>=o&&n<=a}function WZ(e,t,n){if(n==null||t==null)return!0;var r=Qt(e,t);return r==null||!bo(n)?!0:BZ(r,n)}var a1=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!Pt(o))return i;var a=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(a,Math.min(o,s)),u=t[l];return u==null||WZ(u,n,r)?String(l):null},DL=(e,t,n,r,i,o,a,s)=>{if(!(o==null||s==null)){var l=a[0],u=l==null?void 0:s(l.positions,o);if(u!=null)return u;var c=i==null?void 0:i[Number(o)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:c.coordinate}}}},ML=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.dataKey)===i})},Uc=e=>e.options.tooltipPayloadSearcher,il=e=>e.tooltip;function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(n),!0).forEach(function(r){KZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KZ(e,t,n){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GZ(e,t){return e??t}var LL=(e,t,n,r,i,o,a)=>{if(!(t==null||o==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,d=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:_,settings:y}=p,w=GZ(_,s),b=Array.isArray(w)?iD(w,u,c):w,P=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:r,k=y==null?void 0:y.nameKey,O;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&a==="axis"?O=YN(b,r,i):O=o(b,t,l,k),Array.isArray(O))O.forEach(T=>{var S=yA(yA({},y),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});h.push(qT({tooltipEntrySettings:S,dataKey:T.dataKey,payload:T.payload,value:Qt(T.payload,T.dataKey),name:T.name}))});else{var M;h.push(qT({tooltipEntrySettings:y,dataKey:P,payload:O,value:Qt(O,P),name:(M=Qt(O,k))!==null&&M!==void 0?M:y==null?void 0:y.name}))}return h},d)}},s1=V([pt,je,KM,BE,ht],pL),YZ=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),QZ=V([ht,tl],HM),Fc=V([YZ,pt,QZ],GM,{memoizeOptions:{resultEqualityCheck:Rm}}),XZ=V([Fc],e=>e.filter(YE)),JZ=V([Fc],XM,{memoizeOptions:{resultEqualityCheck:Rm}}),ol=V([JZ,Mo],JM),ZZ=V([XZ,Mo,pt],zM),l1=V([ol,pt,Fc],ZM),jL=V([pt],JE),eee=V([pt],e=>e.allowDataOverflow),VL=V([jL,eee],wM),tee=V([Fc],e=>e.filter(YE)),nee=V([ZZ,tee,Am,DM],tL),ree=V([nee,Mo,ht,VL],nL),iee=V([Fc],QM),oee=V([ol,pt,iee,ZE,ht],oL,{memoizeOptions:{resultEqualityCheck:Om}}),aee=V([aL,ht,tl],nl),see=V([aee,ht],uL),lee=V([sL,ht,tl],nl),uee=V([lee,ht],cL),cee=V([lL,ht,tl],nl),fee=V([cee,ht],fL),dee=V([see,fee,uee],Kh),hee=V([pt,jL,VL,ree,oee,dee,je,ht],dL),zc=V([pt,je,ol,l1,Am,ht,hee],hL),pee=V([zc,pt,s1],mL),mee=V([pt,zc,pee,ht],gL),$L=e=>{var t=ht(e),n=tl(e),r=!1;return $c(e,t,n,r)},UL=V([pt,$L],Im),FL=V([pt,s1,mee,UL],t1),gee=V([je,l1,pt,ht],EL),vee=V([je,l1,pt,ht],bL),yee=(e,t,n,r,i,o,a,s)=>{if(t){var{type:l}=t,u=Ro(e,s);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Gn(i[0]-i[1])*2*d:d,u&&a?a.map((h,p)=>({coordinate:r(h)+d,value:h,index:p,offset:d})):r.domain().map((h,p)=>({coordinate:r(h)+d,value:o?o[h]:h,index:p,offset:d}))}}},Ri=V([je,pt,s1,FL,$L,gee,vee,ht],yee),u1=V([xL,AL,IZ],(e,t,n)=>IL(n.shared,e,t)),zL=e=>e.tooltip.settings.trigger,c1=e=>e.tooltip.settings.defaultIndex,Bc=V([il,u1,zL,c1],NL),nc=V([Bc,ol,jc,zc],a1),BL=V([Ri,nc],kL),_ee=V([Bc],e=>{if(e)return e.dataKey});V([Bc],e=>{if(e)return e.graphicalItemId});var WL=V([il,u1,zL,c1],ML),wee=V([Ai,Ii,je,jt,Ri,c1,WL,Uc],DL),Eee=V([Bc,wee],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),bee=V([Bc],e=>e.active),Pee=V([WL,nc,Mo,jc,BL,Uc,u1],LL),See=V([Pee],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(n),!0).forEach(function(r){Tee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tee(e,t,n){return(t=xee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iee=()=>J(pt),kee=()=>{var e=Iee(),t=J(Ri),n=J(FL);return Sh(!e||!n?void 0:wA(wA({},e),{},{scale:n}),t)};function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(r){Cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cee(e,t,n){return(t=Oee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oee(e){var t=Ree(e,"string");return typeof t=="symbol"?t:t+""}function Ree(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nee=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Dee=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:a}=r;return Ua(Ua(Ua({},r),Ot(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,{angle:l}=r;return Ua(Ua(Ua({},r),Ot(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Mee(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var KL=(e,t,n,r,i)=>{var o,a=-1,s=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u=l>0?n[l-1].coordinate:n[s-1].coordinate,c=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(Gn(c-u)!==Gn(d-c)){var p=[];if(Gn(d-c)===Gn(i[1]-i[0])){h=d;var g=c+i[1]-i[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{h=u;var _=d+i[1]-i[0];p[0]=Math.min(c,(_+c)/2),p[1]=Math.max(c,(_+c)/2)}var y=[Math.min(c,(h+c)/2),Math.max(c,(h+c)/2)];if(e>y[0]&&e<=y[1]||e>=p[0]&&e<=p[1]){({index:a}=n[l]);break}}else{var w=Math.min(u,d),b=Math.max(u,d);if(e>(w+c)/2&&e<=(b+c)/2){({index:a}=n[l]);break}}}else if(t){for(var P=0;P<s;P++)if(P===0&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P>0&&P<s-1&&e>(t[P].coordinate+t[P-1].coordinate)/2&&e<=(t[P].coordinate+t[P+1].coordinate)/2||P===s-1&&e>(t[P].coordinate+t[P-1].coordinate)/2){({index:a}=t[P]);break}}return a},Lee=()=>J(BE),f1=(e,t)=>t,HL=(e,t,n)=>n,d1=(e,t,n,r)=>r,jee=V(Ri,e=>nm(e,t=>t.coordinate)),h1=V([il,f1,HL,d1],NL),p1=V([h1,ol,jc,zc],a1),Vee=(e,t,n)=>{if(t!=null){var r=il(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},qL=V([il,f1,HL,d1],ML),Hh=V([Ai,Ii,je,jt,Ri,d1,qL,Uc],DL),$ee=V([h1,Hh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),GL=V([Ri,p1],kL),Uee=V([qL,p1,Mo,jc,GL,Uc,f1],LL),Fee=V([h1,p1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),zee=(e,t,n,r,i,o,a)=>{if(!(!e||!n||!r||!i)&&Mee(e,a)){var s=u7(e,t),l=KL(s,o,i,n,r),u=Nee(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},Bee=(e,t,n,r,i,o,a)=>{if(!(!e||!r||!i||!o||!n)){var s=AY(e,n);if(s){var l=c7(s,t),u=KL(l,a,o,r,i),c=Dee(t,o,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},Wee=(e,t,n,r,i,o,a,s)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?zee(e,t,r,i,o,a,s):Bee(e,t,n,r,i,o,a)},Kee=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Hee=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Rt)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:xJ}});function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(n),!0).forEach(function(r){qee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qee(e,t,n){return(t=Gee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gee(e){var t=Yee(e,"string");return typeof t=="symbol"?t:t+""}function Yee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qee={},Xee={zIndexMap:Object.values(Rt).reduce((e,t)=>PA(PA({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Qee)},Jee=new Set(Object.values(Rt));function Zee(e){return Jee.has(e)}var YL=Sn({name:"zIndex",initialState:Xee,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ve()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Zee(n)&&delete e.zIndexMap[n])},prepare:Ve()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Ve()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:Ve()}}}),{registerZIndexPortal:ete,unregisterZIndexPortal:tte,registerZIndexPortalId:nte,unregisterZIndexPortalId:rte}=YL.actions,ite=YL.reducer;function Ni(e){var{zIndex:t,children:n}=e,r=$7(),i=r&&t!==void 0&&t!==0,o=Tn(),a=at();v.useLayoutEffect(()=>i?(a(ete({zIndex:t})),()=>{a(tte({zIndex:t}))}):Sc,[a,t,i]);var s=J(u=>Kee(u,t,o));if(!i)return n;if(!s)return null;var l=document.getElementById(s);return l?gp.createPortal(n,l):null}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(null,arguments)}function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(r){ote(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ote(e,t,n){return(t=ate(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ate(e){var t=ste(e,"string");return typeof t=="symbol"?t:t+""}function ste(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lte(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function ute(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:a,layout:s,cursor:l,tooltipEventType:u,chartName:c}=e,d=n,h=r,p=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var g,_,y;if(c==="ScatterChart")g=d,_=FG,y=Rt.cursorLine;else if(c==="BarChart")g=zG(s,d,o,a),_=RD,y=Rt.cursorRectangle;else if(s==="radial"&&XN(d)){var{cx:w,cy:b,radius:P,startAngle:k,endAngle:O}=ND(d);g={cx:w,cy:b,startAngle:k,endAngle:O,innerRadius:P,outerRadius:P},_=MD,y=Rt.cursorLine}else g={points:OY(s,d,o)},_=AD,y=Rt.cursorLine;var M=typeof l=="object"&&"className"in l?l.className:void 0,T=qf(qf(qf(qf({stroke:"#ccc",pointerEvents:"none"},o),g),Hp(l)),{},{payload:h,payloadIndex:p,className:xe("recharts-tooltip-cursor",M)});return v.createElement(Ni,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},v.createElement(lte,{cursor:l,cursorComp:_,cursorProps:T}))}function cte(e){var t=kee(),n=yD(),r=gm(),i=Lee();return t==null||n==null||r==null||i==null?null:v.createElement(ute,S0({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var QL=v.createContext(null),fte=()=>v.useContext(QL),XL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,p,g){var _=n?n+u:u;if(!this._events[_])return!1;var y=this._events[_],w=arguments.length,b,P;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,h),!0;case 5:return y.fn.call(y.context,c,d,h,p),!0;case 6:return y.fn.call(y.context,c,d,h,p,g),!0}for(P=1,b=new Array(w-1);P<w;P++)b[P-1]=arguments[P];y.fn.apply(y.context,b)}else{var k=y.length,O;for(P=0;P<k;P++)switch(y[P].once&&this.removeListener(u,y[P].fn,void 0,!0),w){case 1:y[P].fn.call(y[P].context);break;case 2:y[P].fn.call(y[P].context,c);break;case 3:y[P].fn.call(y[P].context,c,d);break;case 4:y[P].fn.call(y[P].context,c,d,h);break;default:if(!b)for(O=1,b=new Array(w-1);O<w;O++)b[O-1]=arguments[O];y[P].fn.apply(y[P].context,b)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!d||g.context===d)&&a(this,p);else{for(var _=0,y=[],w=g.length;_<w;_++)(g[_].fn!==c||h&&!g[_].once||d&&g[_].context!==d)&&y.push(g[_]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(XL);var dte=XL.exports;const hte=Si(dte);var rc=new hte,T0="recharts.syncEvent.tooltip",TA="recharts.syncEvent.brush";function pte(e,t){if(t){var n=Number.parseInt(t,10);if(!$r(n))return e==null?void 0:e[n]}}var mte={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},JL=Sn({name:"options",initialState:mte,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gte=JL.reducer,{createEventEmitter:vte}=JL.actions;function yte(e){return e.tooltip.syncInteraction}var _te={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},ZL=Sn({name:"chartData",initialState:_te,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:xA,setDataStartEndIndexes:wte,setComputedData:bse}=ZL.actions,Ete=ZL.reducer,bte=["x","y"];function AA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(n),!0).forEach(function(r){Pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pte(e,t,n){return(t=Ste(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ste(e){var t=Tte(e,"string");return typeof t=="symbol"?t:t+""}function Tte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xte(e,t){if(e==null)return{};var n,r,i=Ate(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ate(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ite(){var e=J(WE),t=J(KE),n=at(),r=J(MM),i=J(Ri),o=gm(),a=mm(),s=J(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return Sc;var l=(u,c,d)=>{if(t!==d&&e===u){if(r==="index"){var h;if(a&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:g,y:_}=p,y=xte(p,bte),{x:w,y:b,width:P,height:k}=c.payload.sourceViewBox,O=Fa(Fa({},y),{},{x:a.x+(P?(g-w)/P:0)*a.width,y:a.y+(k?(_-b)/k:0)*a.height});n(Fa(Fa({},c),{},{payload:Fa(Fa({},c.payload),{},{coordinate:O})}))}else n(c);return}if(i!=null){var M;if(typeof r=="function"){var T={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},S=r(i,T);M=i[S]}else r==="value"&&(M=i.find(fe=>String(fe.value)===c.payload.label));var{coordinate:I}=c.payload;if(M==null||c.payload.active===!1||I==null||a==null){n(b0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:C}=I,D=Math.min(R,a.x+a.width),N=Math.min(C,a.y+a.height),Z={x:o==="horizontal"?M.coordinate:D,y:o==="horizontal"?N:M.coordinate},ce=b0({active:c.payload.active,coordinate:Z,dataKey:c.payload.dataKey,index:String(M.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(ce)}}};return rc.on(T0,l),()=>{rc.off(T0,l)}},[s,n,t,e,r,i,o,a])}function kte(){var e=J(WE),t=J(KE),n=at();v.useEffect(()=>{if(e==null)return Sc;var r=(i,o,a)=>{t!==a&&e===i&&n(wte(o))};return rc.on(TA,r),()=>{rc.off(TA,r)}},[n,t,e])}function Cte(){var e=at();v.useEffect(()=>{e(vte())},[e]),Ite(),kte()}function Ote(e,t,n,r,i,o){var a=J(p=>Vee(p,e,t)),s=J(KE),l=J(WE),u=J(MM),c=J(yte),d=c==null?void 0:c.active,h=mm();v.useEffect(()=>{if(!d&&l!=null&&s!=null){var p=b0({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});rc.emit(T0,l,p,s)}},[d,n,a,i,r,s,l,u,o,h])}function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(n),!0).forEach(function(r){Rte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rte(e,t,n){return(t=Nte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nte(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mte(e){return e.dataKey}function Lte(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(wG,t)}var CA=[],jte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ej(e){var t,n,r=Zt(e,jte),{active:i,allowEscapeViewBox:o,animationDuration:a,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:_,wrapperStyle:y,cursor:w,shared:b,trigger:P,defaultIndex:k,portal:O,axisId:M}=r,T=at(),S=typeof k=="number"?String(k):k;v.useEffect(()=>{T(NZ({shared:b,trigger:P,axisId:M,active:i,defaultIndex:S}))},[T,b,P,M,i,S]);var I=mm(),R=xD(),C=AZ(b),{activeIndex:D,isActive:N}=(t=J(Oe=>Fee(Oe,C,P,S)))!==null&&t!==void 0?t:{},Z=J(Oe=>Uee(Oe,C,P,S)),ce=J(Oe=>GL(Oe,C,P,S)),fe=J(Oe=>$ee(Oe,C,P,S)),se=Z,z=fte(),B=(n=i??N)!==null&&n!==void 0?n:!1,[X,le]=I2([se,B]),ue=C==="axis"?ce:void 0;Ote(C,P,fe,ue,D,B);var Ee=O??z;if(Ee==null||I==null||C==null)return null;var Qe=se??CA;B||(Qe=CA),u&&Qe.length&&(Qe=g2(Qe.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||r.includeHidden)),h,Mte));var en=Qe.length>0,tn=v.createElement(AG,{allowEscapeViewBox:o,animationDuration:a,animationEasing:s,isAnimationActive:c,active:B,coordinate:fe,hasPayload:en,offset:d,position:p,reverseDirection:g,useTranslate3d:_,viewBox:I,wrapperStyle:y,lastBoundingBox:X,innerRef:le,hasPortalFromProps:!!O},Lte(l,kA(kA({},r),{},{payload:Qe,label:ue,active:B,activeIndex:D,coordinate:fe,accessibilityLayer:R})));return v.createElement(v.Fragment,null,gp.createPortal(tn,Ee),B&&v.createElement(cte,{cursor:w,tooltipEventType:C,coordinate:fe,payload:Qe,index:D}))}function Vte(e,t,n){return(t=$te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $te(e){var t=Ute(e,"string");return typeof t=="symbol"?t:t+""}function Ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Fte{constructor(t){Vte(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(r){Bte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bte(e,t,n){return(t=Wte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wte(e){var t=Kte(e,"string");return typeof t=="symbol"?t:t+""}function Kte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hte={cacheSize:2e3,enableCache:!0},tj=zte({},Hte),RA=new Fte(tj.cacheSize),qte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NA="recharts_measurement_span";function Gte(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",a=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(s)}var DA=(e,t)=>{try{var n=document.getElementById(NA);n||(n=document.createElement("span"),n.setAttribute("id",NA),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,qte,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},cu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Cc.isSsr)return{width:0,height:0};if(!tj.enableCache)return DA(t,n);var r=Gte(t,n),i=RA.get(r);if(i)return i;var o=DA(t,n);return RA.set(r,o),o},MA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Qte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Xte=Object.keys(nj),os="NaN";function Jte(e,t){return e*nj[t]}class mn{static parse(t){var n,[,r,i]=(n=Qte.exec(t))!==null&&n!==void 0?n:[];return new mn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,$r(t)&&(this.unit=""),n!==""&&!Yte.test(n)&&(this.num=NaN,this.unit=""),Xte.includes(n)&&(this.num=Jte(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new mn(NaN,""):new mn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new mn(NaN,""):new mn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new mn(NaN,""):new mn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new mn(NaN,""):new mn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $r(this.num)}}function rj(e){if(e.includes(os))return os;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=MA.exec(t))!==null&&n!==void 0?n:[],a=mn.parse(r??""),s=mn.parse(o??""),l=i==="*"?a.multiply(s):a.divide(s);if(l.isNaN())return os;t=t.replace(MA,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,h]=(u=LA.exec(t))!==null&&u!==void 0?u:[],p=mn.parse(c??""),g=mn.parse(h??""),_=d==="+"?p.add(g):p.subtract(g);if(_.isNaN())return os;t=t.replace(LA,_.toString())}return t}var jA=/\(([^()]*)\)/;function Zte(e){for(var t=e,n;(n=jA.exec(t))!=null;){var[,r]=n;t=t.replace(jA,rj(r))}return t}function ene(e){var t=e.replace(/\s+/g,"");return t=Zte(t),t=rj(t),t}function tne(e){try{return ene(e)}catch{return os}}function sv(e){var t=tne(e.slice(5,-1));return t===os?"":t}var nne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],rne=["dx","dy","angle","className","breakAll"];function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x0.apply(null,arguments)}function VA(e,t){if(e==null)return{};var n,r,i=ine(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ine(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ij=/[ \f\n\r\t\v\u2028\u2029]+/,oj=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];bt(t)||(n?i=t.toString().split(""):i=t.toString().split(ij));var o=i.map(s=>({word:s,width:cu(s,r).width})),a=n?0:cu("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}};function one(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var aj=(e,t,n,r)=>e.reduce((i,o)=>{var{word:a,width:s}=o,l=i[i.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(a),l.width+=s+n;else{var u={words:[a],width:s};i.push(u)}return i},[]),sj=e=>e.reduce((t,n)=>t.width>n.width?t:n),ane="",$A=(e,t,n,r,i,o,a,s)=>{var l=e.slice(0,t),u=oj({breakAll:n,style:r,children:l+ane});if(!u)return[!1,[]];var c=aj(u.wordsWithComputedWidth,o,a,s),d=c.length>i||sj(c).width>Number(o);return[d,c]},sne=(e,t,n,r,i)=>{var{maxLines:o,children:a,style:s,breakAll:l}=e,u=ee(o),c=String(a),d=aj(t,r,n,i);if(!u||i)return d;var h=d.length>o||sj(d).width>Number(r);if(!h)return d;for(var p=0,g=c.length-1,_=0,y;p<=g&&_<=c.length-1;){var w=Math.floor((p+g)/2),b=w-1,[P,k]=$A(c,b,l,s,o,r,n,i),[O]=$A(c,w,l,s,o,r,n,i);if(!P&&!O&&(p=w+1),P&&O&&(g=w-1),!P&&O){y=k;break}_++}return y||d},UA=e=>{var t=bt(e)?[]:e.toString().split(ij);return[{words:t,width:void 0}]},lne=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=e;if((t||n)&&!Cc.isSsr){var s,l,u=oj({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return UA(r);return sne({breakAll:o,children:r,maxLines:a,style:i},s,l,t,!!n)}return UA(r)},lj="#808080",une={angle:0,breakAll:!1,capHeight:"0.71em",fill:lj,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},m1=v.forwardRef((e,t)=>{var n=Zt(e,une),{x:r,y:i,lineHeight:o,capHeight:a,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,d=VA(n,nne),h=v.useMemo(()=>lne({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:p,dy:g,angle:_,className:y,breakAll:w}=d,b=VA(d,rne);if(!Ur(r)||!Ur(i)||h.length===0)return null;var P=Number(r)+(ee(p)?p:0),k=Number(i)+(ee(g)?g:0);if(!Pt(P)||!Pt(k))return null;var O;switch(c){case"start":O=sv("calc(".concat(a,")"));break;case"middle":O=sv("calc(".concat((h.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:O=sv("calc(".concat(h.length-1," * -").concat(o,")"));break}var M=[];if(l){var T=h[0].width,{width:S}=d;M.push("scale(".concat(ee(S)&&ee(T)?S/T:1,")"))}return _&&M.push("rotate(".concat(_,", ").concat(P,", ").concat(k,")")),M.length&&(b.transform=M.join(" ")),v.createElement("text",x0({},cn(b),{ref:t,x:P,y:k,className:xe("recharts-text",y),textAnchor:u,fill:s.includes("url")?lj:s}),h.map((I,R)=>{var C=I.words.join(w?"":" ");return v.createElement("tspan",{x:P,dy:R===0?O:o,key:"".concat(C,"-").concat(R)},C)}))});m1.displayName="Text";var cne=["labelRef"];function fne(e,t){if(e==null)return{};var n,r,i=dne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){hne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hne(e,t,n){return(t=pne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pne(e){var t=mne(e,"string");return typeof t=="symbol"?t:t+""}function mne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xr.apply(null,arguments)}var uj=v.createContext(null),gne=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:a,children:s}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:a}),[t,n,r,i,o,a]);return v.createElement(uj.Provider,{value:l},s)},cj=()=>{var e=v.useContext(uj),t=mm();return e||vD(t)},vne=v.createContext(null),yne=()=>{var e=v.useContext(vne),t=J(UM);return e||t},_ne=e=>{var{value:t,formatter:n}=e,r=bt(e.children)?t:e.children;return typeof n=="function"?n(r):r},g1=e=>e!=null&&typeof e=="function",wne=(e,t)=>{var n=Gn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Ene=(e,t,n,r,i)=>{var{offset:o,className:a}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:h,clockWise:p}=i,g=(u+c)/2,_=wne(d,h),y=_>=0?1:-1,w,b;switch(t){case"insideStart":w=d+y*o,b=p;break;case"insideEnd":w=h-y*o,b=!p;break;case"end":w=h+y*o,b=p;break;default:throw new Error("Unsupported position ".concat(t))}b=_<=0?b:!b;var P=Ot(s,l,g,w),k=Ot(s,l,g,w+(b?1:-1)*359),O="M".concat(P.x,",").concat(P.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(k.x,",").concat(k.y),M=bt(e.id)?Bu("recharts-radial-line-"):e.id;return v.createElement("text",Xr({},r,{dominantBaseline:"central",className:xe("recharts-radial-bar-label",a)}),v.createElement("defs",null,v.createElement("path",{id:M,d:O})),v.createElement("textPath",{xlinkHref:"#".concat(M)},n))},bne=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(n==="outside"){var{x:c,y:d}=Ot(r,i,a+t,u);return{x:c,y:d,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(o+a)/2,{x:p,y:g}=Ot(r,i,h,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},A0=e=>"cx"in e&&ee(e.cx),Pne=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!A0(n)&&(o=n);var{x:a,y:s,upperWidth:l,lowerWidth:u,height:c}=t,d=a,h=a+(l-u)/2,p=(d+h)/2,g=(l+u)/2,_=d+l/2,y=c>=0?1:-1,w=y*r,b=y>0?"end":"start",P=y>0?"start":"end",k=l>=0?1:-1,O=k*r,M=k>0?"end":"start",T=k>0?"start":"end";if(i==="top"){var S={x:d+l/2,y:s-w,textAnchor:"middle",verticalAnchor:b};return Xe(Xe({},S),o?{height:Math.max(s-o.y,0),width:l}:{})}if(i==="bottom"){var I={x:h+u/2,y:s+c+w,textAnchor:"middle",verticalAnchor:P};return Xe(Xe({},I),o?{height:Math.max(o.y+o.height-(s+c),0),width:u}:{})}if(i==="left"){var R={x:p-O,y:s+c/2,textAnchor:M,verticalAnchor:"middle"};return Xe(Xe({},R),o?{width:Math.max(R.x-o.x,0),height:c}:{})}if(i==="right"){var C={x:p+g+O,y:s+c/2,textAnchor:T,verticalAnchor:"middle"};return Xe(Xe({},C),o?{width:Math.max(o.x+o.width-C.x,0),height:c}:{})}var D=o?{width:g,height:c}:{};return i==="insideLeft"?Xe({x:p+O,y:s+c/2,textAnchor:T,verticalAnchor:"middle"},D):i==="insideRight"?Xe({x:p+g-O,y:s+c/2,textAnchor:M,verticalAnchor:"middle"},D):i==="insideTop"?Xe({x:d+l/2,y:s+w,textAnchor:"middle",verticalAnchor:P},D):i==="insideBottom"?Xe({x:h+u/2,y:s+c-w,textAnchor:"middle",verticalAnchor:b},D):i==="insideTopLeft"?Xe({x:d+O,y:s+w,textAnchor:T,verticalAnchor:P},D):i==="insideTopRight"?Xe({x:d+l-O,y:s+w,textAnchor:M,verticalAnchor:P},D):i==="insideBottomLeft"?Xe({x:h+O,y:s+c-w,textAnchor:T,verticalAnchor:b},D):i==="insideBottomRight"?Xe({x:h+u-O,y:s+c-w,textAnchor:M,verticalAnchor:b},D):i&&typeof i=="object"&&(ee(i.x)||yi(i.x))&&(ee(i.y)||yi(i.y))?Xe({x:a+Eo(i.x,g),y:s+Eo(i.y,c),textAnchor:"end",verticalAnchor:"end"},D):Xe({x:_,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},D)},Sne={angle:0,offset:5,zIndex:Rt.label,position:"middle",textBreakAll:!1};function zi(e){var t=Zt(e,Sne),{viewBox:n,position:r,value:i,children:o,content:a,className:s="",textBreakAll:l,labelRef:u}=t,c=yne(),d=cj(),h=r==="center"?d:c??d,p,g,_;if(n==null?p=h:A0(n)?p=n:p=vD(n),!p||bt(i)&&bt(o)&&!v.isValidElement(a)&&typeof a!="function")return null;var y=Xe(Xe({},t),{},{viewBox:p});if(v.isValidElement(a)){var w=fne(y,cne);return v.cloneElement(a,w)}if(typeof a=="function"){if(g=v.createElement(a,y),v.isValidElement(g))return g}else g=_ne(t);var b=cn(t);if(A0(p)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Ene(t,r,g,b,p);_=bne(p,t.offset,t.position)}else _=Pne(t,p);return v.createElement(Ni,{zIndex:t.zIndex},v.createElement(m1,Xr({ref:u,className:xe("recharts-label",s)},b,_,{textAnchor:one(b.textAnchor)?b.textAnchor:_.textAnchor,breakAll:l}),g))}zi.displayName="Label";var Tne=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(zi,Xr({key:"label-implicit"},r)):Ur(e)?v.createElement(zi,Xr({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===zi?v.cloneElement(e,Xe({key:"label-implicit"},r)):v.createElement(zi,Xr({key:"label-implicit",content:e},r)):g1(e)?v.createElement(zi,Xr({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(zi,Xr({},e,{key:"label-implicit"},r)):null};function xne(e){var{label:t,labelRef:n}=e,r=cj();return Tne(t,r,n)||null}var fj={},dj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(dj);var hj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(hj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dj,n=hj,r=em;function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(fj);var Ane=fj.last;const Ine=Si(Ane);var kne=["valueAccessor"],Cne=["dataKey","clockWise","id","textBreakAll","zIndex"];function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qh.apply(null,arguments)}function zA(e,t){if(e==null)return{};var n,r,i=One(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function One(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rne=e=>Array.isArray(e.value)?Ine(e.value):e.value,pj=v.createContext(void 0),Nne=pj.Provider,mj=v.createContext(void 0);mj.Provider;function Dne(){return v.useContext(pj)}function Mne(){return v.useContext(mj)}function Ed(e){var{valueAccessor:t=Rne}=e,n=zA(e,kne),{dataKey:r,clockWise:i,id:o,textBreakAll:a,zIndex:s}=n,l=zA(n,Cne),u=Dne(),c=Mne(),d=u||c;return!d||!d.length?null:v.createElement(Ni,{zIndex:s??Rt.label},v.createElement(wo,{className:"recharts-label-list"},d.map((h,p)=>{var g,_=bt(r)?t(h,p):Qt(h&&h.payload,r),y=bt(o)?{}:{id:"".concat(o,"-").concat(p)};return v.createElement(zi,qh({key:"label-".concat(p)},cn(h),l,y,{fill:(g=n.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:_,textBreakAll:a,viewBox:h.viewBox,index:p,zIndex:0}))})))}Ed.displayName="LabelList";function Lne(e){var{label:t}=e;return t?t===!0?v.createElement(Ed,{key:"labelList-implicit"}):v.isValidElement(t)||g1(t)?v.createElement(Ed,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(Ed,qh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(null,arguments)}var gj=e=>{var{cx:t,cy:n,r,className:i}=e,o=xe("recharts-dot",i);return ee(t)&&ee(n)&&ee(r)?v.createElement("circle",I0({},Vr(e),zw(e),{className:o,cx:t,cy:n,r})):null},jne={radiusAxis:{},angleAxis:{}},vj=Sn({name:"polarAxis",initialState:jne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}});vj.actions;var Vne=vj.reducer,yj=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,_j={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(_j);var $ne=_j.isPlainObject;const Une=Si($ne);function BA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(n),!0).forEach(function(r){Fne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fne(e,t,n){return(t=zne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zne(e){var t=Bne(e,"string");return typeof t=="symbol"?t:t+""}function Bne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gh.apply(null,arguments)}var KA=(e,t,n,r,i)=>{var o=n-r,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-o/2,",").concat(t+i),a+="L ".concat(e+n-o/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},Wne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kne=e=>{var t=Zt(e,Wne),{x:n,y:r,upperWidth:i,lowerWidth:o,height:a,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,h=v.useRef(null),[p,g]=v.useState(-1),_=v.useRef(i),y=v.useRef(o),w=v.useRef(a),b=v.useRef(n),P=v.useRef(r),k=gE(e,"trapezoid-");if(v.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var Z=h.current.getTotalLength();Z&&g(Z)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||a!==+a||i===0&&o===0||a===0)return null;var O=xe("recharts-trapezoid",s);if(!d)return v.createElement("g",null,v.createElement("path",Gh({},cn(t),{className:O,d:KA(n,r,i,o,a)})));var M=_.current,T=y.current,S=w.current,I=b.current,R=P.current,C="0px ".concat(p===-1?1:p,"px"),D="".concat(p,"px 0px"),N=ID(["strokeDasharray"],u,l);return v.createElement(mE,{animationId:k,key:k,canBegin:p>0,duration:u,easing:l,isActive:d,begin:c},Z=>{var ce=yn(M,i,Z),fe=yn(T,o,Z),se=yn(S,a,Z),z=yn(I,n,Z),B=yn(R,r,Z);h.current&&(_.current=ce,y.current=fe,w.current=se,b.current=z,P.current=B);var X=Z>0?{transition:N,strokeDasharray:D}:{strokeDasharray:C};return v.createElement("path",Gh({},cn(t),{className:O,d:KA(z,B,ce,fe,se),ref:h,style:WA(WA({},X),t.style)}))})},Hne=["option","shapeType","propTransformer","activeClassName"];function qne(e,t){if(e==null)return{};var n,r,i=Gne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(n),!0).forEach(function(r){Yne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yne(e,t,n){return(t=Qne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qne(e){var t=Xne(e,"string");return typeof t=="symbol"?t:t+""}function Xne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jne(e,t){return Yh(Yh({},t),e)}function Zne(e,t){return e==="symbols"}function qA(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(RD,n);case"trapezoid":return v.createElement(Kne,n);case"sector":return v.createElement(MD,n);case"symbols":if(Zne(t))return v.createElement(Fw,n);break;case"curve":return v.createElement(AD,n);default:return null}}function ere(e){return v.isValidElement(e)?e.props:e}function tre(e){var{option:t,shapeType:n,propTransformer:r=Jne,activeClassName:i="recharts-active-shape"}=e,o=qne(e,Hne),a;if(v.isValidElement(t))a=v.cloneElement(t,Yh(Yh({},o),ere(t)));else if(typeof t=="function")a=t(o,o.index);else if(Une(t)&&typeof t!="boolean"){var s=r(t,o);a=v.createElement(qA,{shapeType:n,elementProps:s})}else{var l=o;a=v.createElement(qA,{shapeType:n,elementProps:l})}return o.isActive?v.createElement(wo,{className:i},a):a}function nre(e){var{tooltipEntrySettings:t}=e,n=at(),r=Tn(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(CZ(t)):i.current!==t&&n(OZ({prev:i.current,next:t})),i.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{i.current&&(n(RZ(i.current)),i.current=null)},[n]),null}function rre(e){var{legendPayload:t}=e,n=at(),r=Tn(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(Z7(t)):i.current!==t&&n(eG({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(tG(i.current)),i.current=null)},[n]),null}var lv,ire=()=>{var[e]=v.useState(()=>Bu("uid-"));return e},ore=(lv=TI["useId".toString()])!==null&&lv!==void 0?lv:ire;function wj(e,t){var n=ore();return t||(e?"".concat(e,"-").concat(n):n)}var are=v.createContext(void 0),sre=e=>{var{id:t,type:n,children:r}=e,i=wj("recharts-".concat(n),t);return v.createElement(are.Provider,{value:i},r(i))},lre={cartesianItems:[],polarItems:[]},Ej=Sn({name:"graphicalItems",initialState:lre,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ve()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=mr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Ve()},removeCartesianGraphicalItem:{reducer(e,t){var n=mr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Ve()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ve()},removePolarGraphicalItem:{reducer(e,t){var n=mr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Ve()}}}),{addCartesianGraphicalItem:ure,replaceCartesianGraphicalItem:cre,removeCartesianGraphicalItem:fre,addPolarGraphicalItem:Pse,removePolarGraphicalItem:Sse}=Ej.actions,dre=Ej.reducer,hre=e=>{var t=at(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(ure(e)):n.current!==e&&t(cre({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(fre(n.current)),n.current=null)},[t]),null},pre=v.memo(hre),mre=["points"];function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(r){gre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gre(e,t,n){return(t=vre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vre(e){var t=yre(e,"string");return typeof t=="symbol"?t:t+""}function yre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qh.apply(null,arguments)}function _re(e,t){if(e==null)return{};var n,r,i=wre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ere(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var i=xe(r,typeof t!="boolean"?t.className:""),o=n??{},a=_re(o,mre);return v.createElement(gj,Qh({},a,{className:i}))}function bre(e,t){return e==null?!1:t?!0:e.length===1}function Pre(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:a,needClip:s,clipPathId:l,zIndex:u=Rt.scatter}=e;if(!bre(t,n))return null;var c=yj(n),d=eK(n),h=t.map((g,_)=>{var y,w,b=uv(uv(uv({r:3},a),d),{},{index:_,cx:(y=g.x)!==null&&y!==void 0?y:void 0,cy:(w=g.y)!==null&&w!==void 0?w:void 0,dataKey:o,value:g.value,payload:g.payload,points:t});return v.createElement(Ere,{key:"dot-".concat(_),option:n,dotProps:b,className:i})}),p={};return s&&l!=null&&(p.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),v.createElement(Ni,{zIndex:u},v.createElement(wo,Qh({className:r},p),h))}function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){Sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sre(e,t,n){return(t=Tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tre(e){var t=xre(e,"string");return typeof t=="symbol"?t:t+""}function xre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Are={xAxis:{},yAxis:{},zAxis:{}},bj=Sn({name:"cartesianAxis",initialState:Are,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ve()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Ve()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ve()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ve()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Ve()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ve()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ve()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Ve()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ve()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var a=[...o,r].slice(-3);e.yAxis[n]=QA(QA({},e.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:Ire,replaceXAxis:kre,removeXAxis:Cre,addYAxis:Ore,replaceYAxis:Rre,removeYAxis:Nre,addZAxis:Tse,replaceZAxis:xse,removeZAxis:Ase,updateYAxisWidth:Dre}=bj.actions,Mre=bj.reducer,Lre=V([jt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),jre=V([Lre,Ai,Ii],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),v1=()=>J(jre),Vre=()=>J(See);function XA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(n),!0).forEach(function(r){$re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $re(e,t,n){return(t=Ure(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ure(e){var t=Fre(e,"string");return typeof t=="symbol"?t:t+""}function Fre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zre=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=cv(cv(cv({},s),Hp(i)),zw(i)),u;return v.isValidElement(i)?u=v.cloneElement(i,l):typeof i=="function"?u=i(l):u=v.createElement(gj,l),v.createElement(wo,{className:"recharts-active-dot",clipPath:a},u)};function Bre(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:a=Rt.activeDot}=e,s=J(nc),l=Vre();if(t==null||l==null)return null;var u=t.find(c=>l.includes(c.payload));return bt(u)?null:v.createElement(Ni,{zIndex:a},v.createElement(zre,{point:u,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var Wre={},Pj=Sn({name:"errorBars",initialState:Wre,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}});Pj.actions;var Kre=Pj.reducer,Hre=["children"];function qre(e,t){if(e==null)return{};var n,r,i=Gre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Yre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Qre=v.createContext(Yre);function Xre(e){var{children:t}=e,n=qre(e,Hre);return v.createElement(Qre.Provider,{value:n},t)}function Sj(e,t){var n,r,i=J(u=>Ci(u,e)),o=J(u=>Oi(u,t)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:gt.allowDataOverflow,s=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:vt.allowDataOverflow,l=a||s;return{needClip:l,needClipX:a,needClipY:s}}function Jre(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=v1(),{needClipX:o,needClipY:a,needClip:s}=Sj(t,n);if(!s||!i)return null;var{x:l,y:u,width:c,height:d}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:o?l:l-c/2,y:a?u:u-d/2,width:o?c:c*2,height:a?d:d*2}))}var Zre={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wc=v;function eie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tie=typeof Object.is=="function"?Object.is:eie,nie=Wc.useSyncExternalStore,rie=Wc.useRef,iie=Wc.useEffect,oie=Wc.useMemo,aie=Wc.useDebugValue;Zre.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=rie(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=oie(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return d=g}return d=p}if(g=d,tie(c,p))return g;var _=r(p);return i!==void 0&&i(g,_)?(c=p,g):(c=p,d=_)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=nie(e,o[0],o[1]);return iie(function(){a.hasValue=!0,a.value=s},[s]),aie(s),s};function sie(e){e()}function lie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){sie(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var JA={notify(){},get:()=>[]};function uie(e,t){let n,r=JA,i=0,o=!1;function a(_){c();const y=r.subscribe(_);let w=!1;return()=>{w||(w=!0,y(),d())}}function s(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return o}function c(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=lie())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=JA)}function h(){o||(o=!0,c())}function p(){o&&(o=!1,d())}const g={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return g}var cie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fie=cie(),die=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hie=die(),pie=()=>fie||hie?v.useLayoutEffect:v.useEffect,mie=pie();function ZA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function gie(e,t){if(ZA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!ZA(e[n[i]],t[n[i]]))return!1;return!0}var fv=Symbol.for("react-redux-context"),dv=typeof globalThis<"u"?globalThis:{};function vie(){if(!v.createContext)return{};const e=dv[fv]??(dv[fv]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var yie=vie();function _ie(e){const{children:t,context:n,serverState:r,store:i}=e,o=v.useMemo(()=>{const l=uie(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=v.useMemo(()=>i.getState(),[i]);mie(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const s=n||yie;return v.createElement(s.Provider,{value:o},t)}var wie=_ie,Eie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function bie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function y1(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Eie.has(r)){if(e[r]==null&&t[r]==null)continue;if(!gie(e[r],t[r]))return!1}else if(!bie(e[r],t[r]))return!1;return!0}var Pie=e=>{var{chartData:t}=e,n=at(),r=Tn();return v.useEffect(()=>r?()=>{}:(n(xA(t)),()=>{n(xA(void 0))}),[t,n,r]),null},eI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Tj=Sn({name:"brush",initialState:eI,reducers:{setBrushSettings(e,t){return t.payload==null?eI:t.payload}}});Tj.actions;var Sie=Tj.reducer;function Tie(e,t,n){return(t=xie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xie(e){var t=Aie(e,"string");return typeof t=="symbol"?t:t+""}function Aie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _1{static create(t){return new _1(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Tie(_1,"EPS",1e-4);function Iie(e){return(e%180+180)%180}var kie=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Iie(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Cie={dots:[],areas:[],lines:[]},xj=Sn({name:"referenceElements",initialState:Cie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=mr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=mr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=mr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}});xj.actions;var Oie=xj.reducer,Rie=v.createContext(void 0),Nie=e=>{var{children:t}=e,[n]=v.useState("".concat(Bu("recharts"),"-clip")),r=v1();if(r==null)return null;var{x:i,y:o,width:a,height:s}=r;return v.createElement(Rie.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:o,height:s,width:a}))),t)};function Aj(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function Die(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return kie(r,n)}function Mie(e,t,n){var r=n==="width",{x:i,y:o,width:a,height:s}=e;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Xh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function Lie(e,t){return Aj(e,t+1)}function jie(e,t,n,r,i){for(var o=(r||[]).slice(),{start:a,end:s}=t,l=0,u=1,c=a,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:Aj(r,u)};var _=l,y,w=()=>(y===void 0&&(y=n(g,_)),y),b=g.coordinate,P=l===0||Xh(e,b,w,c,s);P||(l=0,c=a,u+=1),P&&(c=b+e*(w()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(r){Vie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vie(e,t,n){return(t=$ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ie(e){var t=Uie(e,"string");return typeof t=="symbol"?t:t+""}function Uie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fie(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:s}=t,{end:l}=t,u=function(h){var p=o[h],g,_=()=>(g===void 0&&(g=n(p,h)),g);if(h===a-1){var y=e*(p.coordinate+e*_()/2-l);o[h]=p=Kt(Kt({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else o[h]=p=Kt(Kt({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var w=Xh(e,p.tickCoord,_,s,l);w&&(l=p.tickCoord-e*(_()/2+i),o[h]=Kt(Kt({},p),{},{isShow:!0}))}},c=a-1;c>=0;c--)u(c);return o}function zie(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,{start:l,end:u}=t;if(o){var c=r[s-1],d=n(c,s-1),h=e*(c.coordinate+e*d/2-u);if(a[s-1]=c=Kt(Kt({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var p=Xh(e,c.tickCoord,()=>d,l,u);p&&(u=c.tickCoord-e*(d/2+i),a[s-1]=Kt(Kt({},c),{},{isShow:!0}))}}for(var g=o?s-1:s,_=function(b){var P=a[b],k,O=()=>(k===void 0&&(k=n(P,b)),k);if(b===0){var M=e*(P.coordinate-e*O()/2-l);a[b]=P=Kt(Kt({},P),{},{tickCoord:M<0?P.coordinate-M*e:P.coordinate})}else a[b]=P=Kt(Kt({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var T=Xh(e,P.tickCoord,O,l,u);T&&(l=P.tickCoord+e*(O()/2+i),a[b]=Kt(Kt({},P),{},{isShow:!0}))}},y=0;y<g;y++)_(y);return a}function w1(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!r)return[];if(ee(l)||Cc.isSsr){var h;return(h=Lie(i,ee(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],g=s==="top"||s==="bottom"?"width":"height",_=c&&g==="width"?cu(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(P,k)=>{var O=typeof u=="function"?u(P.value,k):P.value;return g==="width"?Die(cu(O,{fontSize:t,letterSpacing:n}),_,d):cu(O,{fontSize:t,letterSpacing:n})[g]},w=i.length>=2?Gn(i[1].coordinate-i[0].coordinate):1,b=Mie(o,w,g);return l==="equidistantPreserveStart"?jie(w,b,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=zie(w,b,y,i,a,l==="preserveStartEnd"):p=Fie(w,b,y,i,a),p.filter(P=>P.isShow))}var Bie=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,a=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>a&&(a=d.width)}});var s=n?n.getBoundingClientRect().width:0,l=i+o,u=a+l+s+(n?r:0);return Math.round(u)}return 0},Wie=["axisLine","width","height","className","hide","ticks","axisType"];function Kie(e,t){if(e==null)return{};var n,r,i=Hie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pa.apply(null,arguments)}function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(r){qie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qie(e,t,n){return(t=Gie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gie(e){var t=Yie(e,"string");return typeof t=="symbol"?t:t+""}function Yie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var li={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Rt.axis};function Qie(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=nt(nt(nt({},l),Vr(s)),{},{fill:"none"});if(o==="top"||o==="bottom"){var c=+(o==="top"&&!a||o==="bottom"&&a);u=nt(nt({},u),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var d=+(o==="left"&&!a||o==="right"&&a);u=nt(nt({},u),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+i})}return v.createElement("line",Pa({},u,{className:xe("recharts-cartesian-axis-line",Zp(s,"className"))}))}function Xie(e,t,n,r,i,o,a,s,l){var u,c,d,h,p,g,_=s?-1:1,y=e.tickSize||a,w=ee(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":u=c=e.coordinate,h=n+ +!s*i,d=h-_*y,g=d-_*l,p=w;break;case"left":d=h=e.coordinate,c=t+ +!s*r,u=c-_*y,p=u-_*l,g=w;break;case"right":d=h=e.coordinate,c=t+ +s*r,u=c+_*y,p=u+_*l,g=w;break;default:u=c=e.coordinate,h=n+ +s*i,d=h+_*y,g=d+_*l,p=w;break}return{line:{x1:u,y1:d,x2:c,y2:h},tick:{x:p,y:g}}}function Jie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Zie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function eoe(e){var{option:t,tickProps:n,value:r}=e,i,o=xe(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,nt(nt({},n),{},{className:o}));else if(typeof t=="function")i=t(nt(nt({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=xe(a,t==null?void 0:t.className)),i=v.createElement(m1,Pa({},n,{className:a}),r)}return i}var toe=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:a,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:d,x:h,y:p,width:g,height:_,tickSize:y,tickMargin:w,fontSize:b,letterSpacing:P,getTicksConfig:k,events:O,axisType:M}=e,T=w1(nt(nt({},k),{},{ticks:n}),b,P),S=Jie(c,d),I=Zie(c,d),R=Vr(k),C=Hp(r),D={};typeof i=="object"&&(D=i);var N=nt(nt({},R),{},{fill:"none"},D),Z=T.map(se=>nt({entry:se},Xie(se,h,p,g,_,c,y,d,w))),ce=Z.map(se=>{var{entry:z,line:B}=se;return v.createElement(wo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},i&&v.createElement("line",Pa({},N,B,{className:xe("recharts-cartesian-axis-tick-line",Zp(i,"className"))})))}),fe=Z.map((se,z)=>{var{entry:B,tick:X}=se,le=nt(nt(nt(nt({textAnchor:S,verticalAnchor:I},R),{},{stroke:"none",fill:o},C),X),{},{index:z,payload:B,visibleTicksCount:T.length,tickFormatter:a,padding:l},u);return v.createElement(wo,Pa({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},JN(O,B,z)),r&&v.createElement(eoe,{option:r,tickProps:le,value:"".concat(typeof a=="function"?a(B.value,z):B.value).concat(s||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},fe.length>0&&v.createElement(Ni,{zIndex:Rt.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:t},fe)),ce.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},ce))}),noe=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:a,ticks:s,axisType:l}=e,u=Kie(e,Wie),[c,d]=v.useState(""),[h,p]=v.useState(""),g=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return Bie({ticks:g.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=v.useCallback(y=>{if(y){var w=y.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=w;var b=w[0];if(b){var P=window.getComputedStyle(b),k=P.fontSize,O=P.letterSpacing;(k!==c||O!==h)&&(d(k),p(O))}}},[c,h]);return a||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(Ni,{zIndex:e.zIndex},v.createElement(wo,{className:xe("recharts-cartesian-axis",o)},v.createElement(Qie,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Vr(e)}),v.createElement(toe,{ref:_,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(gne,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(xne,{label:e.label,labelRef:e.labelRef}),e.children)))}),E1=v.forwardRef((e,t)=>{var n=Zt(e,li);return v.createElement(noe,Pa({},n,{ref:t}))});E1.displayName="CartesianAxis";var roe=["x1","y1","x2","y2","key"],ioe=["offset"],ooe=["xAxisId","yAxisId"],aoe=["xAxisId","yAxisId"];function rI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(n),!0).forEach(function(r){soe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function soe(e,t,n){return(t=loe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function loe(e){var t=uoe(e,"string");return typeof t=="symbol"?t:t+""}function uoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zo.apply(null,arguments)}function Jh(e,t){if(e==null)return{};var n,r,i=coe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function coe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var foe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:a,ry:s}=e;return v.createElement("rect",{x:r,y:i,ry:s,width:o,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Ij(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:a,x2:s,y2:l,key:u}=n,c=Jh(n,roe),d=(i=Vr(c))!==null&&i!==void 0?i:{},h=Jh(d,ioe);r=v.createElement("line",Zo({},h,{x1:o,y1:a,x2:s,y2:l,fill:"none",key:u}))}return r}function doe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var o=Jh(e,ooe),a=i.map((s,l)=>{var u=Yt(Yt({},o),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return v.createElement(Ij,{key:"line-".concat(l),option:r,lineItemProps:u})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function hoe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var o=Jh(e,aoe),a=i.map((s,l)=>{var u=Yt(Yt({},o),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return v.createElement(Ij,{option:r,lineItemProps:u,key:"line-".concat(l)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function poe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:a,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var u=s.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var p=!u[h+1],g=p?i+a-d:u[h+1]-d;if(g<=0)return null;var _=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:d,x:r,height:g,width:o,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function moe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:a,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var p=!u[h+1],g=p?i+a-d:u[h+1]-d;if(g<=0)return null;var _=h%n.length;return v.createElement("rect",{key:"react-".concat(h),x:d,y:o,width:g,height:s,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var goe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return oD(w1(Yt(Yt(Yt({},li),n),{},{ticks:aD(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},voe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return oD(w1(Yt(Yt(Yt({},li),n),{},{ticks:aD(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},yoe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Rt.grid};function b1(e){var t=cE(),n=fE(),r=yD(),i=Yt(Yt({},Zt(e,yoe)),{},{x:ee(e.x)?e.x:r.left,y:ee(e.y)?e.y:r.top,width:ee(e.width)?e.width:r.width,height:ee(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:a,x:s,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:h,verticalValues:p}=i,g=Tn(),_=J(I=>mA(I,"xAxis",o,g)),y=J(I=>mA(I,"yAxis",a,g));if(!Fr(u)||!Fr(c)||!ee(s)||!ee(l))return null;var w=i.verticalCoordinatesGenerator||goe,b=i.horizontalCoordinatesGenerator||voe,{horizontalPoints:P,verticalPoints:k}=i;if((!P||!P.length)&&typeof b=="function"){var O=h&&h.length,M=b({yAxis:y?Yt(Yt({},y),{},{ticks:O?h:y.ticks}):void 0,width:t??u,height:n??c,offset:r},O?!0:d);Th(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(P=M)}if((!k||!k.length)&&typeof w=="function"){var T=p&&p.length,S=w({xAxis:_?Yt(Yt({},_),{},{ticks:T?p:_.ticks}):void 0,width:t??u,height:n??c,offset:r},T?!0:d);Th(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(k=S)}return v.createElement(Ni,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(foe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(poe,Zo({},i,{horizontalPoints:P})),v.createElement(moe,Zo({},i,{verticalPoints:k})),v.createElement(doe,Zo({},i,{offset:r,horizontalPoints:P,xAxis:_,yAxis:y})),v.createElement(hoe,Zo({},i,{offset:r,verticalPoints:k,xAxis:_,yAxis:y}))))}b1.displayName="CartesianGrid";var kj=(e,t,n,r)=>TL(e,"xAxis",t,r),Cj=(e,t,n,r)=>SL(e,"xAxis",t,r),Oj=(e,t,n,r)=>TL(e,"yAxis",n,r),Rj=(e,t,n,r)=>SL(e,"yAxis",n,r),_oe=V([je,kj,Oj,Cj,Rj],(e,t,n,r,i)=>Ro(e,"xAxis")?Sh(t,r,!1):Sh(n,i,!1)),woe=(e,t,n,r,i)=>i;function Eoe(e){return e.type==="line"}var boe=V([qM,woe],(e,t)=>e.filter(Eoe).find(n=>n.id===t)),Poe=V([je,kj,Oj,Cj,Rj,boe,_oe,UE],(e,t,n,r,i,o,a,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=s;if(!(o==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:d,data:h}=o,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(u,c+1),p!=null)return Woe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:d,bandSize:a,displayedData:p})}});function Soe(e){var t=Hp(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,a=Number(i),s=Number(o);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(s)||s<0)&&(s=r),{r:a,strokeWidth:s}}return{r:n,strokeWidth:r}}var Toe=["id"],xoe=["type","layout","connectNulls","needClip","shape"],Aoe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ic.apply(null,arguments)}function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(n),!0).forEach(function(r){Ioe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ioe(e,t,n){return(t=koe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function koe(e){var t=Coe(e,"string");return typeof t=="symbol"?t:t+""}function Coe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P1(e,t){if(e==null)return{};var n,r,i=Ooe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ooe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Roe=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:sD(n,t),payload:e}]},Noe=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:a,hide:s,unit:l,tooltipType:u}=e,c={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:sD(a,t),hide:s,type:u,color:r,unit:l}};return v.createElement(nre,{tooltipEntrySettings:c})}),Nj=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Doe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Moe=(e,t,n)=>{var r=n.reduce((d,h)=>d+h);if(!r)return Nj(t,e);for(var i=Math.floor(e/r),o=e%r,a=t-e,s=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>o){s=[...n.slice(0,l),o-u];break}var c=s.length%2===0?[0,a]:[a];return[...Doe(n,i),...s,...c].map(d=>"".concat(d,"px")).join(", ")};function Loe(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:o,needClip:a}=r,s=P1(r,Toe),l=Vr(s);return v.createElement(Pre,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:l,needClip:a,clipPathId:t})}function joe(e){var{showLabels:t,children:n,points:r}=e,i=v.useMemo(()=>r==null?void 0:r.map(o=>{var a,s,l={x:(a=o.x)!==null&&a!==void 0?a:0,y:(s=o.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Tr(Tr({},l),{},{value:o.value,payload:o.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(Nne,{value:t?i:void 0},n)}function oI(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:o}=e,{type:a,layout:s,connectNulls:l,needClip:u,shape:c}=o,d=P1(o,xoe),h=Tr(Tr({},cn(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:a,layout:s,connectNulls:l,strokeDasharray:i??o.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(tre,ic({shapeType:"curve",option:c},h,{pathRef:n})),v.createElement(Loe,{points:r,clipPathId:t,props:o}))}function Voe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function $oe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:a,strokeDasharray:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,animateNewValues:h,width:p,height:g,onAnimationEnd:_,onAnimationStart:y}=n,w=i.current,b=gE(a,"recharts-line-"),P=v.useRef(b),[k,O]=v.useState(!1),M=!k,T=v.useCallback(()=>{typeof _=="function"&&_(),O(!1)},[_]),S=v.useCallback(()=>{typeof y=="function"&&y(),O(!0)},[y]),I=Voe(r.current),R=v.useRef(0);P.current!==b&&(R.current=o.current,P.current=b);var C=R.current;return v.createElement(joe,{points:a,showLabels:M},n.children,v.createElement(mE,{animationId:b,begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:T,onAnimationStart:S,key:b},D=>{var N=yn(C,I+C,D),Z=Math.min(N,I),ce;if(l)if(s){var fe="".concat(s).split(/[,\s]+/gim).map(B=>parseFloat(B));ce=Moe(Z,I,fe)}else ce=Nj(I,Z);else ce=s==null?void 0:String(s);if(D>0&&I>0&&(i.current=a,o.current=Math.max(o.current,Z)),w){var se=w.length/a.length,z=D===1?a:a.map((B,X)=>{var le=Math.floor(X*se);if(w[le]){var ue=w[le];return Tr(Tr({},B),{},{x:yn(ue.x,B.x,D),y:yn(ue.y,B.y,D)})}return h?Tr(Tr({},B),{},{x:yn(p*2,B.x,D),y:yn(g/2,B.y,D)}):Tr(Tr({},B),{},{x:B.x,y:B.y})});return i.current=z,v.createElement(oI,{props:n,points:z,clipPathId:t,pathRef:r,strokeDasharray:ce})}return v.createElement(oI,{props:n,points:a,clipPathId:t,pathRef:r,strokeDasharray:ce})}),v.createElement(Lne,{label:n.label}))}function Uoe(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),i=v.useRef(0),o=v.useRef(null);return v.createElement($oe,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var Foe=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Qt(e.payload,t)}};class zoe extends v.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:o,yAxisId:a,top:s,left:l,width:u,height:c,id:d,needClip:h,zIndex:p}=this.props;if(t)return null;var g=xe("recharts-line",i),_=d,{r:y,strokeWidth:w}=Soe(n),b=yj(n),P=y*2+w,k=h?"url(#clipPath-".concat(b?"":"dots-").concat(_,")"):void 0;return v.createElement(Ni,{zIndex:p},v.createElement(wo,{className:g},h&&v.createElement("defs",null,v.createElement(Jre,{clipPathId:_,xAxisId:o,yAxisId:a}),!b&&v.createElement("clipPath",{id:"clipPath-dots-".concat(_)},v.createElement("rect",{x:l-P/2,y:s-P/2,width:u+P,height:c+P}))),v.createElement(Xre,{xAxisId:o,yAxisId:a,data:r,dataPointFormatter:Foe,errorBarOffset:0},v.createElement(Uoe,{props:this.props,clipPathId:_}))),v.createElement(Bre,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var Dj={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Rt.line,type:"linear"};function Boe(e){var t=Zt(e,Dj),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,connectNulls:s,dot:l,hide:u,isAnimationActive:c,label:d,legendType:h,xAxisId:p,yAxisId:g,id:_}=t,y=P1(t,Aoe),{needClip:w}=Sj(p,g),b=v1(),P=gm(),k=Tn(),O=J(R=>Poe(R,p,g,k,_));if(P!=="horizontal"&&P!=="vertical"||O==null||b==null)return null;var{height:M,width:T,x:S,y:I}=b;return v.createElement(zoe,ic({},y,{id:_,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,isAnimationActive:c,hide:u,label:d,legendType:h,xAxisId:p,yAxisId:g,points:O,layout:P,height:M,width:T,left:S,top:I,needClip:w}))}function Woe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:a,bandSize:s,displayedData:l}=e;return l.map((u,c)=>{var d=Qt(u,a);if(t==="horizontal"){var h=WT({axis:n,ticks:i,bandSize:s,entry:u,index:c}),p=bt(d)?null:r.scale(d);return{x:h,y:p,value:d,payload:u}}var g=bt(d)?null:n.scale(d),_=WT({axis:r,ticks:o,bandSize:s,entry:u,index:c});return g==null||_==null?null:{x:g,y:_,value:d,payload:u}}).filter(Boolean)}function Koe(e){var t=Zt(e,Dj),n=Tn();return v.createElement(sre,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(rre,{legendPayload:Roe(t)}),v.createElement(Noe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),v.createElement(pre,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(Boe,ic({},t,{id:r}))))}var S1=v.memo(Koe,y1);S1.displayName="Line";var Hoe=["domain","range"],qoe=["domain","range"];function aI(e,t){if(e==null)return{};var n,r,i=Goe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Goe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Mj(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=aI(e,Hoe),{domain:o,range:a}=t,s=aI(t,qoe);return!sI(n,o)||!sI(r,a)?!1:y1(i,s)}var Yoe=["dangerouslySetInnerHTML","ticks"],Qoe=["id"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}function lI(e,t){if(e==null)return{};var n,r,i=Xoe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Joe(e){var t=at(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Ire(e)):n.current!==e&&t(kre({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Cre(n.current)),n.current=null)},[t]),null}var Zoe=e=>{var{xAxisId:t,className:n}=e,r=J(uD),i=Tn(),o="xAxis",a=J(p=>rl(p,o,t,i)),s=J(p=>PL(p,o,t,i)),l=J(p=>hZ(p,t)),u=J(p=>_Z(p,t)),c=J(p=>BM(p,t));if(l==null||u==null||c==null)return null;var d=lI(e,Yoe),h=lI(c,Qoe);return v.createElement(E1,k0({},d,h,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:xe("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:s,axisType:o}))},eae={allowDataOverflow:gt.allowDataOverflow,allowDecimals:gt.allowDecimals,allowDuplicatedCategory:gt.allowDuplicatedCategory,angle:gt.angle,axisLine:li.axisLine,height:gt.height,hide:!1,includeHidden:gt.includeHidden,interval:gt.interval,minTickGap:gt.minTickGap,mirror:gt.mirror,orientation:gt.orientation,padding:gt.padding,reversed:gt.reversed,scale:gt.scale,tick:gt.tick,tickCount:gt.tickCount,tickLine:li.tickLine,tickSize:li.tickSize,type:gt.type,xAxisId:0},tae=e=>{var t=Zt(e,eae);return v.createElement(v.Fragment,null,v.createElement(Joe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(Zoe,t))},T1=v.memo(tae,Mj);T1.displayName="XAxis";var nae=["dangerouslySetInnerHTML","ticks"],rae=["id"];function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C0.apply(null,arguments)}function uI(e,t){if(e==null)return{};var n,r,i=iae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oae(e){var t=at(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Ore(e)):n.current!==e&&t(Rre({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Nre(n.current)),n.current=null)},[t]),null}var aae=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=v.useRef(null),a=v.useRef(null),s=J(uD),l=Tn(),u=at(),c="yAxis",d=J(b=>rl(b,c,t,l)),h=J(b=>bZ(b,t)),p=J(b=>EZ(b,t)),g=J(b=>PL(b,c,t,l)),_=J(b=>WM(b,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!h||g1(i)||v.isValidElement(i)||_==null)){var b=o.current;if(b){var P=b.getCalculatedWidth();Math.round(h.width)!==Math.round(P)&&u(Dre({id:t,width:P}))}}},[g,h,u,i,t,r,_]),h==null||p==null||_==null)return null;var y=uI(e,nae),w=uI(_,rae);return v.createElement(E1,C0({},y,w,{ref:o,labelRef:a,scale:d,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:xe("recharts-".concat(c," ").concat(c),n),viewBox:s,ticks:g,axisType:c}))},sae={allowDataOverflow:vt.allowDataOverflow,allowDecimals:vt.allowDecimals,allowDuplicatedCategory:vt.allowDuplicatedCategory,angle:vt.angle,axisLine:li.axisLine,hide:!1,includeHidden:vt.includeHidden,interval:vt.interval,minTickGap:vt.minTickGap,mirror:vt.mirror,orientation:vt.orientation,padding:vt.padding,reversed:vt.reversed,scale:vt.scale,tick:vt.tick,tickCount:vt.tickCount,tickLine:li.tickLine,tickSize:li.tickSize,type:vt.type,width:vt.width,yAxisId:0},lae=e=>{var t=Zt(e,sae);return v.createElement(v.Fragment,null,v.createElement(oae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(aae,t))},x1=v.memo(lae,Mj);x1.displayName="YAxis";var uae=(e,t)=>t,A1=V([uae,je,UM,ht,UL,Ri,jee,jt],Wee),I1=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Lj=tr("mouseClick"),jj=Ac();jj.startListening({actionCreator:Lj,effect:(e,t)=>{var n=e.payload,r=A1(t.getState(),I1(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(MZ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var O0=tr("mouseMove"),Vj=Ac(),Gf=null;Vj.startListening({actionCreator:O0,effect:(e,t)=>{var n=e.payload;Gf!==null&&cancelAnimationFrame(Gf);var r=I1(n);Gf=requestAnimationFrame(()=>{var i=t.getState(),o=o1(i,i.tooltip.settings.shared);if(o==="axis"){var a=A1(i,r);(a==null?void 0:a.activeIndex)!=null?t.dispatch(RL({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(OL())}Gf=null})}});var cI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},$j=Sn({name:"rootProps",initialState:cI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:cI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),cae=$j.reducer,{updateOptions:fae}=$j.actions,Uj=Sn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}});Uj.actions;var dae=Uj.reducer,Fj=tr("keyDown"),zj=tr("focus"),k1=Ac();k1.startListening({actionCreator:Fj,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=a1(i,ol(n),jc(n),zc(n)),s=a==null?-1:Number(a);if(!(!Number.isFinite(s)||s<0)){var l=Ri(n);if(o==="Enter"){var u=Hh(n,"axis","hover",String(i.index));t.dispatch(P0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var c=xZ(n),d=c==="left-to-right"?1:-1,h=o==="ArrowRight"?1:-1,p=s+h*d;if(!(l==null||p>=l.length||p<0)){var g=Hh(n,"axis","hover",String(p));t.dispatch(P0({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});k1.startListening({actionCreator:zj,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=Hh(n,"axis","hover",String(o));t.dispatch(P0({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:a}))}}}});var zn=tr("externalEvent"),Bj=Ac(),hv=new Map;Bj.startListening({actionCreator:zn,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=hv.get(i);o!==void 0&&cancelAnimationFrame(o);var a=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:Eee(s),activeDataKey:_ee(s),activeIndex:nc(s),activeLabel:BL(s),activeTooltipIndex:nc(s),isTooltipActive:bee(s)};n(l,r)}finally{hv.delete(i)}});hv.set(i,a)}}});var hae=V([il],e=>e.tooltipItemPayloads),pae=V([hae,Uc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(s=>s.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var a=t(o,n);return a}}}),Wj=tr("touchMove"),Kj=Ac();Kj.startListening({actionCreator:Wj,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=o1(r,r.tooltip.settings.shared);if(i==="axis"){var o=A1(r,I1({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(RL({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,s=n.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(d7),c=(a=l.getAttribute(h7))!==null&&a!==void 0?a:void 0,d=pae(t.getState(),u,c);t.dispatch(DZ({activeDataKey:c,activeIndex:u,activeCoordinate:d}))}}}});var mae=C2({brush:Sie,cartesianAxis:Mre,chartData:Ete,errorBars:Kre,graphicalItems:dre,layout:Qq,legend:nG,options:gte,polarAxis:Vne,polarOptions:dae,referenceElements:Oie,rootProps:cae,tooltip:LZ,zIndex:ite}),gae=function(t){return Eq({reducer:mae,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([jj.middleware,Vj.middleware,k1.middleware,Bj.middleware,Kj.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(K2({type:"raf"}))},devTools:Cc.devToolsEnabled})};function vae(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Tn(),o=v.useRef(null);if(i)return n;o.current==null&&(o.current=gae(t));var a=Jw;return v.createElement(wie,{context:a,store:o.current},n)}function yae(e){var{layout:t,margin:n}=e,r=at(),i=Tn();return v.useEffect(()=>{i||(r(qq(t)),r(Hq(n)))},[r,i,t,n]),null}var _ae=v.memo(yae,y1);function wae(e){var t=at();return v.useEffect(()=>{t(fae(e))},[t,e]),null}function fI(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=wj("".concat(r).concat(t)),o=at();return v.useLayoutEffect(()=>(o(nte({zIndex:t,elementId:i,isPanorama:n})),()=>{o(rte({zIndex:t,isPanorama:n}))}),[o,t,i,n]),v.createElement("g",{tabIndex:-1,id:i})}function dI(e){var{children:t,isPanorama:n}=e,r=J(Hee);if(!r||r.length===0)return t;var i=r.filter(a=>a<0),o=r.filter(a=>a>0);return v.createElement(v.Fragment,null,i.map(a=>v.createElement(fI,{key:a,zIndex:a,isPanorama:n})),t,o.map(a=>v.createElement(fI,{key:a,zIndex:a,isPanorama:n})))}var Eae=["children"];function bae(e,t){if(e==null)return{};var n,r,i=Pae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zh.apply(null,arguments)}var Sae={width:"100%",height:"100%",display:"block"},Tae=v.forwardRef((e,t)=>{var n=cE(),r=fE(),i=xD();if(!Fr(n)||!Fr(r))return null;var{children:o,otherAttributes:a,title:s,desc:l}=e,u,c;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?c=a.role:c=i?"application":void 0),v.createElement(Lw,Zh({},a,{title:s,desc:l,role:c,tabIndex:u,width:n,height:r,style:Sae,ref:t}),o)}),xae=e=>{var{children:t}=e,n=J(pm);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return v.createElement(Lw,{width:r,height:i,x:a,y:o},t)},hI=v.forwardRef((e,t)=>{var{children:n}=e,r=bae(e,Eae),i=Tn();return i?v.createElement(xae,null,v.createElement(dI,{isPanorama:!0},n)):v.createElement(Tae,Zh({ref:t},r),v.createElement(dI,{isPanorama:!1},n))});function Aae(){var e=at(),[t,n]=v.useState(null),r=J(f7);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;Pt(o)&&o!==r&&e(Yq(o))}},[t,e,r]),n}function pI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Iae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(n),!0).forEach(function(r){kae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kae(e,t,n){return(t=Cae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cae(e){var t=Oae(e,"string");return typeof t=="symbol"?t:t+""}function Oae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sa.apply(null,arguments)}var Rae=()=>(Cte(),null);function ep(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Nae=v.forwardRef((e,t)=>{var n,r,i=v.useRef(null),[o,a]=v.useState({containerWidth:ep((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:ep((r=e.style)===null||r===void 0?void 0:r.height)}),s=v.useCallback((u,c)=>{a(d=>{var h=Math.round(u),p=Math.round(c);return d.containerWidth===h&&d.containerHeight===p?d:{containerWidth:h,containerHeight:p}})},[]),l=v.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();s(c,d);var h=g=>{var{width:_,height:y}=g[0].contentRect;s(_,y)},p=new ResizeObserver(h);p.observe(u),i.current=p}},[t,s]);return v.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),v.createElement(v.Fragment,null,v.createElement(vm,{width:o.containerWidth,height:o.containerHeight}),v.createElement("div",Sa({ref:l},e)))}),Dae=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=v.useState({containerWidth:ep(n),containerHeight:ep(r)}),a=v.useCallback((l,u)=>{o(c=>{var d=Math.round(l),h=Math.round(u);return c.containerWidth===d&&c.containerHeight===h?c:{containerWidth:d,containerHeight:h}})},[]),s=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();a(u,c)}},[t,a]);return v.createElement(v.Fragment,null,v.createElement(vm,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Sa({ref:s},e)))}),Mae=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(vm,{width:n,height:r}),v.createElement("div",Sa({ref:t},e)))}),Lae=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return yi(n)||yi(r)?v.createElement(Dae,Sa({},e,{ref:t})):v.createElement(Mae,Sa({},e,{ref:t}))});function jae(e){return e===!0?Nae:Lae}var Vae=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:_,style:y,width:w,responsive:b,dispatchTouchEvents:P=!0}=e,k=v.useRef(null),O=at(),[M,T]=v.useState(null),[S,I]=v.useState(null),R=Aae(),C=uE(),D=(C==null?void 0:C.width)>0?C.width:w,N=(C==null?void 0:C.height)>0?C.height:i,Z=v.useCallback(U=>{R(U),typeof t=="function"&&t(U),T(U),I(U),U!=null&&(k.current=U)},[R,t,T,I]),ce=v.useCallback(U=>{O(Lj(U)),O(zn({handler:o,reactEvent:U}))},[O,o]),fe=v.useCallback(U=>{O(O0(U)),O(zn({handler:u,reactEvent:U}))},[O,u]),se=v.useCallback(U=>{O(OL()),O(zn({handler:c,reactEvent:U}))},[O,c]),z=v.useCallback(U=>{O(O0(U)),O(zn({handler:d,reactEvent:U}))},[O,d]),B=v.useCallback(()=>{O(zj())},[O]),X=v.useCallback(U=>{O(Fj(U.key))},[O]),le=v.useCallback(U=>{O(zn({handler:a,reactEvent:U}))},[O,a]),ue=v.useCallback(U=>{O(zn({handler:s,reactEvent:U}))},[O,s]),Ee=v.useCallback(U=>{O(zn({handler:l,reactEvent:U}))},[O,l]),Qe=v.useCallback(U=>{O(zn({handler:h,reactEvent:U}))},[O,h]),en=v.useCallback(U=>{O(zn({handler:_,reactEvent:U}))},[O,_]),tn=v.useCallback(U=>{P&&O(Wj(U)),O(zn({handler:g,reactEvent:U}))},[O,P,g]),Oe=v.useCallback(U=>{O(zn({handler:p,reactEvent:U}))},[O,p]),al=jae(b);return v.createElement(QL.Provider,{value:M},v.createElement(kN.Provider,{value:S},v.createElement(al,{width:D??(y==null?void 0:y.width),height:N??(y==null?void 0:y.height),className:xe("recharts-wrapper",r),style:Iae({position:"relative",cursor:"default",width:D,height:N},y),onClick:ce,onContextMenu:le,onDoubleClick:ue,onFocus:B,onKeyDown:X,onMouseDown:Ee,onMouseEnter:fe,onMouseLeave:se,onMouseMove:z,onMouseUp:Qe,onTouchEnd:Oe,onTouchMove:tn,onTouchStart:en,ref:Z},v.createElement(Rae,null),n)))}),$ae=["width","height","responsive","children","className","style","compact","title","desc"];function Uae(e,t){if(e==null)return{};var n,r,i=Fae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zae=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:a,style:s,compact:l,title:u,desc:c}=e,d=Uae(e,$ae),h=Vr(d);return l?v.createElement(v.Fragment,null,v.createElement(vm,{width:n,height:r}),v.createElement(hI,{otherAttributes:h,title:u,desc:c},o)):v.createElement(Vae,{className:a,style:s,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(hI,{otherAttributes:h,title:u,desc:c,ref:t},v.createElement(Nie,null,o)))});function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R0.apply(null,arguments)}var Bae={top:5,right:5,bottom:5,left:5},Wae={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Bae,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Kae=v.forwardRef(function(t,n){var r,i=Zt(t.categoricalChartProps,Wae),{chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return v.createElement(vae,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:o},v.createElement(Pie,{chartData:u.data}),v.createElement(_ae,{layout:i.layout,margin:i.margin}),v.createElement(wae,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(zae,R0({},i,{ref:n})))}),Hae=["axis"],Hj=v.forwardRef((e,t)=>v.createElement(Kae,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hae,tooltipPayloadSearcher:pte,categoricalChartProps:e,ref:t}));function qae({user:e}){const[t,n]=v.useState([]),[r,i]=v.useState(!0);if(v.useEffect(()=>{if(!e)return;(async()=>{try{const s=await Kp(e.uid);n(s)}catch(s){console.error("Error fetching workouts:",s)}finally{i(!1)}})()},[e]),!e)return A.createElement("p",null,"Please sign in to see your charts.");if(r)return A.createElement("p",null,"Loading charts...");if(!t.length)return A.createElement("p",null,"No workouts found.");const o={};return t.forEach(a=>{(a.exercises||[]).forEach(s=>{o[s.name]||(o[s.name]=[]),(s.sets||[]).forEach((l,u)=>{o[s.name].push({set:u+1,weight:Number(l.weight)||0,reps:Number(l.reps)||0})})})}),A.createElement("div",{className:"space-y-6"},Object.keys(o).map(a=>A.createElement("div",{key:a,className:"bg-white p-4 rounded shadow"},A.createElement("h3",{className:"font-semibold mb-2"},a," Progress"),A.createElement("div",{style:{width:"100%",height:280}},A.createElement(gD,{width:"100%",height:"100%"},A.createElement(Hj,{data:o[a],margin:{top:5,right:20,bottom:5,left:0}},A.createElement(T1,{dataKey:"set",label:{value:"Set",position:"insideBottomRight",offset:-5}}),A.createElement(x1,{label:{value:"Weight (kg)",angle:-90,position:"insideLeft"}}),A.createElement(ej,null),A.createElement(pE,null),A.createElement(b1,{stroke:"#ccc",strokeDasharray:"5 5"}),A.createElement(S1,{type:"monotone",dataKey:"weight",stroke:"#3b82f6"})))))))}function Gae({user:e}){return A.createElement("div",{className:"pt-16 pb-24 px-4 md:pt-20 md:pb-10 md:px-8 min-h-screen bg-gray-100"},A.createElement("div",{className:"max-w-5xl mx-auto"},A.createElement("h2",{className:"text-2xl md:text-3xl font-semibold mb-6"},"Analytics Dashboard"),A.createElement("div",{className:"bg-white p-4 md:p-6 rounded-lg shadow-md"},A.createElement(qae,{user:e}))))}function Yae(e){return Np(vi,"users",e,"templates")}async function Qae(e){return(await mw(Yae(e))).docs.map(n=>({id:n.id,...n.data()}))}async function Xae(e,t){const n=ga(vi,"users",e,"templates",t);await a5(n)}const mI=[{name:"Chest + Triceps",exercises:[{name:"Bench Press",sets:[{reps:"10",weight:""}]},{name:"Incline Dumbbell Press",sets:[{reps:"12",weight:""}]},{name:"Chest Fly",sets:[{reps:"15",weight:""}]},{name:"Tricep Pushdown",sets:[{reps:"12",weight:""}]},{name:"Overhead Tricep Extension",sets:[{reps:"12",weight:""}]}]},{name:"Back + Biceps",exercises:[{name:"Deadlift",sets:[{reps:"5",weight:""}]},{name:"Lat Pulldown",sets:[{reps:"12",weight:""}]},{name:"Seated Row",sets:[{reps:"12",weight:""}]},{name:"Bicep Curl",sets:[{reps:"12",weight:""}]},{name:"Hammer Curl",sets:[{reps:"12",weight:""}]}]},{name:"Leg Day",exercises:[{name:"Squat",sets:[{reps:"5",weight:""}]},{name:"Leg Press",sets:[{reps:"12",weight:""}]},{name:"Leg Extension",sets:[{reps:"15",weight:""}]},{name:"Hamstring Curl",sets:[{reps:"12",weight:""}]},{name:"Calf Raise",sets:[{reps:"20",weight:""}]}]},{name:"Shoulders",exercises:[{name:"Overhead Press",sets:[{reps:"8",weight:""}]},{name:"Lateral Raise",sets:[{reps:"15",weight:""}]},{name:"Front Raise",sets:[{reps:"12",weight:""}]},{name:"Reverse Fly",sets:[{reps:"12",weight:""}]}]}];function Jae({user:e}){const[t,n]=v.useState([]),[r,i]=v.useState(!0),o=yp();async function a(){if(!e){n(mI),i(!1);return}const l=await Qae(e.uid);n([...mI,...l]),i(!1)}v.useEffect(()=>{a()},[e]);function s(l){o("/add",{state:{template:l}})}return r?A.createElement("div",{className:"flex justify-center items-center pt-16 pb-24"},A.createElement("p",{className:"text-gray-600 text-lg"},"Loading templates...")):A.createElement("div",{className:"pt-16 pb-24 px-4 md:pt-20 md:pb-10 md:px-8 bg-gray-50 min-h-screen"},A.createElement("div",{className:"max-w-6xl mx-auto"},A.createElement("h2",{className:"text-2xl md:text-3xl font-semibold mb-6"},"Workout Templates"),A.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6"},t.map((l,u)=>A.createElement("div",{key:u,className:`\r
                bg-white p-6 rounded-2xl shadow-md border border-gray-200\r
                hover:shadow-lg hover:-translate-y-1 transition-all duration-200\r
              `},A.createElement("h3",{className:"text-xl font-bold mb-3 text-gray-900"},l.name),A.createElement("div",{className:"mb-4"},A.createElement("p",{className:"text-gray-600 font-medium mb-1"},"Exercises:"),A.createElement("ul",{className:"list-disc ml-6 text-gray-700 space-y-1 text-sm"},l.exercises.map((c,d)=>A.createElement("li",{key:d},c.name)))),A.createElement("div",{className:"mt-4 flex flex-wrap gap-3"},A.createElement("button",{onClick:()=>s(l),className:`\r
                    px-4 py-2 rounded-lg bg-blue-600 \r
                    text-white font-medium hover:bg-blue-700 \r
                    transition shadow-sm\r
                  `},"Use Template"),l.id&&e&&A.createElement("button",{onClick:async()=>{await Xae(e.uid,l.id),a()},className:`\r
                      px-4 py-2 rounded-lg bg-red-500 \r
                      text-white font-medium hover:bg-red-600 \r
                      transition shadow-sm\r
                    `},"Delete")))))))}function Zae({user:e}){const[t,n]=v.useState([]),[r,i]=v.useState(!0);if(v.useEffect(()=>{if(!e)return;(async()=>{try{const s=await Kp(e.uid);n(s)}catch(s){console.error("Error fetching workouts:",s)}finally{i(!1)}})()},[e]),!e)return A.createElement("p",null,"Please sign in to see your PR charts.");if(r)return A.createElement("p",null,"Loading PR charts...");if(!t.length)return A.createElement("p",null,"No workouts found.");const o={};return t.forEach(a=>{a.exercises.forEach(s=>{o[s.name]||(o[s.name]=[]);const l=s.sets.reduce((u,c)=>Math.max(u,Number(c.weight)||0),0);o[s.name].push({date:a.date,weight:l})})}),A.createElement("div",{className:"space-y-6"},Object.keys(o).map(a=>A.createElement("div",{className:"bg-white p-4 rounded shadow"},A.createElement("h3",{className:"font-semibold mb-2"},a," Progress"),A.createElement("div",{style:{width:"100%",height:280}},A.createElement(gD,{width:"100%",height:"100%"},A.createElement(Hj,{data:chartData[a],margin:{top:5,right:20,bottom:5,left:0}},A.createElement(T1,{dataKey:"set",label:{value:"Set",position:"insideBottomRight",offset:-5}}),A.createElement(x1,{label:{value:"Weight (kg)",angle:-90,position:"insideLeft"}}),A.createElement(ej,null),A.createElement(pE,null),A.createElement(b1,{stroke:"#ccc",strokeDasharray:"5 5"}),A.createElement(S1,{type:"monotone",dataKey:"weight",stroke:"#3b82f6"})))))))}function ese({user:e}){return A.createElement("div",{className:"pt-16 pb-24 px-4 md:pt-20 md:pb-10 md:px-8 min-h-screen bg-gray-100"},A.createElement("div",{className:"max-w-5xl mx-auto"},A.createElement("h2",{className:"text-2xl md:text-3xl font-semibold mb-6"},"Personal Records"),A.createElement(Zae,{user:e})))}function tse({user:e}){const[t,n]=v.useState({displayName:"",email:"",photoURL:""}),[r,i]=v.useState(!1);v.useEffect(()=>{if(!e)return;(async()=>{const l=ga(vi,"users",e.uid),u=await pw(l);if(u.exists())n(u.data());else{const c={displayName:e.email.split("@")[0],email:e.email,photoURL:""};await HS(l,c),n(c)}})()},[e]);const o=async s=>{const l=s.target.files[0];if(!l||!e)return;i(!0);const u=R8(V8,`users/${e.uid}/profile.jpg`);await C8(u,l);const c=await O8(u);await HS(ga(vi,"users",e.uid),{photoURL:c},{merge:!0}),n(d=>({...d,photoURL:c})),i(!1)},a=t.photoURL||`https://ui-avatars.com/api/?name=${t.displayName}&rounded=true`;return e?A.createElement("div",{className:"pt-16 pb-24 px-4 md:pt-20 md:pb-10 md:px-8 min-h-screen bg-gray-100"},A.createElement("div",{className:"max-w-xl mx-auto"},A.createElement("h2",{className:"text-2xl md:text-3xl font-semibold mb-6"},"Your Profile"),A.createElement("div",{className:"flex items-center gap-4 mb-6"},A.createElement("img",{src:a,alt:"Profile",className:"w-24 h-24 rounded-full border object-cover"}),A.createElement("label",{className:"cursor-pointer bg-blue-600 text-white px-4 py-2 rounded text-sm md:text-base"},r?"Uploading...":"Change Photo",A.createElement("input",{type:"file",hidden:!0,accept:"image/*",onChange:o}))),A.createElement("div",{className:"bg-white shadow rounded p-4 space-y-2"},A.createElement("p",null,A.createElement("strong",null,"Name:")," ",t.displayName),A.createElement("p",null,A.createElement("strong",null,"Email:")," ",t.email)),A.createElement("button",{onClick:SN,className:"mt-6 bg-red-500 text-white px-4 py-2 rounded"},"Sign Out"))):A.createElement("div",{className:"pt-16 pb-24 px-4 text-center"},A.createElement("h2",{className:"text-xl"},"Please log in to view profile"))}function nse({user:e}){return e?A.createElement("div",{className:"pt-16 pb-24 px-4 md:pt-20 md:pb-10 md:px-8 min-h-screen bg-gray-100"},A.createElement("div",{className:"max-w-3xl mx-auto"},A.createElement("h1",{className:"text-2xl md:text-3xl font-bold mb-6"},"Account Settings"))):A.createElement("div",{className:"pt-16 pb-24 px-4 text-center"},A.createElement("h2",{className:"text-xl font-semibold"},"Please log in to view settings."))}async function rse(e){try{const t=ga(vi,"users",e),n=await pw(t);return n.exists()&&n.data().achievements?n.data().achievements:[]}catch(t){return console.error("Error fetching achievements:",t),[]}}async function ise(e){try{const t=ga(vi,"users",e),n=await pw(t);return n.exists()?n.data().streaks||[]:[]}catch(t){return console.error("Error fetching user streaks:",t),[]}}function ose({user:e}){const[t,n]=v.useState([]);return v.useEffect(()=>{async function r(){if(!e)return;const i=await rse(e.uid);n(i||[])}r()},[e]),A.createElement("div",{className:"pt-16 pb-24 px-4 md:pt-20 md:pb-10 md:px-8 min-h-screen bg-gray-100"},A.createElement("div",{className:"max-w-5xl mx-auto"},A.createElement("h2",{className:"text-2xl md:text-3xl font-semibold mb-6"},"Achievements"),A.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 md:gap-6"},t.length===0&&A.createElement("p",{className:"text-gray-500 text-sm md:text-base"},"No achievements yet."),t.map((r,i)=>A.createElement("div",{key:i,className:"bg-white p-4 rounded-xl shadow text-center"},A.createElement("div",{className:"text-3xl md:text-4xl mb-2"},r.emoji||""),A.createElement("h3",{className:"font-semibold text-sm md:text-base"},r.title),A.createElement("p",{className:"text-xs md:text-sm text-gray-500"},r.description))))))}function ase({user:e}){const[t,n]=v.useState([]);return v.useEffect(()=>{e!=null&&e.uid&&ise(e.uid).then(r=>n(r||[]))},[e]),e?t.length?A.createElement("div",{className:"pt-16 pb-24 px-4 md:pt-20 md:pb-10 md:px-8 min-h-screen bg-gray-100"},A.createElement("div",{className:"max-w-3xl mx-auto"},A.createElement("h2",{className:"text-xl md:text-2xl font-semibold mb-4"},"Your Workout Streaks"),A.createElement("div",{className:"grid grid-cols-7 gap-2"},t.map((r,i)=>A.createElement("div",{key:i,className:`h-9 w-9 md:h-10 md:w-10 rounded-lg flex items-center justify-center ${r.completed?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}`},r.date.slice(-2)))))):A.createElement("div",{className:"pt-16 pb-24 px-4"},A.createElement("p",null,"No streaks yet. Start your workouts!")):A.createElement("div",{className:"pt-16 pb-24 px-4"},A.createElement("p",null,"Please log in to see your streaks"))}function sse(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[i,o]=v.useState(""),a=async s=>{s.preventDefault(),o("");try{await o9(Rs,e,n)}catch(l){o(l.message)}};return A.createElement("div",{className:"min-h-screen flex items-center justify-center"},A.createElement("form",{onSubmit:a,className:"bg-white p-8 rounded-xl shadow-md w-96"},A.createElement("h2",{className:"text-2xl font-bold mb-6 text-center"},"Login"),i&&A.createElement("p",{className:"text-red-500 text-sm mb-3"},i),A.createElement("input",{type:"email",placeholder:"Email",className:"w-full p-2 mb-3 border rounded",value:e,onChange:s=>t(s.target.value)}),A.createElement("input",{type:"password",placeholder:"Password",className:"w-full p-2 mb-4 border rounded",value:n,onChange:s=>r(s.target.value)}),A.createElement("button",{className:"w-full bg-blue-600 text-white py-2 rounded"},"Login"),A.createElement("p",{className:"text-sm text-center mt-4"},"Dont have an account?"," ",A.createElement(Cu,{to:"/signup",className:"text-blue-600 font-medium"},"Sign up"))))}function lse(){const[e,t]=v.useState(""),[n,r]=v.useState(""),[i,o]=v.useState(""),a=async s=>{s.preventDefault(),o("");try{await i9(Rs,e,n)}catch(l){o(l.message)}};return A.createElement("div",{className:"min-h-screen flex items-center justify-center"},A.createElement("form",{className:"bg-white p-8 rounded-xl shadow-md w-96"},A.createElement("h2",{className:"text-2xl font-bold mb-6 text-center"},"Sign Up"),i&&A.createElement("p",{className:"text-red-500 text-sm mb-3"},i),A.createElement("input",{type:"email",placeholder:"Email",className:"w-full p-2 mb-3 border rounded",value:e,onChange:s=>t(s.target.value)}),A.createElement("input",{type:"password",placeholder:"Password",className:"w-full p-2 mb-4 border rounded",value:n,onChange:s=>r(s.target.value)}),A.createElement("button",{onClick:a,className:"w-full bg-green-600 text-white py-2 rounded"},"Create Account"),A.createElement("p",{className:"text-sm text-center mt-4"},"Already have an account?"," ",A.createElement(Cu,{to:"/login",className:"text-blue-600 font-medium"},"Login"))))}function use({user:e,children:t}){return e?t:A.createElement(LC,{to:"/login",replace:!0})}function cse({user:e,children:t}){return e?A.createElement(LC,{to:"/",replace:!0}):t}const fse=[{path:"/",element:A.createElement(TN,null)},{path:"/history",element:A.createElement(Q8,null)},{path:"/add",element:A.createElement(Dw,null)},{path:"/analytics",element:A.createElement(Gae,null)},{path:"/templates",element:A.createElement(Jae,null)},{path:"/pr",element:A.createElement(ese,null)},{path:"/profile",element:A.createElement(tse,null)},{path:"/settings",element:A.createElement(nse,null)},{path:"/achievements",element:A.createElement(ose,null)},{path:"/streaks",element:A.createElement(ase,null)}],dse=[{path:"/login",element:A.createElement(sse,null)},{path:"/signup",element:A.createElement(lse,null)}];function hse(){const[e,t]=v.useState(null),[n,r]=v.useState(!0);return v.useEffect(()=>{const i=l9(Rs,o=>{t(o),r(!1)});return()=>i()},[]),n?A.createElement("div",{className:"min-h-screen flex items-center justify-center"},A.createElement("div",{className:"text-xl"},"Loading...")):A.createElement(RU,null,dse.map(({path:i,element:o})=>A.createElement(sd,{key:i,path:i,element:A.createElement(cse,{user:e},o)})),fse.map(({path:i,element:o})=>A.createElement(sd,{key:i,path:i,element:A.createElement(use,{user:e},A.createElement(z8,{user:e},A.cloneElement(o,{user:e})))})),A.createElement(sd,{path:"*",element:A.createElement(TN,null)}))}AC(document.getElementById("root")).render(A.createElement(A.StrictMode,null,A.createElement($U,null,A.createElement(hse,null)," ")));
