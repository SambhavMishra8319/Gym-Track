var hV=Object.defineProperty;var pV=(e,t,n)=>t in e?hV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Qm=(e,t,n)=>(pV(e,typeof t!="symbol"?t+"":t,n),n);function mV(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Si(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rI={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=Symbol.for("react.element"),gV=Symbol.for("react.portal"),vV=Symbol.for("react.fragment"),yV=Symbol.for("react.strict_mode"),_V=Symbol.for("react.profiler"),wV=Symbol.for("react.provider"),EV=Symbol.for("react.context"),bV=Symbol.for("react.forward_ref"),SV=Symbol.for("react.suspense"),PV=Symbol.for("react.memo"),TV=Symbol.for("react.lazy"),_b=Symbol.iterator;function AV(e){return e===null||typeof e!="object"?null:(e=_b&&e[_b]||e["@@iterator"],typeof e=="function"?e:null)}var iI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oI=Object.assign,aI={};function Fs(e,t,n){this.props=e,this.context=t,this.refs=aI,this.updater=n||iI}Fs.prototype.isReactComponent={};Fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sI(){}sI.prototype=Fs.prototype;function A0(e,t,n){this.props=e,this.context=t,this.refs=aI,this.updater=n||iI}var x0=A0.prototype=new sI;x0.constructor=A0;oI(x0,Fs.prototype);x0.isPureReactComponent=!0;var wb=Array.isArray,lI=Object.prototype.hasOwnProperty,I0={current:null},uI={key:!0,ref:!0,__self:!0,__source:!0};function cI(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)lI.call(t,r)&&!uI.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ec,type:e,key:o,ref:a,props:i,_owner:I0.current}}function xV(e,t){return{$$typeof:ec,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function k0(e){return typeof e=="object"&&e!==null&&e.$$typeof===ec}function IV(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Eb=/\/+/g;function Ym(e,t){return typeof e=="object"&&e!==null&&e.key!=null?IV(""+e.key):t.toString(36)}function Wf(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ec:case gV:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Ym(a,0):r,wb(i)?(n="",e!=null&&(n=e.replace(Eb,"$&/")+"/"),Wf(i,t,n,"",function(u){return u})):i!=null&&(k0(i)&&(i=xV(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Eb,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",wb(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+Ym(o,s);a+=Wf(o,t,n,l,i)}else if(l=AV(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+Ym(o,s++),a+=Wf(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function rf(e,t,n){if(e==null)return e;var r=[],i=0;return Wf(e,r,"","",function(o){return t.call(n,o,i++)}),r}function kV(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dn={current:null},Hf={transition:null},CV={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:Hf,ReactCurrentOwner:I0};function fI(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:rf,forEach:function(e,t,n){rf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return rf(e,function(){t++}),t},toArray:function(e){return rf(e,function(t){return t})||[]},only:function(e){if(!k0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Fs;he.Fragment=vV;he.Profiler=_V;he.PureComponent=A0;he.StrictMode=yV;he.Suspense=SV;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CV;he.act=fI;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=oI({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=I0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)lI.call(t,l)&&!uI.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:ec,type:e.type,key:i,ref:o,props:r,_owner:a}};he.createContext=function(e){return e={$$typeof:EV,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wV,_context:e},e.Consumer=e};he.createElement=cI;he.createFactory=function(e){var t=cI.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:bV,render:e}};he.isValidElement=k0;he.lazy=function(e){return{$$typeof:TV,_payload:{_status:-1,_result:e},_init:kV}};he.memo=function(e,t){return{$$typeof:PV,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Hf.transition;Hf.transition={};try{e()}finally{Hf.transition=t}};he.unstable_act=fI;he.useCallback=function(e,t){return dn.current.useCallback(e,t)};he.useContext=function(e){return dn.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return dn.current.useDeferredValue(e)};he.useEffect=function(e,t){return dn.current.useEffect(e,t)};he.useId=function(){return dn.current.useId()};he.useImperativeHandle=function(e,t,n){return dn.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return dn.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return dn.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return dn.current.useMemo(e,t)};he.useReducer=function(e,t,n){return dn.current.useReducer(e,t,n)};he.useRef=function(e){return dn.current.useRef(e)};he.useState=function(e){return dn.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return dn.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return dn.current.useTransition()};he.version="18.3.1";rI.exports=he;var v=rI.exports;const k=Si(v),dI=mV({__proto__:null,default:k},[v]);var hI={exports:{}},Vn={},pI={exports:{}},mI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,B){var X=z.length;z.push(B);e:for(;0<X;){var le=X-1>>>1,ue=z[le];if(0<i(ue,B))z[le]=B,z[X]=ue,X=le;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var B=z[0],X=z.pop();if(X!==B){z[0]=X;e:for(var le=0,ue=z.length,Ee=ue>>>1;le<Ee;){var Qe=2*(le+1)-1,en=z[Qe],tn=Qe+1,Oe=z[tn];if(0>i(en,X))tn<ue&&0>i(Oe,en)?(z[le]=Oe,z[tn]=X,le=tn):(z[le]=en,z[Qe]=X,le=Qe);else if(tn<ue&&0>i(Oe,X))z[le]=Oe,z[tn]=X,le=tn;else break e}}return B}function i(z,B){var X=z.sortIndex-B.sortIndex;return X!==0?X:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,p=!1,g=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=z)r(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(u)}}function I(z){if(_=!1,S(z),!g)if(n(l)!==null)g=!0,fe(O);else{var B=n(u);B!==null&&se(I,B.startTime-z)}}function O(z,B){g=!1,_&&(_=!1,w(P),P=-1),p=!0;var X=h;try{for(S(B),d=n(l);d!==null&&(!(d.expirationTime>B)||z&&!C());){var le=d.callback;if(typeof le=="function"){d.callback=null,h=d.priorityLevel;var ue=le(d.expirationTime<=B);B=e.unstable_now(),typeof ue=="function"?d.callback=ue:d===n(l)&&r(l),S(B)}else r(l);d=n(l)}if(d!==null)var Ee=!0;else{var Qe=n(u);Qe!==null&&se(I,Qe.startTime-B),Ee=!1}return Ee}finally{d=null,h=X,p=!1}}var M=!1,T=null,P=-1,x=5,R=-1;function C(){return!(e.unstable_now()-R<x)}function D(){if(T!==null){var z=e.unstable_now();R=z;var B=!0;try{B=T(!0,z)}finally{B?N():(M=!1,T=null)}}else M=!1}var N;if(typeof b=="function")N=function(){b(D)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ce=Z.port2;Z.port1.onmessage=D,N=function(){ce.postMessage(null)}}else N=function(){y(D,0)};function fe(z){T=z,M||(M=!0,N())}function se(z,B){P=y(function(){z(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,fe(O))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var X=h;h=B;try{return z()}finally{h=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=h;h=z;try{return B()}finally{h=X}},e.unstable_scheduleCallback=function(z,B,X){var le=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?le+X:le):X=le,z){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=X+ue,z={id:c++,callback:B,priorityLevel:z,startTime:X,expirationTime:ue,sortIndex:-1},X>le?(z.sortIndex=X,t(u,z),n(l)===null&&z===n(u)&&(_?(w(P),P=-1):_=!0,se(I,X-le))):(z.sortIndex=ue,t(l,z),g||p||(g=!0,fe(O))),z},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(z){var B=h;return function(){var X=h;h=B;try{return z.apply(this,arguments)}finally{h=X}}}})(mI);pI.exports=mI;var OV=pI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RV=v,Ln=OV;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gI=new Set,lu={};function wa(e,t){gs(e,t),gs(e+"Capture",t)}function gs(e,t){for(lu[e]=t,e=0;e<t.length;e++)gI.add(t[e])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sv=Object.prototype.hasOwnProperty,NV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bb={},Sb={};function DV(e){return sv.call(Sb,e)?!0:sv.call(bb,e)?!1:NV.test(e)?Sb[e]=!0:(bb[e]=!0,!1)}function MV(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function LV(e,t,n,r){if(t===null||typeof t>"u"||MV(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hn(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mt[e]=new hn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mt[t]=new hn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mt[e]=new hn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mt[e]=new hn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mt[e]=new hn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mt[e]=new hn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mt[e]=new hn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mt[e]=new hn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mt[e]=new hn(e,5,!1,e.toLowerCase(),null,!1,!1)});var C0=/[\-:]([a-z])/g;function O0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(C0,O0);Mt[t]=new hn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(C0,O0);Mt[t]=new hn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(C0,O0);Mt[t]=new hn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mt[e]=new hn(e,1,!1,e.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mt[e]=new hn(e,1,!1,e.toLowerCase(),null,!0,!0)});function R0(e,t,n,r){var i=Mt.hasOwnProperty(t)?Mt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(LV(t,n,i,r)&&(n=null),r||i===null?DV(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Pi=RV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,of=Symbol.for("react.element"),Wa=Symbol.for("react.portal"),Ha=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),lv=Symbol.for("react.profiler"),vI=Symbol.for("react.provider"),yI=Symbol.for("react.context"),D0=Symbol.for("react.forward_ref"),uv=Symbol.for("react.suspense"),cv=Symbol.for("react.suspense_list"),M0=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),_I=Symbol.for("react.offscreen"),Pb=Symbol.iterator;function _l(e){return e===null||typeof e!="object"?null:(e=Pb&&e[Pb]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,Xm;function Ll(e){if(Xm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xm=t&&t[1]||""}return`
`+Xm+e}var Jm=!1;function Zm(e,t){if(!e||Jm)return"";Jm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{Jm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ll(e):""}function jV(e){switch(e.tag){case 5:return Ll(e.type);case 16:return Ll("Lazy");case 13:return Ll("Suspense");case 19:return Ll("SuspenseList");case 0:case 2:case 15:return e=Zm(e.type,!1),e;case 11:return e=Zm(e.type.render,!1),e;case 1:return e=Zm(e.type,!0),e;default:return""}}function fv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ha:return"Fragment";case Wa:return"Portal";case lv:return"Profiler";case N0:return"StrictMode";case uv:return"Suspense";case cv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yI:return(e.displayName||"Context")+".Consumer";case vI:return(e._context.displayName||"Context")+".Provider";case D0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M0:return t=e.displayName||null,t!==null?t:fv(e.type)||"Memo";case Vi:t=e._payload,e=e._init;try{return fv(e(t))}catch{}}return null}function VV(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fv(t);case 8:return t===N0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function po(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $V(e){var t=wI(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function af(e){e._valueTracker||(e._valueTracker=$V(e))}function EI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wI(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function gd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dv(e,t){var n=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Tb(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=po(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bI(e,t){t=t.checked,t!=null&&R0(e,"checked",t,!1)}function hv(e,t){bI(e,t);var n=po(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pv(e,t.type,n):t.hasOwnProperty("defaultValue")&&pv(e,t.type,po(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ab(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pv(e,t,n){(t!=="number"||gd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var jl=Array.isArray;function is(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+po(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function mv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(jl(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:po(n)}}function SI(e,t){var n=po(t.value),r=po(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ib(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function PI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?PI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sf,TI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sf=sf||document.createElement("div"),sf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function uu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UV=["Webkit","ms","Moz","O"];Object.keys(Kl).forEach(function(e){UV.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kl[t]=Kl[e]})});function AI(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kl.hasOwnProperty(e)&&Kl[e]?(""+t).trim():t+"px"}function xI(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=AI(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var FV=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vv(e,t){if(t){if(FV[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function yv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _v=null;function L0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wv=null,os=null,as=null;function kb(e){if(e=rc(e)){if(typeof wv!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Zh(t),wv(e.stateNode,e.type,t))}}function II(e){os?as?as.push(e):as=[e]:os=e}function kI(){if(os){var e=os,t=as;if(as=os=null,kb(e),t)for(e=0;e<t.length;e++)kb(t[e])}}function CI(e,t){return e(t)}function OI(){}var eg=!1;function RI(e,t,n){if(eg)return e(t,n);eg=!0;try{return CI(e,t,n)}finally{eg=!1,(os!==null||as!==null)&&(OI(),kI())}}function cu(e,t){var n=e.stateNode;if(n===null)return null;var r=Zh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Ev=!1;if(ui)try{var wl={};Object.defineProperty(wl,"passive",{get:function(){Ev=!0}}),window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{Ev=!1}function zV(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ql=!1,vd=null,yd=!1,bv=null,BV={onError:function(e){ql=!0,vd=e}};function WV(e,t,n,r,i,o,a,s,l){ql=!1,vd=null,zV.apply(BV,arguments)}function HV(e,t,n,r,i,o,a,s,l){if(WV.apply(this,arguments),ql){if(ql){var u=vd;ql=!1,vd=null}else throw Error(H(198));yd||(yd=!0,bv=u)}}function Ea(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function NI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cb(e){if(Ea(e)!==e)throw Error(H(188))}function KV(e){var t=e.alternate;if(!t){if(t=Ea(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Cb(i),e;if(o===r)return Cb(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function DI(e){return e=KV(e),e!==null?MI(e):null}function MI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=MI(e);if(t!==null)return t;e=e.sibling}return null}var LI=Ln.unstable_scheduleCallback,Ob=Ln.unstable_cancelCallback,qV=Ln.unstable_shouldYield,GV=Ln.unstable_requestPaint,Je=Ln.unstable_now,QV=Ln.unstable_getCurrentPriorityLevel,j0=Ln.unstable_ImmediatePriority,jI=Ln.unstable_UserBlockingPriority,_d=Ln.unstable_NormalPriority,YV=Ln.unstable_LowPriority,VI=Ln.unstable_IdlePriority,Qh=null,kr=null;function XV(e){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(Qh,e,void 0,(e.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:e$,JV=Math.log,ZV=Math.LN2;function e$(e){return e>>>=0,e===0?32:31-(JV(e)/ZV|0)|0}var lf=64,uf=4194304;function Vl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Vl(s):(o&=a,o!==0&&(r=Vl(o)))}else a=n&~i,a!==0?r=Vl(a):o!==0&&(r=Vl(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-fr(t),i=1<<n,r|=e[n],t&=~i;return r}function t$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-fr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=t$(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Sv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $I(){var e=lf;return lf<<=1,!(lf&4194240)&&(lf=64),e}function tg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fr(t),e[t]=n}function r$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-fr(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function V0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Pe=0;function UI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var FI,$0,zI,BI,WI,Pv=!1,cf=[],Zi=null,eo=null,to=null,fu=new Map,du=new Map,zi=[],i$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rb(e,t){switch(e){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":fu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(t.pointerId)}}function El(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=rc(t),t!==null&&$0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function o$(e,t,n,r,i){switch(t){case"focusin":return Zi=El(Zi,e,t,n,r,i),!0;case"dragenter":return eo=El(eo,e,t,n,r,i),!0;case"mouseover":return to=El(to,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return fu.set(o,El(fu.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,du.set(o,El(du.get(o)||null,e,t,n,r,i)),!0}return!1}function HI(e){var t=zo(e.target);if(t!==null){var n=Ea(t);if(n!==null){if(t=n.tag,t===13){if(t=NI(n),t!==null){e.blockedOn=t,WI(e.priority,function(){zI(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);_v=r,n.target.dispatchEvent(r),_v=null}else return t=rc(n),t!==null&&$0(t),e.blockedOn=n,!1;t.shift()}return!0}function Nb(e,t,n){Kf(e)&&n.delete(t)}function a$(){Pv=!1,Zi!==null&&Kf(Zi)&&(Zi=null),eo!==null&&Kf(eo)&&(eo=null),to!==null&&Kf(to)&&(to=null),fu.forEach(Nb),du.forEach(Nb)}function bl(e,t){e.blockedOn===t&&(e.blockedOn=null,Pv||(Pv=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,a$)))}function hu(e){function t(i){return bl(i,e)}if(0<cf.length){bl(cf[0],e);for(var n=1;n<cf.length;n++){var r=cf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zi!==null&&bl(Zi,e),eo!==null&&bl(eo,e),to!==null&&bl(to,e),fu.forEach(t),du.forEach(t),n=0;n<zi.length;n++)r=zi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)HI(n),n.blockedOn===null&&zi.shift()}var ss=Pi.ReactCurrentBatchConfig,Ed=!0;function s$(e,t,n,r){var i=Pe,o=ss.transition;ss.transition=null;try{Pe=1,U0(e,t,n,r)}finally{Pe=i,ss.transition=o}}function l$(e,t,n,r){var i=Pe,o=ss.transition;ss.transition=null;try{Pe=4,U0(e,t,n,r)}finally{Pe=i,ss.transition=o}}function U0(e,t,n,r){if(Ed){var i=Tv(e,t,n,r);if(i===null)fg(e,t,r,bd,n),Rb(e,r);else if(o$(i,e,t,n,r))r.stopPropagation();else if(Rb(e,r),t&4&&-1<i$.indexOf(e)){for(;i!==null;){var o=rc(i);if(o!==null&&FI(o),o=Tv(e,t,n,r),o===null&&fg(e,t,r,bd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else fg(e,t,r,null,n)}}var bd=null;function Tv(e,t,n,r){if(bd=null,e=L0(r),e=zo(e),e!==null)if(t=Ea(e),t===null)e=null;else if(n=t.tag,n===13){if(e=NI(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bd=e,null}function KI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QV()){case j0:return 1;case jI:return 4;case _d:case YV:return 16;case VI:return 536870912;default:return 16}default:return 16}}var Qi=null,F0=null,qf=null;function qI(){if(qf)return qf;var e,t=F0,n=t.length,r,i="value"in Qi?Qi.value:Qi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return qf=i.slice(e,1<r?1-r:void 0)}function Gf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ff(){return!0}function Db(){return!1}function $n(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ff:Db,this.isPropagationStopped=Db,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ff)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ff)},persist:function(){},isPersistent:ff}),t}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z0=$n(zs),nc=Be({},zs,{view:0,detail:0}),u$=$n(nc),ng,rg,Sl,Yh=Be({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sl&&(Sl&&e.type==="mousemove"?(ng=e.screenX-Sl.screenX,rg=e.screenY-Sl.screenY):rg=ng=0,Sl=e),ng)},movementY:function(e){return"movementY"in e?e.movementY:rg}}),Mb=$n(Yh),c$=Be({},Yh,{dataTransfer:0}),f$=$n(c$),d$=Be({},nc,{relatedTarget:0}),ig=$n(d$),h$=Be({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),p$=$n(h$),m$=Be({},zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g$=$n(m$),v$=Be({},zs,{data:0}),Lb=$n(v$),y$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w$[e])?!!t[e]:!1}function B0(){return E$}var b$=Be({},nc,{key:function(e){if(e.key){var t=y$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B0,charCode:function(e){return e.type==="keypress"?Gf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),S$=$n(b$),P$=Be({},Yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jb=$n(P$),T$=Be({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B0}),A$=$n(T$),x$=Be({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),I$=$n(x$),k$=Be({},Yh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),C$=$n(k$),O$=[9,13,27,32],W0=ui&&"CompositionEvent"in window,Gl=null;ui&&"documentMode"in document&&(Gl=document.documentMode);var R$=ui&&"TextEvent"in window&&!Gl,GI=ui&&(!W0||Gl&&8<Gl&&11>=Gl),Vb=String.fromCharCode(32),$b=!1;function QI(e,t){switch(e){case"keyup":return O$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ka=!1;function N$(e,t){switch(e){case"compositionend":return YI(t);case"keypress":return t.which!==32?null:($b=!0,Vb);case"textInput":return e=t.data,e===Vb&&$b?null:e;default:return null}}function D$(e,t){if(Ka)return e==="compositionend"||!W0&&QI(e,t)?(e=qI(),qf=F0=Qi=null,Ka=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return GI&&t.locale!=="ko"?null:t.data;default:return null}}var M$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ub(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M$[e.type]:t==="textarea"}function XI(e,t,n,r){II(r),t=Sd(t,"onChange"),0<t.length&&(n=new z0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ql=null,pu=null;function L$(e){lk(e,0)}function Xh(e){var t=Qa(e);if(EI(t))return e}function j$(e,t){if(e==="change")return t}var JI=!1;if(ui){var og;if(ui){var ag="oninput"in document;if(!ag){var Fb=document.createElement("div");Fb.setAttribute("oninput","return;"),ag=typeof Fb.oninput=="function"}og=ag}else og=!1;JI=og&&(!document.documentMode||9<document.documentMode)}function zb(){Ql&&(Ql.detachEvent("onpropertychange",ZI),pu=Ql=null)}function ZI(e){if(e.propertyName==="value"&&Xh(pu)){var t=[];XI(t,pu,e,L0(e)),RI(L$,t)}}function V$(e,t,n){e==="focusin"?(zb(),Ql=t,pu=n,Ql.attachEvent("onpropertychange",ZI)):e==="focusout"&&zb()}function $$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xh(pu)}function U$(e,t){if(e==="click")return Xh(t)}function F$(e,t){if(e==="input"||e==="change")return Xh(t)}function z$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mr=typeof Object.is=="function"?Object.is:z$;function mu(e,t){if(mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sv.call(t,i)||!mr(e[i],t[i]))return!1}return!0}function Bb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wb(e,t){var n=Bb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bb(n)}}function ek(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ek(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tk(){for(var e=window,t=gd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gd(e.document)}return t}function H0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function B$(e){var t=tk(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ek(n.ownerDocument.documentElement,n)){if(r!==null&&H0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Wb(n,o);var a=Wb(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var W$=ui&&"documentMode"in document&&11>=document.documentMode,qa=null,Av=null,Yl=null,xv=!1;function Hb(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xv||qa==null||qa!==gd(r)||(r=qa,"selectionStart"in r&&H0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yl&&mu(Yl,r)||(Yl=r,r=Sd(Av,"onSelect"),0<r.length&&(t=new z0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qa)))}function df(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ga={animationend:df("Animation","AnimationEnd"),animationiteration:df("Animation","AnimationIteration"),animationstart:df("Animation","AnimationStart"),transitionend:df("Transition","TransitionEnd")},sg={},nk={};ui&&(nk=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Jh(e){if(sg[e])return sg[e];if(!Ga[e])return e;var t=Ga[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nk)return sg[e]=t[n];return e}var rk=Jh("animationend"),ik=Jh("animationiteration"),ok=Jh("animationstart"),ak=Jh("transitionend"),sk=new Map,Kb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Po(e,t){sk.set(e,t),wa(t,[e])}for(var lg=0;lg<Kb.length;lg++){var ug=Kb[lg],H$=ug.toLowerCase(),K$=ug[0].toUpperCase()+ug.slice(1);Po(H$,"on"+K$)}Po(rk,"onAnimationEnd");Po(ik,"onAnimationIteration");Po(ok,"onAnimationStart");Po("dblclick","onDoubleClick");Po("focusin","onFocus");Po("focusout","onBlur");Po(ak,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q$=new Set("cancel close invalid load scroll toggle".split(" ").concat($l));function qb(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,HV(r,t,void 0,e),e.currentTarget=null}function lk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;qb(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;qb(i,s,u),o=l}}}if(yd)throw e=bv,yd=!1,bv=null,e}function Ne(e,t){var n=t[Rv];n===void 0&&(n=t[Rv]=new Set);var r=e+"__bubble";n.has(r)||(uk(t,e,2,!1),n.add(r))}function cg(e,t,n){var r=0;t&&(r|=4),uk(n,e,r,t)}var hf="_reactListening"+Math.random().toString(36).slice(2);function gu(e){if(!e[hf]){e[hf]=!0,gI.forEach(function(n){n!=="selectionchange"&&(q$.has(n)||cg(n,!1,e),cg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hf]||(t[hf]=!0,cg("selectionchange",!1,t))}}function uk(e,t,n,r){switch(KI(t)){case 1:var i=s$;break;case 4:i=l$;break;default:i=U0}n=i.bind(null,t,n,e),i=void 0,!Ev||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function fg(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=zo(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}RI(function(){var u=o,c=L0(n),d=[];e:{var h=sk.get(e);if(h!==void 0){var p=z0,g=e;switch(e){case"keypress":if(Gf(n)===0)break e;case"keydown":case"keyup":p=S$;break;case"focusin":g="focus",p=ig;break;case"focusout":g="blur",p=ig;break;case"beforeblur":case"afterblur":p=ig;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Mb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=f$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=A$;break;case rk:case ik:case ok:p=p$;break;case ak:p=I$;break;case"scroll":p=u$;break;case"wheel":p=C$;break;case"copy":case"cut":case"paste":p=g$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=jb}var _=(t&4)!==0,y=!_&&e==="scroll",w=_?h!==null?h+"Capture":null:h;_=[];for(var b=u,S;b!==null;){S=b;var I=S.stateNode;if(S.tag===5&&I!==null&&(S=I,w!==null&&(I=cu(b,w),I!=null&&_.push(vu(b,I,S)))),y)break;b=b.return}0<_.length&&(h=new p(h,g,null,n,c),d.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==_v&&(g=n.relatedTarget||n.fromElement)&&(zo(g)||g[ci]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?zo(g):null,g!==null&&(y=Ea(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(_=Mb,I="onMouseLeave",w="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(_=jb,I="onPointerLeave",w="onPointerEnter",b="pointer"),y=p==null?h:Qa(p),S=g==null?h:Qa(g),h=new _(I,b+"leave",p,n,c),h.target=y,h.relatedTarget=S,I=null,zo(c)===u&&(_=new _(w,b+"enter",g,n,c),_.target=S,_.relatedTarget=y,I=_),y=I,p&&g)t:{for(_=p,w=g,b=0,S=_;S;S=La(S))b++;for(S=0,I=w;I;I=La(I))S++;for(;0<b-S;)_=La(_),b--;for(;0<S-b;)w=La(w),S--;for(;b--;){if(_===w||w!==null&&_===w.alternate)break t;_=La(_),w=La(w)}_=null}else _=null;p!==null&&Gb(d,h,p,_,!1),g!==null&&y!==null&&Gb(d,y,g,_,!0)}}e:{if(h=u?Qa(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var O=j$;else if(Ub(h))if(JI)O=F$;else{O=$$;var M=V$}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=U$);if(O&&(O=O(e,u))){XI(d,O,n,c);break e}M&&M(e,h,u),e==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&pv(h,"number",h.value)}switch(M=u?Qa(u):window,e){case"focusin":(Ub(M)||M.contentEditable==="true")&&(qa=M,Av=u,Yl=null);break;case"focusout":Yl=Av=qa=null;break;case"mousedown":xv=!0;break;case"contextmenu":case"mouseup":case"dragend":xv=!1,Hb(d,n,c);break;case"selectionchange":if(W$)break;case"keydown":case"keyup":Hb(d,n,c)}var T;if(W0)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ka?QI(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(GI&&n.locale!=="ko"&&(Ka||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ka&&(T=qI()):(Qi=c,F0="value"in Qi?Qi.value:Qi.textContent,Ka=!0)),M=Sd(u,P),0<M.length&&(P=new Lb(P,e,null,n,c),d.push({event:P,listeners:M}),T?P.data=T:(T=YI(n),T!==null&&(P.data=T)))),(T=R$?N$(e,n):D$(e,n))&&(u=Sd(u,"onBeforeInput"),0<u.length&&(c=new Lb("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}lk(d,t)})}function vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=cu(e,n),o!=null&&r.unshift(vu(e,o,i)),o=cu(e,t),o!=null&&r.push(vu(e,o,i))),e=e.return}return r}function La(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gb(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=cu(n,o),l!=null&&a.unshift(vu(n,l,s))):i||(l=cu(n,o),l!=null&&a.push(vu(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var G$=/\r\n?/g,Q$=/\u0000|\uFFFD/g;function Qb(e){return(typeof e=="string"?e:""+e).replace(G$,`
`).replace(Q$,"")}function pf(e,t,n){if(t=Qb(t),Qb(e)!==t&&n)throw Error(H(425))}function Pd(){}var Iv=null,kv=null;function Cv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ov=typeof setTimeout=="function"?setTimeout:void 0,Y$=typeof clearTimeout=="function"?clearTimeout:void 0,Yb=typeof Promise=="function"?Promise:void 0,X$=typeof queueMicrotask=="function"?queueMicrotask:typeof Yb<"u"?function(e){return Yb.resolve(null).then(e).catch(J$)}:Ov;function J$(e){setTimeout(function(){throw e})}function dg(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),hu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hu(t)}function no(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Bs,yu="__reactProps$"+Bs,ci="__reactContainer$"+Bs,Rv="__reactEvents$"+Bs,Z$="__reactListeners$"+Bs,e4="__reactHandles$"+Bs;function zo(e){var t=e[Tr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ci]||n[Tr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xb(e);e!==null;){if(n=e[Tr])return n;e=Xb(e)}return t}e=n,n=e.parentNode}return null}function rc(e){return e=e[Tr]||e[ci],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Zh(e){return e[yu]||null}var Nv=[],Ya=-1;function To(e){return{current:e}}function Le(e){0>Ya||(e.current=Nv[Ya],Nv[Ya]=null,Ya--)}function Ce(e,t){Ya++,Nv[Ya]=e.current,e.current=t}var mo={},Xt=To(mo),En=To(!1),ra=mo;function vs(e,t){var n=e.type.contextTypes;if(!n)return mo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function bn(e){return e=e.childContextTypes,e!=null}function Td(){Le(En),Le(Xt)}function Jb(e,t,n){if(Xt.current!==mo)throw Error(H(168));Ce(Xt,t),Ce(En,n)}function ck(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,VV(e)||"Unknown",i));return Be({},n,r)}function Ad(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mo,ra=Xt.current,Ce(Xt,e),Ce(En,En.current),!0}function Zb(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=ck(e,t,ra),r.__reactInternalMemoizedMergedChildContext=e,Le(En),Le(Xt),Ce(Xt,e)):Le(En),Ce(En,n)}var qr=null,ep=!1,hg=!1;function fk(e){qr===null?qr=[e]:qr.push(e)}function t4(e){ep=!0,fk(e)}function Ao(){if(!hg&&qr!==null){hg=!0;var e=0,t=Pe;try{var n=qr;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qr=null,ep=!1}catch(i){throw qr!==null&&(qr=qr.slice(e+1)),LI(j0,Ao),i}finally{Pe=t,hg=!1}}return null}var Xa=[],Ja=0,xd=null,Id=0,Wn=[],Hn=0,ia=null,Jr=1,Zr="";function Lo(e,t){Xa[Ja++]=Id,Xa[Ja++]=xd,xd=e,Id=t}function dk(e,t,n){Wn[Hn++]=Jr,Wn[Hn++]=Zr,Wn[Hn++]=ia,ia=e;var r=Jr;e=Zr;var i=32-fr(r)-1;r&=~(1<<i),n+=1;var o=32-fr(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Jr=1<<32-fr(t)+i|n<<i|r,Zr=o+e}else Jr=1<<o|n<<i|r,Zr=e}function K0(e){e.return!==null&&(Lo(e,1),dk(e,1,0))}function q0(e){for(;e===xd;)xd=Xa[--Ja],Xa[Ja]=null,Id=Xa[--Ja],Xa[Ja]=null;for(;e===ia;)ia=Wn[--Hn],Wn[Hn]=null,Zr=Wn[--Hn],Wn[Hn]=null,Jr=Wn[--Hn],Wn[Hn]=null}var Dn=null,Cn=null,$e=!1,sr=null;function hk(e,t){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function eS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dn=e,Cn=no(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dn=e,Cn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ia!==null?{id:Jr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Dn=e,Cn=null,!0):!1;default:return!1}}function Dv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Mv(e){if($e){var t=Cn;if(t){var n=t;if(!eS(e,t)){if(Dv(e))throw Error(H(418));t=no(n.nextSibling);var r=Dn;t&&eS(e,t)?hk(r,n):(e.flags=e.flags&-4097|2,$e=!1,Dn=e)}}else{if(Dv(e))throw Error(H(418));e.flags=e.flags&-4097|2,$e=!1,Dn=e}}}function tS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dn=e}function mf(e){if(e!==Dn)return!1;if(!$e)return tS(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cv(e.type,e.memoizedProps)),t&&(t=Cn)){if(Dv(e))throw pk(),Error(H(418));for(;t;)hk(e,t),t=no(t.nextSibling)}if(tS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Cn=no(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Cn=null}}else Cn=Dn?no(e.stateNode.nextSibling):null;return!0}function pk(){for(var e=Cn;e;)e=no(e.nextSibling)}function ys(){Cn=Dn=null,$e=!1}function G0(e){sr===null?sr=[e]:sr.push(e)}var n4=Pi.ReactCurrentBatchConfig;function Pl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function gf(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nS(e){var t=e._init;return t(e._payload)}function mk(e){function t(w,b){if(e){var S=w.deletions;S===null?(w.deletions=[b],w.flags|=16):S.push(b)}}function n(w,b){if(!e)return null;for(;b!==null;)t(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=ao(w,b),w.index=0,w.sibling=null,w}function o(w,b,S){return w.index=S,e?(S=w.alternate,S!==null?(S=S.index,S<b?(w.flags|=2,b):S):(w.flags|=2,b)):(w.flags|=1048576,b)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function s(w,b,S,I){return b===null||b.tag!==6?(b=wg(S,w.mode,I),b.return=w,b):(b=i(b,S),b.return=w,b)}function l(w,b,S,I){var O=S.type;return O===Ha?c(w,b,S.props.children,I,S.key):b!==null&&(b.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Vi&&nS(O)===b.type)?(I=i(b,S.props),I.ref=Pl(w,b,S),I.return=w,I):(I=td(S.type,S.key,S.props,null,w.mode,I),I.ref=Pl(w,b,S),I.return=w,I)}function u(w,b,S,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==S.containerInfo||b.stateNode.implementation!==S.implementation?(b=Eg(S,w.mode,I),b.return=w,b):(b=i(b,S.children||[]),b.return=w,b)}function c(w,b,S,I,O){return b===null||b.tag!==7?(b=Xo(S,w.mode,I,O),b.return=w,b):(b=i(b,S),b.return=w,b)}function d(w,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return b=wg(""+b,w.mode,S),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case of:return S=td(b.type,b.key,b.props,null,w.mode,S),S.ref=Pl(w,null,b),S.return=w,S;case Wa:return b=Eg(b,w.mode,S),b.return=w,b;case Vi:var I=b._init;return d(w,I(b._payload),S)}if(jl(b)||_l(b))return b=Xo(b,w.mode,S,null),b.return=w,b;gf(w,b)}return null}function h(w,b,S,I){var O=b!==null?b.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:s(w,b,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case of:return S.key===O?l(w,b,S,I):null;case Wa:return S.key===O?u(w,b,S,I):null;case Vi:return O=S._init,h(w,b,O(S._payload),I)}if(jl(S)||_l(S))return O!==null?null:c(w,b,S,I,null);gf(w,S)}return null}function p(w,b,S,I,O){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(S)||null,s(b,w,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case of:return w=w.get(I.key===null?S:I.key)||null,l(b,w,I,O);case Wa:return w=w.get(I.key===null?S:I.key)||null,u(b,w,I,O);case Vi:var M=I._init;return p(w,b,S,M(I._payload),O)}if(jl(I)||_l(I))return w=w.get(S)||null,c(b,w,I,O,null);gf(b,I)}return null}function g(w,b,S,I){for(var O=null,M=null,T=b,P=b=0,x=null;T!==null&&P<S.length;P++){T.index>P?(x=T,T=null):x=T.sibling;var R=h(w,T,S[P],I);if(R===null){T===null&&(T=x);break}e&&T&&R.alternate===null&&t(w,T),b=o(R,b,P),M===null?O=R:M.sibling=R,M=R,T=x}if(P===S.length)return n(w,T),$e&&Lo(w,P),O;if(T===null){for(;P<S.length;P++)T=d(w,S[P],I),T!==null&&(b=o(T,b,P),M===null?O=T:M.sibling=T,M=T);return $e&&Lo(w,P),O}for(T=r(w,T);P<S.length;P++)x=p(T,w,P,S[P],I),x!==null&&(e&&x.alternate!==null&&T.delete(x.key===null?P:x.key),b=o(x,b,P),M===null?O=x:M.sibling=x,M=x);return e&&T.forEach(function(C){return t(w,C)}),$e&&Lo(w,P),O}function _(w,b,S,I){var O=_l(S);if(typeof O!="function")throw Error(H(150));if(S=O.call(S),S==null)throw Error(H(151));for(var M=O=null,T=b,P=b=0,x=null,R=S.next();T!==null&&!R.done;P++,R=S.next()){T.index>P?(x=T,T=null):x=T.sibling;var C=h(w,T,R.value,I);if(C===null){T===null&&(T=x);break}e&&T&&C.alternate===null&&t(w,T),b=o(C,b,P),M===null?O=C:M.sibling=C,M=C,T=x}if(R.done)return n(w,T),$e&&Lo(w,P),O;if(T===null){for(;!R.done;P++,R=S.next())R=d(w,R.value,I),R!==null&&(b=o(R,b,P),M===null?O=R:M.sibling=R,M=R);return $e&&Lo(w,P),O}for(T=r(w,T);!R.done;P++,R=S.next())R=p(T,w,P,R.value,I),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?P:R.key),b=o(R,b,P),M===null?O=R:M.sibling=R,M=R);return e&&T.forEach(function(D){return t(w,D)}),$e&&Lo(w,P),O}function y(w,b,S,I){if(typeof S=="object"&&S!==null&&S.type===Ha&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case of:e:{for(var O=S.key,M=b;M!==null;){if(M.key===O){if(O=S.type,O===Ha){if(M.tag===7){n(w,M.sibling),b=i(M,S.props.children),b.return=w,w=b;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Vi&&nS(O)===M.type){n(w,M.sibling),b=i(M,S.props),b.ref=Pl(w,M,S),b.return=w,w=b;break e}n(w,M);break}else t(w,M);M=M.sibling}S.type===Ha?(b=Xo(S.props.children,w.mode,I,S.key),b.return=w,w=b):(I=td(S.type,S.key,S.props,null,w.mode,I),I.ref=Pl(w,b,S),I.return=w,w=I)}return a(w);case Wa:e:{for(M=S.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===S.containerInfo&&b.stateNode.implementation===S.implementation){n(w,b.sibling),b=i(b,S.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else t(w,b);b=b.sibling}b=Eg(S,w.mode,I),b.return=w,w=b}return a(w);case Vi:return M=S._init,y(w,b,M(S._payload),I)}if(jl(S))return g(w,b,S,I);if(_l(S))return _(w,b,S,I);gf(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,S),b.return=w,w=b):(n(w,b),b=wg(S,w.mode,I),b.return=w,w=b),a(w)):n(w,b)}return y}var _s=mk(!0),gk=mk(!1),kd=To(null),Cd=null,Za=null,Q0=null;function Y0(){Q0=Za=Cd=null}function X0(e){var t=kd.current;Le(kd),e._currentValue=t}function Lv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ls(e,t){Cd=e,Q0=Za=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_n=!0),e.firstContext=null)}function Xn(e){var t=e._currentValue;if(Q0!==e)if(e={context:e,memoizedValue:t,next:null},Za===null){if(Cd===null)throw Error(H(308));Za=e,Cd.dependencies={lanes:0,firstContext:e}}else Za=Za.next=e;return t}var Bo=null;function J0(e){Bo===null?Bo=[e]:Bo.push(e)}function vk(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,J0(t)):(n.next=i.next,i.next=n),t.interleaved=n,fi(e,r)}function fi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $i=!1;function Z0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ro(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,fi(e,n)}return i=r.interleaved,i===null?(t.next=t,J0(r)):(t.next=i.next,i.next=t),r.interleaved=t,fi(e,n)}function Qf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,V0(e,n)}}function rS(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Od(e,t,n,r){var i=e.updateQueue;$i=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,_=s;switch(h=t,p=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Be({},d,h);break e;case 2:$i=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);aa|=a,e.lanes=a,e.memoizedState=d}}function iS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var ic={},Cr=To(ic),_u=To(ic),wu=To(ic);function Wo(e){if(e===ic)throw Error(H(174));return e}function e_(e,t){switch(Ce(wu,t),Ce(_u,e),Ce(Cr,ic),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gv(t,e)}Le(Cr),Ce(Cr,t)}function ws(){Le(Cr),Le(_u),Le(wu)}function _k(e){Wo(wu.current);var t=Wo(Cr.current),n=gv(t,e.type);t!==n&&(Ce(_u,e),Ce(Cr,n))}function t_(e){_u.current===e&&(Le(Cr),Le(_u))}var Fe=To(0);function Rd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pg=[];function n_(){for(var e=0;e<pg.length;e++)pg[e]._workInProgressVersionPrimary=null;pg.length=0}var Yf=Pi.ReactCurrentDispatcher,mg=Pi.ReactCurrentBatchConfig,oa=0,ze=null,st=null,wt=null,Nd=!1,Xl=!1,Eu=0,r4=0;function zt(){throw Error(H(321))}function r_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mr(e[n],t[n]))return!1;return!0}function i_(e,t,n,r,i,o){if(oa=o,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yf.current=e===null||e.memoizedState===null?s4:l4,e=n(r,i),Xl){o=0;do{if(Xl=!1,Eu=0,25<=o)throw Error(H(301));o+=1,wt=st=null,t.updateQueue=null,Yf.current=u4,e=n(r,i)}while(Xl)}if(Yf.current=Dd,t=st!==null&&st.next!==null,oa=0,wt=st=ze=null,Nd=!1,t)throw Error(H(300));return e}function o_(){var e=Eu!==0;return Eu=0,e}function Sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?ze.memoizedState=wt=e:wt=wt.next=e,wt}function Jn(){if(st===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=wt===null?ze.memoizedState:wt.next;if(t!==null)wt=t,st=e;else{if(e===null)throw Error(H(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},wt===null?ze.memoizedState=wt=e:wt=wt.next=e}return wt}function bu(e,t){return typeof t=="function"?t(e):t}function gg(e){var t=Jn(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=st,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((oa&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,ze.lanes|=c,aa|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,mr(r,t.memoizedState)||(_n=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ze.lanes|=o,aa|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vg(e){var t=Jn(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);mr(o,t.memoizedState)||(_n=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function wk(){}function Ek(e,t){var n=ze,r=Jn(),i=t(),o=!mr(r.memoizedState,i);if(o&&(r.memoizedState=i,_n=!0),r=r.queue,a_(Pk.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Su(9,Sk.bind(null,n,r,i,t),void 0,null),Et===null)throw Error(H(349));oa&30||bk(n,t,i)}return i}function bk(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sk(e,t,n,r){t.value=n,t.getSnapshot=r,Tk(t)&&Ak(e)}function Pk(e,t,n){return n(function(){Tk(t)&&Ak(e)})}function Tk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mr(e,n)}catch{return!0}}function Ak(e){var t=fi(e,1);t!==null&&dr(t,e,1,-1)}function oS(e){var t=Sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bu,lastRenderedState:e},t.queue=e,e=e.dispatch=a4.bind(null,ze,e),[t.memoizedState,e]}function Su(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xk(){return Jn().memoizedState}function Xf(e,t,n,r){var i=Sr();ze.flags|=e,i.memoizedState=Su(1|t,n,void 0,r===void 0?null:r)}function tp(e,t,n,r){var i=Jn();r=r===void 0?null:r;var o=void 0;if(st!==null){var a=st.memoizedState;if(o=a.destroy,r!==null&&r_(r,a.deps)){i.memoizedState=Su(t,n,o,r);return}}ze.flags|=e,i.memoizedState=Su(1|t,n,o,r)}function aS(e,t){return Xf(8390656,8,e,t)}function a_(e,t){return tp(2048,8,e,t)}function Ik(e,t){return tp(4,2,e,t)}function kk(e,t){return tp(4,4,e,t)}function Ck(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ok(e,t,n){return n=n!=null?n.concat([e]):null,tp(4,4,Ck.bind(null,t,e),n)}function s_(){}function Rk(e,t){var n=Jn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&r_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Nk(e,t){var n=Jn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&r_(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Dk(e,t,n){return oa&21?(mr(n,t)||(n=$I(),ze.lanes|=n,aa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_n=!0),e.memoizedState=n)}function i4(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=mg.transition;mg.transition={};try{e(!1),t()}finally{Pe=n,mg.transition=r}}function Mk(){return Jn().memoizedState}function o4(e,t,n){var r=oo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Lk(e))jk(t,n);else if(n=vk(e,t,n,r),n!==null){var i=ln();dr(n,e,r,i),Vk(n,t,r)}}function a4(e,t,n){var r=oo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lk(e))jk(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,mr(s,a)){var l=t.interleaved;l===null?(i.next=i,J0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=vk(e,t,i,r),n!==null&&(i=ln(),dr(n,e,r,i),Vk(n,t,r))}}function Lk(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function jk(e,t){Xl=Nd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vk(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,V0(e,n)}}var Dd={readContext:Xn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},s4={readContext:Xn,useCallback:function(e,t){return Sr().memoizedState=[e,t===void 0?null:t],e},useContext:Xn,useEffect:aS,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xf(4194308,4,Ck.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xf(4,2,e,t)},useMemo:function(e,t){var n=Sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=o4.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=Sr();return e={current:e},t.memoizedState=e},useState:oS,useDebugValue:s_,useDeferredValue:function(e){return Sr().memoizedState=e},useTransition:function(){var e=oS(!1),t=e[0];return e=i4.bind(null,e[1]),Sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ze,i=Sr();if($e){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Et===null)throw Error(H(349));oa&30||bk(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,aS(Pk.bind(null,r,o,e),[e]),r.flags|=2048,Su(9,Sk.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Sr(),t=Et.identifierPrefix;if($e){var n=Zr,r=Jr;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Eu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=r4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},l4={readContext:Xn,useCallback:Rk,useContext:Xn,useEffect:a_,useImperativeHandle:Ok,useInsertionEffect:Ik,useLayoutEffect:kk,useMemo:Nk,useReducer:gg,useRef:xk,useState:function(){return gg(bu)},useDebugValue:s_,useDeferredValue:function(e){var t=Jn();return Dk(t,st.memoizedState,e)},useTransition:function(){var e=gg(bu)[0],t=Jn().memoizedState;return[e,t]},useMutableSource:wk,useSyncExternalStore:Ek,useId:Mk,unstable_isNewReconciler:!1},u4={readContext:Xn,useCallback:Rk,useContext:Xn,useEffect:a_,useImperativeHandle:Ok,useInsertionEffect:Ik,useLayoutEffect:kk,useMemo:Nk,useReducer:vg,useRef:xk,useState:function(){return vg(bu)},useDebugValue:s_,useDeferredValue:function(e){var t=Jn();return st===null?t.memoizedState=e:Dk(t,st.memoizedState,e)},useTransition:function(){var e=vg(bu)[0],t=Jn().memoizedState;return[e,t]},useMutableSource:wk,useSyncExternalStore:Ek,useId:Mk,unstable_isNewReconciler:!1};function or(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var np={isMounted:function(e){return(e=e._reactInternals)?Ea(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ln(),i=oo(e),o=oi(r,i);o.payload=t,n!=null&&(o.callback=n),t=ro(e,o,i),t!==null&&(dr(t,e,i,r),Qf(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ln(),i=oo(e),o=oi(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ro(e,o,i),t!==null&&(dr(t,e,i,r),Qf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ln(),r=oo(e),i=oi(n,r);i.tag=2,t!=null&&(i.callback=t),t=ro(e,i,r),t!==null&&(dr(t,e,r,n),Qf(t,e,r))}};function sS(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!mu(n,r)||!mu(i,o):!0}function $k(e,t,n){var r=!1,i=mo,o=t.contextType;return typeof o=="object"&&o!==null?o=Xn(o):(i=bn(t)?ra:Xt.current,r=t.contextTypes,o=(r=r!=null)?vs(e,i):mo),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=np,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function lS(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&np.enqueueReplaceState(t,t.state,null)}function Vv(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Z0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Xn(o):(o=bn(t)?ra:Xt.current,i.context=vs(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(jv(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&np.enqueueReplaceState(i,i.state,null),Od(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Es(e,t){try{var n="",r=t;do n+=jV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function yg(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $v(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var c4=typeof WeakMap=="function"?WeakMap:Map;function Uk(e,t,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ld||(Ld=!0,Qv=r),$v(e,t)},n}function Fk(e,t,n){n=oi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){$v(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){$v(e,t),typeof r!="function"&&(io===null?io=new Set([this]):io.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function uS(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new c4;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=P4.bind(null,e,t,n),t.then(e,e))}function cS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fS(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=oi(-1,1),t.tag=2,ro(n,t,1))),n.lanes|=1),e)}var f4=Pi.ReactCurrentOwner,_n=!1;function an(e,t,n,r){t.child=e===null?gk(t,null,n,r):_s(t,e.child,n,r)}function dS(e,t,n,r,i){n=n.render;var o=t.ref;return ls(t,i),r=i_(e,t,n,r,o,i),n=o_(),e!==null&&!_n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,di(e,t,i)):($e&&n&&K0(t),t.flags|=1,an(e,t,r,i),t.child)}function hS(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!m_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,zk(e,t,o,r,i)):(e=td(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:mu,n(a,r)&&e.ref===t.ref)return di(e,t,i)}return t.flags|=1,e=ao(o,r),e.ref=t.ref,e.return=t,t.child=e}function zk(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(mu(o,r)&&e.ref===t.ref)if(_n=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(_n=!0);else return t.lanes=e.lanes,di(e,t,i)}return Uv(e,t,n,r,i)}function Bk(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(ts,xn),xn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(ts,xn),xn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ce(ts,xn),xn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ce(ts,xn),xn|=r;return an(e,t,i,n),t.child}function Wk(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uv(e,t,n,r,i){var o=bn(n)?ra:Xt.current;return o=vs(t,o),ls(t,i),n=i_(e,t,n,r,o,i),r=o_(),e!==null&&!_n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,di(e,t,i)):($e&&r&&K0(t),t.flags|=1,an(e,t,n,i),t.child)}function pS(e,t,n,r,i){if(bn(n)){var o=!0;Ad(t)}else o=!1;if(ls(t,i),t.stateNode===null)Jf(e,t),$k(t,n,r),Vv(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xn(u):(u=bn(n)?ra:Xt.current,u=vs(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&lS(t,a,r,u),$i=!1;var h=t.memoizedState;a.state=h,Od(t,r,a,i),l=t.memoizedState,s!==r||h!==l||En.current||$i?(typeof c=="function"&&(jv(t,n,c,r),l=t.memoizedState),(s=$i||sS(t,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,yk(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:or(t.type,s),a.props=u,d=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=bn(n)?ra:Xt.current,l=vs(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&lS(t,a,r,l),$i=!1,h=t.memoizedState,a.state=h,Od(t,r,a,i);var g=t.memoizedState;s!==d||h!==g||En.current||$i?(typeof p=="function"&&(jv(t,n,p,r),g=t.memoizedState),(u=$i||sS(t,n,u,r,h,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Fv(e,t,n,r,o,i)}function Fv(e,t,n,r,i,o){Wk(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Zb(t,n,!1),di(e,t,o);r=t.stateNode,f4.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=_s(t,e.child,null,o),t.child=_s(t,null,s,o)):an(e,t,s,o),t.memoizedState=r.state,i&&Zb(t,n,!0),t.child}function Hk(e){var t=e.stateNode;t.pendingContext?Jb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jb(e,t.context,!1),e_(e,t.containerInfo)}function mS(e,t,n,r,i){return ys(),G0(i),t.flags|=256,an(e,t,n,r),t.child}var zv={dehydrated:null,treeContext:null,retryLane:0};function Bv(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kk(e,t,n){var r=t.pendingProps,i=Fe.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ce(Fe,i&1),e===null)return Mv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=op(a,r,0,null),e=Xo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Bv(n),t.memoizedState=zv,e):l_(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return d4(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ao(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ao(s,o):(o=Xo(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Bv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=zv,r}return o=e.child,e=o.sibling,r=ao(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function l_(e,t){return t=op({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vf(e,t,n,r){return r!==null&&G0(r),_s(t,e.child,null,n),e=l_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function d4(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=yg(Error(H(422))),vf(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=op({mode:"visible",children:r.children},i,0,null),o=Xo(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&_s(t,e.child,null,a),t.child.memoizedState=Bv(a),t.memoizedState=zv,o);if(!(t.mode&1))return vf(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(H(419)),r=yg(o,r,void 0),vf(e,t,a,r)}if(s=(a&e.childLanes)!==0,_n||s){if(r=Et,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,fi(e,i),dr(r,e,i,-1))}return p_(),r=yg(Error(H(421))),vf(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=T4.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Cn=no(i.nextSibling),Dn=t,$e=!0,sr=null,e!==null&&(Wn[Hn++]=Jr,Wn[Hn++]=Zr,Wn[Hn++]=ia,Jr=e.id,Zr=e.overflow,ia=t),t=l_(t,r.children),t.flags|=4096,t)}function gS(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Lv(e.return,t,n)}function _g(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qk(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(an(e,t,r.children,n),r=Fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gS(e,n,t);else if(e.tag===19)gS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ce(Fe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Rd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),_g(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Rd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}_g(t,!0,n,null,o);break;case"together":_g(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function di(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),aa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=ao(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ao(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function h4(e,t,n){switch(t.tag){case 3:Hk(t),ys();break;case 5:_k(t);break;case 1:bn(t.type)&&Ad(t);break;case 4:e_(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ce(kd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Fe,Fe.current&1),t.flags|=128,null):n&t.child.childLanes?Kk(e,t,n):(Ce(Fe,Fe.current&1),e=di(e,t,n),e!==null?e.sibling:null);Ce(Fe,Fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qk(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Fe,Fe.current),r)break;return null;case 22:case 23:return t.lanes=0,Bk(e,t,n)}return di(e,t,n)}var Gk,Wv,Qk,Yk;Gk=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wv=function(){};Qk=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Wo(Cr.current);var o=null;switch(n){case"input":i=dv(e,i),r=dv(e,r),o=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),o=[];break;case"textarea":i=mv(e,i),r=mv(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Pd)}vv(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(lu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(lu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Yk=function(e,t,n,r){n!==r&&(t.flags|=4)};function Tl(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function p4(e,t,n){var r=t.pendingProps;switch(q0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return bn(t.type)&&Td(),Bt(t),null;case 3:return r=t.stateNode,ws(),Le(En),Le(Xt),n_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sr!==null&&(Jv(sr),sr=null))),Wv(e,t),Bt(t),null;case 5:t_(t);var i=Wo(wu.current);if(n=t.type,e!==null&&t.stateNode!=null)Qk(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Bt(t),null}if(e=Wo(Cr.current),mf(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Tr]=t,r[yu]=o,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<$l.length;i++)Ne($l[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Tb(r,o),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ne("invalid",r);break;case"textarea":xb(r,o),Ne("invalid",r)}vv(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&pf(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&pf(r.textContent,s,e),i=["children",""+s]):lu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ne("scroll",r)}switch(n){case"input":af(r),Ab(r,o,!0);break;case"textarea":af(r),Ib(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Pd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=PI(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Tr]=t,e[yu]=r,Gk(e,t,!1,!1),t.stateNode=e;e:{switch(a=yv(n,r),n){case"dialog":Ne("cancel",e),Ne("close",e),i=r;break;case"iframe":case"object":case"embed":Ne("load",e),i=r;break;case"video":case"audio":for(i=0;i<$l.length;i++)Ne($l[i],e);i=r;break;case"source":Ne("error",e),i=r;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),i=r;break;case"details":Ne("toggle",e),i=r;break;case"input":Tb(e,r),i=dv(e,r),Ne("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),Ne("invalid",e);break;case"textarea":xb(e,r),i=mv(e,r),Ne("invalid",e);break;default:i=r}vv(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?xI(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TI(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&uu(e,l):typeof l=="number"&&uu(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(lu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ne("scroll",e):l!=null&&R0(e,o,l,a))}switch(n){case"input":af(e),Ab(e,r,!1);break;case"textarea":af(e),Ib(e);break;case"option":r.value!=null&&e.setAttribute("value",""+po(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?is(e,!!r.multiple,o,!1):r.defaultValue!=null&&is(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Pd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bt(t),null;case 6:if(e&&t.stateNode!=null)Yk(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Wo(wu.current),Wo(Cr.current),mf(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tr]=t,(o=r.nodeValue!==n)&&(e=Dn,e!==null))switch(e.tag){case 3:pf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pf(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=t,t.stateNode=r}return Bt(t),null;case 13:if(Le(Fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Cn!==null&&t.mode&1&&!(t.flags&128))pk(),ys(),t.flags|=98560,o=!1;else if(o=mf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Tr]=t}else ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bt(t),o=!1}else sr!==null&&(Jv(sr),sr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Fe.current&1?ut===0&&(ut=3):p_())),t.updateQueue!==null&&(t.flags|=4),Bt(t),null);case 4:return ws(),Wv(e,t),e===null&&gu(t.stateNode.containerInfo),Bt(t),null;case 10:return X0(t.type._context),Bt(t),null;case 17:return bn(t.type)&&Td(),Bt(t),null;case 19:if(Le(Fe),o=t.memoizedState,o===null)return Bt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Tl(o,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Rd(e),a!==null){for(t.flags|=128,Tl(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(Fe,Fe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Je()>bs&&(t.flags|=128,r=!0,Tl(o,!1),t.lanes=4194304)}else{if(!r)if(e=Rd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!$e)return Bt(t),null}else 2*Je()-o.renderingStartTime>bs&&n!==1073741824&&(t.flags|=128,r=!0,Tl(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=Fe.current,Ce(Fe,r?n&1|2:n&1),t):(Bt(t),null);case 22:case 23:return h_(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xn&1073741824&&(Bt(t),t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function m4(e,t){switch(q0(t),t.tag){case 1:return bn(t.type)&&Td(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ws(),Le(En),Le(Xt),n_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return t_(t),null;case 13:if(Le(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(Fe),null;case 4:return ws(),null;case 10:return X0(t.type._context),null;case 22:case 23:return h_(),null;case 24:return null;default:return null}}var yf=!1,qt=!1,g4=typeof WeakSet=="function"?WeakSet:Set,G=null;function es(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(e,t,r)}else n.current=null}function Hv(e,t,n){try{n()}catch(r){Ke(e,t,r)}}var vS=!1;function v4(e,t){if(Iv=Ed,e=tk(),H0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kv={focusedElem:e,selectionRange:n},Ed=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,y=g.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?_:or(t.type,_),y);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(I){Ke(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return g=vS,vS=!1,g}function Jl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Hv(t,n,o)}i=i.next}while(i!==r)}}function rp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Kv(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Xk(e){var t=e.alternate;t!==null&&(e.alternate=null,Xk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tr],delete t[yu],delete t[Rv],delete t[Z$],delete t[e4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jk(e){return e.tag===5||e.tag===3||e.tag===4}function yS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pd));else if(r!==4&&(e=e.child,e!==null))for(qv(e,t,n),e=e.sibling;e!==null;)qv(e,t,n),e=e.sibling}function Gv(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gv(e,t,n),e=e.sibling;e!==null;)Gv(e,t,n),e=e.sibling}var It=null,ar=!1;function Li(e,t,n){for(n=n.child;n!==null;)Zk(e,t,n),n=n.sibling}function Zk(e,t,n){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(Qh,n)}catch{}switch(n.tag){case 5:qt||es(n,t);case 6:var r=It,i=ar;It=null,Li(e,t,n),It=r,ar=i,It!==null&&(ar?(e=It,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(ar?(e=It,n=n.stateNode,e.nodeType===8?dg(e.parentNode,n):e.nodeType===1&&dg(e,n),hu(e)):dg(It,n.stateNode));break;case 4:r=It,i=ar,It=n.stateNode.containerInfo,ar=!0,Li(e,t,n),It=r,ar=i;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Hv(n,t,a),i=i.next}while(i!==r)}Li(e,t,n);break;case 1:if(!qt&&(es(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ke(n,t,s)}Li(e,t,n);break;case 21:Li(e,t,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,Li(e,t,n),qt=r):Li(e,t,n);break;default:Li(e,t,n)}}function _S(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new g4),t.forEach(function(r){var i=A4.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:It=s.stateNode,ar=!1;break e;case 3:It=s.stateNode.containerInfo,ar=!0;break e;case 4:It=s.stateNode.containerInfo,ar=!0;break e}s=s.return}if(It===null)throw Error(H(160));Zk(o,a,i),It=null,ar=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ke(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)eC(t,e),t=t.sibling}function eC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rr(t,e),Er(e),r&4){try{Jl(3,e,e.return),rp(3,e)}catch(_){Ke(e,e.return,_)}try{Jl(5,e,e.return)}catch(_){Ke(e,e.return,_)}}break;case 1:rr(t,e),Er(e),r&512&&n!==null&&es(n,n.return);break;case 5:if(rr(t,e),Er(e),r&512&&n!==null&&es(n,n.return),e.flags&32){var i=e.stateNode;try{uu(i,"")}catch(_){Ke(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&bI(i,o),yv(s,a);var u=yv(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?xI(i,d):c==="dangerouslySetInnerHTML"?TI(i,d):c==="children"?uu(i,d):R0(i,c,d,u)}switch(s){case"input":hv(i,o);break;case"textarea":SI(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?is(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?is(i,!!o.multiple,o.defaultValue,!0):is(i,!!o.multiple,o.multiple?[]:"",!1))}i[yu]=o}catch(_){Ke(e,e.return,_)}}break;case 6:if(rr(t,e),Er(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){Ke(e,e.return,_)}}break;case 3:if(rr(t,e),Er(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hu(t.containerInfo)}catch(_){Ke(e,e.return,_)}break;case 4:rr(t,e),Er(e);break;case 13:rr(t,e),Er(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(f_=Je())),r&4&&_S(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(qt=(u=qt)||c,rr(t,e),qt=u):rr(t,e),Er(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(G=e,c=e.child;c!==null;){for(d=G=c;G!==null;){switch(h=G,p=h.child,h.tag){case 0:case 11:case 14:case 15:Jl(4,h,h.return);break;case 1:es(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(_){Ke(r,n,_)}}break;case 5:es(h,h.return);break;case 22:if(h.memoizedState!==null){ES(d);continue}}p!==null?(p.return=h,G=p):ES(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=AI("display",a))}catch(_){Ke(e,e.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){Ke(e,e.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:rr(t,e),Er(e),r&4&&_S(e);break;case 21:break;default:rr(t,e),Er(e)}}function Er(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Jk(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(uu(i,""),r.flags&=-33);var o=yS(e);Gv(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=yS(e);qv(e,s,a);break;default:throw Error(H(161))}}catch(l){Ke(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function y4(e,t,n){G=e,tC(e)}function tC(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||yf;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||qt;s=yf;var u=qt;if(yf=a,(qt=l)&&!u)for(G=i;G!==null;)a=G,l=a.child,a.tag===22&&a.memoizedState!==null?bS(i):l!==null?(l.return=a,G=l):bS(i);for(;o!==null;)G=o,tC(o),o=o.sibling;G=i,yf=s,qt=u}wS(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,G=o):wS(e)}}function wS(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qt||rp(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:or(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&iS(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iS(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&hu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}qt||t.flags&512&&Kv(t)}catch(h){Ke(t,t.return,h)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function ES(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function bS(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rp(4,t)}catch(l){Ke(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ke(t,i,l)}}var o=t.return;try{Kv(t)}catch(l){Ke(t,o,l)}break;case 5:var a=t.return;try{Kv(t)}catch(l){Ke(t,a,l)}}}catch(l){Ke(t,t.return,l)}if(t===e){G=null;break}var s=t.sibling;if(s!==null){s.return=t.return,G=s;break}G=t.return}}var _4=Math.ceil,Md=Pi.ReactCurrentDispatcher,u_=Pi.ReactCurrentOwner,Qn=Pi.ReactCurrentBatchConfig,ve=0,Et=null,nt=null,Nt=0,xn=0,ts=To(0),ut=0,Pu=null,aa=0,ip=0,c_=0,Zl=null,gn=null,f_=0,bs=1/0,Kr=null,Ld=!1,Qv=null,io=null,_f=!1,Yi=null,jd=0,eu=0,Yv=null,Zf=-1,ed=0;function ln(){return ve&6?Je():Zf!==-1?Zf:Zf=Je()}function oo(e){return e.mode&1?ve&2&&Nt!==0?Nt&-Nt:n4.transition!==null?(ed===0&&(ed=$I()),ed):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:KI(e.type)),e):1}function dr(e,t,n,r){if(50<eu)throw eu=0,Yv=null,Error(H(185));tc(e,n,r),(!(ve&2)||e!==Et)&&(e===Et&&(!(ve&2)&&(ip|=n),ut===4&&Bi(e,Nt)),Sn(e,r),n===1&&ve===0&&!(t.mode&1)&&(bs=Je()+500,ep&&Ao()))}function Sn(e,t){var n=e.callbackNode;n$(e,t);var r=wd(e,e===Et?Nt:0);if(r===0)n!==null&&Ob(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ob(n),t===1)e.tag===0?t4(SS.bind(null,e)):fk(SS.bind(null,e)),X$(function(){!(ve&6)&&Ao()}),n=null;else{switch(UI(r)){case 1:n=j0;break;case 4:n=jI;break;case 16:n=_d;break;case 536870912:n=VI;break;default:n=_d}n=uC(n,nC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nC(e,t){if(Zf=-1,ed=0,ve&6)throw Error(H(327));var n=e.callbackNode;if(us()&&e.callbackNode!==n)return null;var r=wd(e,e===Et?Nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vd(e,r);else{t=r;var i=ve;ve|=2;var o=iC();(Et!==e||Nt!==t)&&(Kr=null,bs=Je()+500,Yo(e,t));do try{b4();break}catch(s){rC(e,s)}while(1);Y0(),Md.current=o,ve=i,nt!==null?t=0:(Et=null,Nt=0,t=ut)}if(t!==0){if(t===2&&(i=Sv(e),i!==0&&(r=i,t=Xv(e,i))),t===1)throw n=Pu,Yo(e,0),Bi(e,r),Sn(e,Je()),n;if(t===6)Bi(e,r);else{if(i=e.current.alternate,!(r&30)&&!w4(i)&&(t=Vd(e,r),t===2&&(o=Sv(e),o!==0&&(r=o,t=Xv(e,o))),t===1))throw n=Pu,Yo(e,0),Bi(e,r),Sn(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:jo(e,gn,Kr);break;case 3:if(Bi(e,r),(r&130023424)===r&&(t=f_+500-Je(),10<t)){if(wd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ln(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ov(jo.bind(null,e,gn,Kr),t);break}jo(e,gn,Kr);break;case 4:if(Bi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-fr(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_4(r/1960))-r,10<r){e.timeoutHandle=Ov(jo.bind(null,e,gn,Kr),r);break}jo(e,gn,Kr);break;case 5:jo(e,gn,Kr);break;default:throw Error(H(329))}}}return Sn(e,Je()),e.callbackNode===n?nC.bind(null,e):null}function Xv(e,t){var n=Zl;return e.current.memoizedState.isDehydrated&&(Yo(e,t).flags|=256),e=Vd(e,t),e!==2&&(t=gn,gn=n,t!==null&&Jv(t)),e}function Jv(e){gn===null?gn=e:gn.push.apply(gn,e)}function w4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!mr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bi(e,t){for(t&=~c_,t&=~ip,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fr(t),r=1<<n;e[n]=-1,t&=~r}}function SS(e){if(ve&6)throw Error(H(327));us();var t=wd(e,0);if(!(t&1))return Sn(e,Je()),null;var n=Vd(e,t);if(e.tag!==0&&n===2){var r=Sv(e);r!==0&&(t=r,n=Xv(e,r))}if(n===1)throw n=Pu,Yo(e,0),Bi(e,t),Sn(e,Je()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jo(e,gn,Kr),Sn(e,Je()),null}function d_(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(bs=Je()+500,ep&&Ao())}}function sa(e){Yi!==null&&Yi.tag===0&&!(ve&6)&&us();var t=ve;ve|=1;var n=Qn.transition,r=Pe;try{if(Qn.transition=null,Pe=1,e)return e()}finally{Pe=r,Qn.transition=n,ve=t,!(ve&6)&&Ao()}}function h_(){xn=ts.current,Le(ts)}function Yo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Y$(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(q0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Td();break;case 3:ws(),Le(En),Le(Xt),n_();break;case 5:t_(r);break;case 4:ws();break;case 13:Le(Fe);break;case 19:Le(Fe);break;case 10:X0(r.type._context);break;case 22:case 23:h_()}n=n.return}if(Et=e,nt=e=ao(e.current,null),Nt=xn=t,ut=0,Pu=null,c_=ip=aa=0,gn=Zl=null,Bo!==null){for(t=0;t<Bo.length;t++)if(n=Bo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Bo=null}return e}function rC(e,t){do{var n=nt;try{if(Y0(),Yf.current=Dd,Nd){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nd=!1}if(oa=0,wt=st=ze=null,Xl=!1,Eu=0,u_.current=null,n===null||n.return===null){ut=1,Pu=t,nt=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Nt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=cS(a);if(p!==null){p.flags&=-257,fS(p,a,s,o,t),p.mode&1&&uS(o,u,t),t=p,l=u;var g=t.updateQueue;if(g===null){var _=new Set;_.add(l),t.updateQueue=_}else g.add(l);break e}else{if(!(t&1)){uS(o,u,t),p_();break e}l=Error(H(426))}}else if($e&&s.mode&1){var y=cS(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),fS(y,a,s,o,t),G0(Es(l,s));break e}}o=l=Es(l,s),ut!==4&&(ut=2),Zl===null?Zl=[o]:Zl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=Uk(o,l,t);rS(o,w);break e;case 1:s=l;var b=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(io===null||!io.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var I=Fk(o,s,t);rS(o,I);break e}}o=o.return}while(o!==null)}aC(n)}catch(O){t=O,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(1)}function iC(){var e=Md.current;return Md.current=Dd,e===null?Dd:e}function p_(){(ut===0||ut===3||ut===2)&&(ut=4),Et===null||!(aa&268435455)&&!(ip&268435455)||Bi(Et,Nt)}function Vd(e,t){var n=ve;ve|=2;var r=iC();(Et!==e||Nt!==t)&&(Kr=null,Yo(e,t));do try{E4();break}catch(i){rC(e,i)}while(1);if(Y0(),ve=n,Md.current=r,nt!==null)throw Error(H(261));return Et=null,Nt=0,ut}function E4(){for(;nt!==null;)oC(nt)}function b4(){for(;nt!==null&&!qV();)oC(nt)}function oC(e){var t=lC(e.alternate,e,xn);e.memoizedProps=e.pendingProps,t===null?aC(e):nt=t,u_.current=null}function aC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=m4(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,nt=null;return}}else if(n=p4(n,t,xn),n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);ut===0&&(ut=5)}function jo(e,t,n){var r=Pe,i=Qn.transition;try{Qn.transition=null,Pe=1,S4(e,t,n,r)}finally{Qn.transition=i,Pe=r}return null}function S4(e,t,n,r){do us();while(Yi!==null);if(ve&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(r$(e,o),e===Et&&(nt=Et=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_f||(_f=!0,uC(_d,function(){return us(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qn.transition,Qn.transition=null;var a=Pe;Pe=1;var s=ve;ve|=4,u_.current=null,v4(e,n),eC(n,e),B$(kv),Ed=!!Iv,kv=Iv=null,e.current=n,y4(n),GV(),ve=s,Pe=a,Qn.transition=o}else e.current=n;if(_f&&(_f=!1,Yi=e,jd=i),o=e.pendingLanes,o===0&&(io=null),XV(n.stateNode),Sn(e,Je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ld)throw Ld=!1,e=Qv,Qv=null,e;return jd&1&&e.tag!==0&&us(),o=e.pendingLanes,o&1?e===Yv?eu++:(eu=0,Yv=e):eu=0,Ao(),null}function us(){if(Yi!==null){var e=UI(jd),t=Qn.transition,n=Pe;try{if(Qn.transition=null,Pe=16>e?16:e,Yi===null)var r=!1;else{if(e=Yi,Yi=null,jd=0,ve&6)throw Error(H(331));var i=ve;for(ve|=4,G=e.current;G!==null;){var o=G,a=o.child;if(G.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(G=u;G!==null;){var c=G;switch(c.tag){case 0:case 11:case 15:Jl(8,c,o)}var d=c.child;if(d!==null)d.return=c,G=d;else for(;G!==null;){c=G;var h=c.sibling,p=c.return;if(Xk(c),c===u){G=null;break}if(h!==null){h.return=p,G=h;break}G=p}}}var g=o.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var y=_.sibling;_.sibling=null,_=y}while(_!==null)}}G=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,G=a;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Jl(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,G=w;break e}G=o.return}}var b=e.current;for(G=b;G!==null;){a=G;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,G=S;else e:for(a=b;G!==null;){if(s=G,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:rp(9,s)}}catch(O){Ke(s,s.return,O)}if(s===a){G=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,G=I;break e}G=s.return}}if(ve=i,Ao(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(Qh,e)}catch{}r=!0}return r}finally{Pe=n,Qn.transition=t}}return!1}function PS(e,t,n){t=Es(n,t),t=Uk(e,t,1),e=ro(e,t,1),t=ln(),e!==null&&(tc(e,1,t),Sn(e,t))}function Ke(e,t,n){if(e.tag===3)PS(e,e,n);else for(;t!==null;){if(t.tag===3){PS(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(io===null||!io.has(r))){e=Es(n,e),e=Fk(t,e,1),t=ro(t,e,1),e=ln(),t!==null&&(tc(t,1,e),Sn(t,e));break}}t=t.return}}function P4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ln(),e.pingedLanes|=e.suspendedLanes&n,Et===e&&(Nt&n)===n&&(ut===4||ut===3&&(Nt&130023424)===Nt&&500>Je()-f_?Yo(e,0):c_|=n),Sn(e,t)}function sC(e,t){t===0&&(e.mode&1?(t=uf,uf<<=1,!(uf&130023424)&&(uf=4194304)):t=1);var n=ln();e=fi(e,t),e!==null&&(tc(e,t,n),Sn(e,n))}function T4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sC(e,n)}function A4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),sC(e,n)}var lC;lC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||En.current)_n=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _n=!1,h4(e,t,n);_n=!!(e.flags&131072)}else _n=!1,$e&&t.flags&1048576&&dk(t,Id,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jf(e,t),e=t.pendingProps;var i=vs(t,Xt.current);ls(t,n),i=i_(null,t,r,e,i,n);var o=o_();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bn(r)?(o=!0,Ad(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Z0(t),i.updater=np,t.stateNode=i,i._reactInternals=t,Vv(t,r,e,n),t=Fv(null,t,r,!0,o,n)):(t.tag=0,$e&&o&&K0(t),an(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jf(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=I4(r),e=or(r,e),i){case 0:t=Uv(null,t,r,e,n);break e;case 1:t=pS(null,t,r,e,n);break e;case 11:t=dS(null,t,r,e,n);break e;case 14:t=hS(null,t,r,or(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:or(r,i),Uv(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:or(r,i),pS(e,t,r,i,n);case 3:e:{if(Hk(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,i=o.element,yk(e,t),Od(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Es(Error(H(423)),t),t=mS(e,t,r,n,i);break e}else if(r!==i){i=Es(Error(H(424)),t),t=mS(e,t,r,n,i);break e}else for(Cn=no(t.stateNode.containerInfo.firstChild),Dn=t,$e=!0,sr=null,n=gk(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ys(),r===i){t=di(e,t,n);break e}an(e,t,r,n)}t=t.child}return t;case 5:return _k(t),e===null&&Mv(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Cv(r,i)?a=null:o!==null&&Cv(r,o)&&(t.flags|=32),Wk(e,t),an(e,t,a,n),t.child;case 6:return e===null&&Mv(t),null;case 13:return Kk(e,t,n);case 4:return e_(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_s(t,null,r,n):an(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:or(r,i),dS(e,t,r,i,n);case 7:return an(e,t,t.pendingProps,n),t.child;case 8:return an(e,t,t.pendingProps.children,n),t.child;case 12:return an(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ce(kd,r._currentValue),r._currentValue=a,o!==null)if(mr(o.value,a)){if(o.children===i.children&&!En.current){t=di(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=oi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lv(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(H(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Lv(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}an(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ls(t,n),i=Xn(i),r=r(i),t.flags|=1,an(e,t,r,n),t.child;case 14:return r=t.type,i=or(r,t.pendingProps),i=or(r.type,i),hS(e,t,r,i,n);case 15:return zk(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:or(r,i),Jf(e,t),t.tag=1,bn(r)?(e=!0,Ad(t)):e=!1,ls(t,n),$k(t,r,i),Vv(t,r,i,n),Fv(null,t,r,!0,e,n);case 19:return qk(e,t,n);case 22:return Bk(e,t,n)}throw Error(H(156,t.tag))};function uC(e,t){return LI(e,t)}function x4(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(e,t,n,r){return new x4(e,t,n,r)}function m_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function I4(e){if(typeof e=="function")return m_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===D0)return 11;if(e===M0)return 14}return 2}function ao(e,t){var n=e.alternate;return n===null?(n=Kn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function td(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")m_(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ha:return Xo(n.children,i,o,t);case N0:a=8,i|=8;break;case lv:return e=Kn(12,n,t,i|2),e.elementType=lv,e.lanes=o,e;case uv:return e=Kn(13,n,t,i),e.elementType=uv,e.lanes=o,e;case cv:return e=Kn(19,n,t,i),e.elementType=cv,e.lanes=o,e;case _I:return op(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vI:a=10;break e;case yI:a=9;break e;case D0:a=11;break e;case M0:a=14;break e;case Vi:a=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Kn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Xo(e,t,n,r){return e=Kn(7,e,r,t),e.lanes=n,e}function op(e,t,n,r){return e=Kn(22,e,r,t),e.elementType=_I,e.lanes=n,e.stateNode={isHidden:!1},e}function wg(e,t,n){return e=Kn(6,e,null,t),e.lanes=n,e}function Eg(e,t,n){return t=Kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function k4(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tg(0),this.expirationTimes=tg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function g_(e,t,n,r,i,o,a,s,l){return e=new k4(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Kn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z0(o),e}function C4(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cC(e){if(!e)return mo;e=e._reactInternals;e:{if(Ea(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(bn(n))return ck(e,n,t)}return t}function fC(e,t,n,r,i,o,a,s,l){return e=g_(n,r,!0,e,i,o,a,s,l),e.context=cC(null),n=e.current,r=ln(),i=oo(n),o=oi(r,i),o.callback=t??null,ro(n,o,i),e.current.lanes=i,tc(e,i,r),Sn(e,r),e}function ap(e,t,n,r){var i=t.current,o=ln(),a=oo(i);return n=cC(n),t.context===null?t.context=n:t.pendingContext=n,t=oi(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ro(i,t,a),e!==null&&(dr(e,i,a,o),Qf(e,i,a)),a}function $d(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function TS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function v_(e,t){TS(e,t),(e=e.alternate)&&TS(e,t)}function O4(){return null}var dC=typeof reportError=="function"?reportError:function(e){console.error(e)};function y_(e){this._internalRoot=e}sp.prototype.render=y_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));ap(e,t,null,null)};sp.prototype.unmount=y_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sa(function(){ap(null,e,null,null)}),t[ci]=null}};function sp(e){this._internalRoot=e}sp.prototype.unstable_scheduleHydration=function(e){if(e){var t=BI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zi.length&&t!==0&&t<zi[n].priority;n++);zi.splice(n,0,e),n===0&&HI(e)}};function __(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function AS(){}function R4(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=$d(a);o.call(u)}}var a=fC(t,r,e,0,null,!1,!1,"",AS);return e._reactRootContainer=a,e[ci]=a.current,gu(e.nodeType===8?e.parentNode:e),sa(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=$d(l);s.call(u)}}var l=g_(e,0,!1,null,null,!1,!1,"",AS);return e._reactRootContainer=l,e[ci]=l.current,gu(e.nodeType===8?e.parentNode:e),sa(function(){ap(t,l,n,r)}),l}function up(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=$d(a);s.call(l)}}ap(t,a,e,i)}else a=R4(n,t,e,i,r);return $d(a)}FI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vl(t.pendingLanes);n!==0&&(V0(t,n|1),Sn(t,Je()),!(ve&6)&&(bs=Je()+500,Ao()))}break;case 13:sa(function(){var r=fi(e,1);if(r!==null){var i=ln();dr(r,e,1,i)}}),v_(e,1)}};$0=function(e){if(e.tag===13){var t=fi(e,134217728);if(t!==null){var n=ln();dr(t,e,134217728,n)}v_(e,134217728)}};zI=function(e){if(e.tag===13){var t=oo(e),n=fi(e,t);if(n!==null){var r=ln();dr(n,e,t,r)}v_(e,t)}};BI=function(){return Pe};WI=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};wv=function(e,t,n){switch(t){case"input":if(hv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Zh(r);if(!i)throw Error(H(90));EI(r),hv(r,i)}}}break;case"textarea":SI(e,n);break;case"select":t=n.value,t!=null&&is(e,!!n.multiple,t,!1)}};CI=d_;OI=sa;var N4={usingClientEntryPoint:!1,Events:[rc,Qa,Zh,II,kI,d_]},Al={findFiberByHostInstance:zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D4={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=DI(e),e===null?null:e.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||O4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{Qh=wf.inject(D4),kr=wf}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N4;Vn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!__(t))throw Error(H(200));return C4(e,t,null,n)};Vn.createRoot=function(e,t){if(!__(e))throw Error(H(299));var n=!1,r="",i=dC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=g_(e,1,!1,null,null,n,!1,r,i),e[ci]=t.current,gu(e.nodeType===8?e.parentNode:e),new y_(t)};Vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=DI(t),e=e===null?null:e.stateNode,e};Vn.flushSync=function(e){return sa(e)};Vn.hydrate=function(e,t,n){if(!lp(t))throw Error(H(200));return up(null,e,t,!0,n)};Vn.hydrateRoot=function(e,t,n){if(!__(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=dC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=fC(t,null,e,1,n??null,i,!1,o,a),e[ci]=t.current,gu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sp(t)};Vn.render=function(e,t,n){if(!lp(t))throw Error(H(200));return up(null,e,t,!1,n)};Vn.unmountComponentAtNode=function(e){if(!lp(e))throw Error(H(40));return e._reactRootContainer?(sa(function(){up(null,null,e,!1,function(){e._reactRootContainer=null,e[ci]=null})}),!0):!1};Vn.unstable_batchedUpdates=d_;Vn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!lp(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return up(e,t,n,!1,r)};Vn.version="18.3.1-next-f1338f8080-20240426";function hC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hC)}catch(e){console.error(e)}}hC(),hI.exports=Vn;var cp=hI.exports,pC,xS=cp;pC=xS.createRoot,xS.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tu(){return Tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tu.apply(this,arguments)}var Xi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xi||(Xi={}));const IS="popstate";function M4(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return Zv("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ud(i)}return j4(t,n,null,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function w_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function L4(){return Math.random().toString(36).substr(2,8)}function kS(e,t){return{usr:e.state,key:e.key,idx:t}}function Zv(e,t,n,r){return n===void 0&&(n=null),Tu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ws(t):t,{state:n,key:t&&t.key||r||L4()})}function Ud(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ws(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function j4(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Xi.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Tu({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){s=Xi.Pop;let y=c(),w=y==null?null:y-u;u=y,l&&l({action:s,location:_.location,delta:w})}function h(y,w){s=Xi.Push;let b=Zv(_.location,y,w);n&&n(b,y),u=c()+1;let S=kS(b,u),I=_.createHref(b);try{a.pushState(S,"",I)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(I)}o&&l&&l({action:s,location:_.location,delta:1})}function p(y,w){s=Xi.Replace;let b=Zv(_.location,y,w);n&&n(b,y),u=c();let S=kS(b,u),I=_.createHref(b);a.replaceState(S,"",I),o&&l&&l({action:s,location:_.location,delta:0})}function g(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:Ud(y);return b=b.replace(/ $/,"%20"),it(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let _={get action(){return s},get location(){return e(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(IS,d),l=y,()=>{i.removeEventListener(IS,d),l=null}},createHref(y){return t(i,y)},createURL:g,encodeLocation(y){let w=g(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(y){return a.go(y)}};return _}var CS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(CS||(CS={}));function V4(e,t,n){return n===void 0&&(n="/"),$4(e,t,n,!1)}function $4(e,t,n,r){let i=typeof t=="string"?Ws(t):t,o=E_(i.pathname||"/",n);if(o==null)return null;let a=mC(e);U4(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=X4(o);s=Q4(a[l],u,r)}return s}function mC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(it(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=so([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(it(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mC(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:q4(u,o.index),routesMeta:c})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of gC(o.path))i(o,a,l)}),t}function gC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=gC(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function U4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:G4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const F4=/^:[\w-]+$/,z4=3,B4=2,W4=1,H4=10,K4=-2,OS=e=>e==="*";function q4(e,t){let n=e.split("/"),r=n.length;return n.some(OS)&&(r+=K4),t&&(r+=B4),n.filter(i=>!OS(i)).reduce((i,o)=>i+(F4.test(o)?z4:o===""?W4:H4),r)}function G4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Q4(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",d=RS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=RS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:so([o,d.pathname]),pathnameBase:nU(so([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=so([o,d.pathnameBase]))}return a}function RS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Y4(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let _=s[d]||"";a=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const g=s[d];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function Y4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),w_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function X4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return w_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function E_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const J4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z4=e=>J4.test(e);function eU(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ws(e):e,o;if(n)if(Z4(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),w_(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=NS(n.substring(1),"/"):o=NS(n,t)}else o=t;return{pathname:o,search:rU(r),hash:iU(i)}}function NS(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vC(e,t){let n=tU(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function yC(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ws(e):(i=Tu({},e),it(!i.pathname||!i.pathname.includes("?"),bg("?","pathname","search",i)),it(!i.pathname||!i.pathname.includes("#"),bg("#","pathname","hash",i)),it(!i.search||!i.search.includes("#"),bg("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?t[d]:"/"}let l=eU(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const so=e=>e.join("/").replace(/\/\/+/g,"/"),nU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _C=["post","put","patch","delete"];new Set(_C);const aU=["get",..._C];new Set(aU);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Au.apply(this,arguments)}const b_=v.createContext(null),sU=v.createContext(null),ba=v.createContext(null),fp=v.createContext(null),Sa=v.createContext({outlet:null,matches:[],isDataRoute:!1}),wC=v.createContext(null);function lU(e,t){let{relative:n}=t===void 0?{}:t;oc()||it(!1);let{basename:r,navigator:i}=v.useContext(ba),{hash:o,pathname:a,search:s}=SC(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:so([r,a])),i.createHref({pathname:l,search:s,hash:o})}function oc(){return v.useContext(fp)!=null}function Pa(){return oc()||it(!1),v.useContext(fp).location}function EC(e){v.useContext(ba).static||v.useLayoutEffect(e)}function bC(){let{isDataRoute:e}=v.useContext(Sa);return e?EU():uU()}function uU(){oc()||it(!1);let e=v.useContext(b_),{basename:t,future:n,navigator:r}=v.useContext(ba),{matches:i}=v.useContext(Sa),{pathname:o}=Pa(),a=JSON.stringify(vC(i,n.v7_relativeSplatPath)),s=v.useRef(!1);return EC(()=>{s.current=!0}),v.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let d=yC(u,JSON.parse(a),o,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:so([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,a,o,e])}function SC(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=v.useContext(ba),{matches:i}=v.useContext(Sa),{pathname:o}=Pa(),a=JSON.stringify(vC(i,r.v7_relativeSplatPath));return v.useMemo(()=>yC(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function cU(e,t){return fU(e,t)}function fU(e,t,n,r){oc()||it(!1);let{navigator:i}=v.useContext(ba),{matches:o}=v.useContext(Sa),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Pa(),c;if(t){var d;let y=typeof t=="string"?Ws(t):t;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||it(!1),c=y}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=V4(e,{pathname:p}),_=gU(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:so([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:so([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return t&&_?v.createElement(fp.Provider,{value:{location:Au({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Xi.Pop}},_):_}function dU(){let e=wU(),t=oU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,o)}const hU=v.createElement(dU,null);class pU extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Sa.Provider,{value:this.props.routeContext},v.createElement(wC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mU(e){let{routeContext:t,match:n,children:r}=e,i=v.useContext(b_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Sa.Provider,{value:t},r)}function gU(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);c>=0||it(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,h)=>{let p,g=!1,_=null,y=null;n&&(p=s&&d.route.id?s[d.route.id]:void 0,_=d.route.errorElement||hU,l&&(u<0&&h===0?(bU("route-fallback",!1),g=!0,y=null):u===h&&(g=!0,y=d.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,h+1)),b=()=>{let S;return p?S=_:g?S=y:d.route.Component?S=v.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=c,v.createElement(mU,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?v.createElement(pU,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var PC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(PC||{}),Fd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fd||{});function vU(e){let t=v.useContext(b_);return t||it(!1),t}function yU(e){let t=v.useContext(sU);return t||it(!1),t}function _U(e){let t=v.useContext(Sa);return t||it(!1),t}function TC(e){let t=_U(),n=t.matches[t.matches.length-1];return n.route.id||it(!1),n.route.id}function wU(){var e;let t=v.useContext(wC),n=yU(Fd.UseRouteError),r=TC(Fd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function EU(){let{router:e}=vU(PC.UseNavigateStable),t=TC(Fd.UseNavigateStable),n=v.useRef(!1);return EC(()=>{n.current=!0}),v.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Au({fromRouteId:t},o)))},[e,t])}const DS={};function bU(e,t,n){!t&&!DS[e]&&(DS[e]=!0)}function SU(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function ir(e){it(!1)}function PU(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Xi.Pop,navigator:o,static:a=!1,future:s}=e;oc()&&it(!1);let l=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:o,static:a,future:Au({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Ws(r));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:g="default"}=r,_=v.useMemo(()=>{let y=E_(c,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:g},navigationType:i}},[l,c,d,h,p,g,i]);return _==null?null:v.createElement(ba.Provider,{value:u},v.createElement(fp.Provider,{children:n,value:_}))}function TU(e){let{children:t,location:n}=e;return cU(ey(t),n)}new Promise(()=>{});function ey(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,i)=>{if(!v.isValidElement(r))return;let o=[...t,i];if(r.type===v.Fragment){n.push.apply(n,ey(r.props.children,o));return}r.type!==ir&&it(!1),!r.props.index||!r.props.children||it(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ey(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ty.apply(this,arguments)}function AU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function xU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IU(e,t){return e.button===0&&(!t||t==="_self")&&!xU(e)}const kU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CU="6";try{window.__reactRouterVersion=CU}catch{}const OU="startTransition",MS=dI[OU];function RU(e){let{basename:t,children:n,future:r,window:i}=e,o=v.useRef();o.current==null&&(o.current=M4({window:i,v5Compat:!0}));let a=o.current,[s,l]=v.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=v.useCallback(d=>{u&&MS?MS(()=>l(d)):l(d)},[l,u]);return v.useLayoutEffect(()=>a.listen(c),[a,c]),v.useEffect(()=>SU(r),[r]),v.createElement(PU,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const NU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AC=v.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,h=AU(t,kU),{basename:p}=v.useContext(ba),g,_=!1;if(typeof u=="string"&&DU.test(u)&&(g=u,NU))try{let S=new URL(window.location.href),I=u.startsWith("//")?new URL(S.protocol+u):new URL(u),O=E_(I.pathname,p);I.origin===S.origin&&O!=null?u=O+I.search+I.hash:_=!0}catch{}let y=lU(u,{relative:i}),w=MU(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});function b(S){r&&r(S),S.defaultPrevented||w(S)}return v.createElement("a",ty({},h,{href:g||y,onClick:_||o?r:b,ref:n,target:l}))});var LS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(LS||(LS={}));var jS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jS||(jS={}));function MU(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=t===void 0?{}:t,l=bC(),u=Pa(),c=SC(e,{relative:a});return v.useCallback(d=>{if(IU(d,n)){d.preventDefault();let h=r!==void 0?r:Ud(u)===Ud(c);l(e,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,e,o,a,s])}var xC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VS=k.createContext&&k.createContext(xC),LU=["attr","size","title"];function jU(e,t){if(e==null)return{};var n=VU(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VU(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zd.apply(this,arguments)}function $S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(n),!0).forEach(function(r){$U(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $U(e,t,n){return t=UU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UU(e){var t=FU(e,"string");return typeof t=="symbol"?t:t+""}function FU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IC(e){return e&&e.map((t,n)=>k.createElement(t.tag,Bd({key:n},t.attr),IC(t.child)))}function kC(e){return t=>k.createElement(zU,zd({attr:Bd({},e.attr)},t),IC(e.child))}function zU(e){var t=n=>{var{attr:r,size:i,title:o}=e,a=jU(e,LU),s=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),k.createElement("svg",zd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:Bd(Bd({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&k.createElement("title",null,o),e.children)};return VS!==void 0?k.createElement(VS.Consumer,null,n=>t(n)):t(xC)}function BU(e){return kC({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"},child:[]}]})(e)}function WU(e){return kC({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"},child:[]}]})(e)}/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),US=e=>{const t=KU(e);return t.charAt(0).toUpperCase()+t.slice(1)},CC=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),qU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>v.createElement("svg",{ref:l,...GU,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:CC("lucide",i),...!o&&!qU(s)&&{"aria-hidden":"true"},...s},[...a.map(([u,c])=>v.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=(e,t)=>{const n=v.forwardRef(({className:r,...i},o)=>v.createElement(QU,{ref:o,iconNode:t,className:CC(`lucide-${HU(US(e))}`,`lucide-${e}`,r),...i}));return n.displayName=US(e),n};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],XU=Ti("bell",YU);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],ZU=Ti("chart-no-axes-column",JU);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],tF=Ti("circle-plus",eF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],rF=Ti("flame",nF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],oF=Ti("folder-open",iF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],sF=Ti("house",aF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],uF=Ti("menu",lF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],fF=Ti("search",cF);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hF=Ti("user",dF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},pF=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],a=e[n++],s=e[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return t.join("")},RC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],a=i+1<e.length,s=a?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(OC(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):pF(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||s==null||u==null||d==null)throw new mF;const h=o<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gF=function(e){const t=OC(e);return RC.encodeByteArray(t,!0)},Wd=function(e){return gF(e).replace(/\./g,"")},NC=function(e){try{return RC.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=()=>vF().__FIREBASE_DEFAULTS__,_F=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},wF=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&NC(e[1]);return t&&JSON.parse(t)},dp=()=>{try{return yF()||_F()||wF()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},DC=e=>{var t,n;return(n=(t=dp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},MC=e=>{const t=DC(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},LC=()=>{var e;return(e=dp())===null||e===void 0?void 0:e.config},jC=e=>{var t;return(t=dp())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),s="";return[Wd(JSON.stringify(n)),Wd(JSON.stringify(a)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function SF(){var e;const t=(e=dp())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TF(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function AF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xF(){const e=Jt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function IF(){return!SF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kF(){try{return typeof indexedDB=="object"}catch{return!1}}function CF(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF="FirebaseError";class Br extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=OF,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],a=o?RF(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Br(i,s,r)}}function RF(e,t){return e.replace(NF,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const NF=/\{\$([^}]+)}/g;function DF(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Hd(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],a=t[i];if(FS(o)&&FS(a)){if(!Hd(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function FS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function MF(e,t){const n=new LF(e,t);return n.subscribe.bind(n)}class LF{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jF(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Sg),i.error===void 0&&(i.error=Sg),i.complete===void 0&&(i.complete=Sg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jF(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Sg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(e){return e&&e._delegate?e._delegate:e}class go{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VF=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new EF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(UF(t))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Vo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vo){return this.instances.has(t)}getOptions(t=Vo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&t(a,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$F(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Vo){return this.component?this.component.multipleInstances?t:Vo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $F(e){return e===Vo?void 0:e}function UF(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new VF(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(me||(me={}));const zF={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},BF=me.INFO,WF={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},HF=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=WF[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class S_{constructor(t){this.name=t,this._logLevel=BF,this._logHandler=HF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zF[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...t),this._logHandler(this,me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...t),this._logHandler(this,me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,me.INFO,...t),this._logHandler(this,me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,me.WARN,...t),this._logHandler(this,me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...t),this._logHandler(this,me.ERROR,...t)}}const KF=(e,t)=>t.some(n=>e instanceof n);let zS,BS;function qF(){return zS||(zS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GF(){return BS||(BS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $C=new WeakMap,ny=new WeakMap,UC=new WeakMap,Pg=new WeakMap,P_=new WeakMap;function QF(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(lo(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&$C.set(n,e)}).catch(()=>{}),P_.set(t,e),t}function YF(e){if(ny.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});ny.set(e,t)}let ry={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ny.get(e);if(t==="objectStoreNames")return e.objectStoreNames||UC.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function XF(e){ry=e(ry)}function JF(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Tg(this),t,...n);return UC.set(r,t.sort?t.sort():[t]),lo(r)}:GF().includes(e)?function(...t){return e.apply(Tg(this),t),lo($C.get(this))}:function(...t){return lo(e.apply(Tg(this),t))}}function ZF(e){return typeof e=="function"?JF(e):(e instanceof IDBTransaction&&YF(e),KF(e,qF())?new Proxy(e,ry):e)}function lo(e){if(e instanceof IDBRequest)return QF(e);if(Pg.has(e))return Pg.get(e);const t=ZF(e);return t!==e&&(Pg.set(e,t),P_.set(t,e)),t}const Tg=e=>P_.get(e);function ez(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=lo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(lo(a.result),l.oldVersion,l.newVersion,lo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const tz=["get","getKey","getAll","getAllKeys","count"],nz=["put","add","delete","clear"],Ag=new Map;function WS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ag.get(t))return Ag.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=nz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tz.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Ag.set(t,o),o}XF(e=>({...e,get:(t,n,r)=>WS(t,n)||e.get(t,n,r),has:(t,n)=>!!WS(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iz(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const iy="@firebase/app",HS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new S_("@firebase/app"),oz="@firebase/app-compat",az="@firebase/analytics-compat",sz="@firebase/analytics",lz="@firebase/app-check-compat",uz="@firebase/app-check",cz="@firebase/auth",fz="@firebase/auth-compat",dz="@firebase/database",hz="@firebase/data-connect",pz="@firebase/database-compat",mz="@firebase/functions",gz="@firebase/functions-compat",vz="@firebase/installations",yz="@firebase/installations-compat",_z="@firebase/messaging",wz="@firebase/messaging-compat",Ez="@firebase/performance",bz="@firebase/performance-compat",Sz="@firebase/remote-config",Pz="@firebase/remote-config-compat",Tz="@firebase/storage",Az="@firebase/storage-compat",xz="@firebase/firestore",Iz="@firebase/vertexai-preview",kz="@firebase/firestore-compat",Cz="firebase",Oz="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="[DEFAULT]",Rz={[iy]:"fire-core",[oz]:"fire-core-compat",[sz]:"fire-analytics",[az]:"fire-analytics-compat",[uz]:"fire-app-check",[lz]:"fire-app-check-compat",[cz]:"fire-auth",[fz]:"fire-auth-compat",[dz]:"fire-rtdb",[hz]:"fire-data-connect",[pz]:"fire-rtdb-compat",[mz]:"fire-fn",[gz]:"fire-fn-compat",[vz]:"fire-iid",[yz]:"fire-iid-compat",[_z]:"fire-fcm",[wz]:"fire-fcm-compat",[Ez]:"fire-perf",[bz]:"fire-perf-compat",[Sz]:"fire-rc",[Pz]:"fire-rc-compat",[Tz]:"fire-gcs",[Az]:"fire-gcs-compat",[xz]:"fire-fst",[kz]:"fire-fst-compat",[Iz]:"fire-vertex","fire-js":"fire-js",[Cz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new Map,Nz=new Map,ay=new Map;function KS(e,t){try{e.container.addComponent(t)}catch(n){hi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function la(e){const t=e.name;if(ay.has(t))return hi.debug(`There were multiple attempts to register component ${t}.`),!1;ay.set(t,e);for(const n of xu.values())KS(n,e);for(const n of Nz.values())KS(n,e);return!0}function hp(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ar(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new ac("app","Firebase",Dz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=Oz;function T_(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:oy,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw uo.create("bad-app-name",{appName:String(i)});if(n||(n=LC()),!n)throw uo.create("no-options");const o=xu.get(i);if(o){if(Hd(n,o.options)&&Hd(r,o.config))return o;throw uo.create("duplicate-app",{appName:i})}const a=new FF(i);for(const l of ay.values())a.addComponent(l);const s=new Mz(n,r,a);return xu.set(i,s),s}function pp(e=oy){const t=xu.get(e);if(!t&&e===oy&&LC())return T_();if(!t)throw uo.create("no-app",{appName:e});return t}function sy(){return Array.from(xu.values())}function Or(e,t,n){var r;let i=(r=Rz[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${t}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hi.warn(s.join(" "));return}la(new go(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="firebase-heartbeat-database",jz=1,Iu="firebase-heartbeat-store";let xg=null;function FC(){return xg||(xg=ez(Lz,jz,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Iu)}catch(n){console.warn(n)}}}}).catch(e=>{throw uo.create("idb-open",{originalErrorMessage:e.message})})),xg}async function Vz(e){try{const n=(await FC()).transaction(Iu),r=await n.objectStore(Iu).get(zC(e));return await n.done,r}catch(t){if(t instanceof Br)hi.warn(t.message);else{const n=uo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});hi.warn(n.message)}}}async function qS(e,t){try{const r=(await FC()).transaction(Iu,"readwrite");await r.objectStore(Iu).put(t,zC(e)),await r.done}catch(n){if(n instanceof Br)hi.warn(n.message);else{const r=uo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(r.message)}}}function zC(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z=1024,Uz=30*24*60*60*1e3;class Fz{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=GS();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=Uz}),this._storage.overwrite(this._heartbeatsCache))}catch(r){hi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=GS(),{heartbeatsToSend:r,unsentEntries:i}=zz(this._heartbeatsCache.heartbeats),o=Wd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return hi.warn(n),""}}}function GS(){return new Date().toISOString().substring(0,10)}function zz(e,t=$z){const n=[];let r=e.slice();for(const i of e){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),QS(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QS(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Bz{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kF()?CF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Vz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function QS(e){return Wd(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wz(e){la(new go("platform-logger",t=>new rz(t),"PRIVATE")),la(new go("heartbeat",t=>new Fz(t),"PRIVATE")),Or(iy,HS,e),Or(iy,HS,"esm2017"),Or("fire-js","")}Wz("");var Hz="firebase",Kz="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(Hz,Kz,"app");var YS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jo,BC;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,P){function x(){}x.prototype=P.prototype,T.D=P.prototype,T.prototype=new x,T.prototype.constructor=T,T.C=function(R,C,D){for(var N=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)N[Z-2]=arguments[Z];return P.prototype[C].apply(R,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,P,x){x||(x=0);var R=Array(16);if(typeof P=="string")for(var C=0;16>C;++C)R[C]=P.charCodeAt(x++)|P.charCodeAt(x++)<<8|P.charCodeAt(x++)<<16|P.charCodeAt(x++)<<24;else for(C=0;16>C;++C)R[C]=P[x++]|P[x++]<<8|P[x++]<<16|P[x++]<<24;P=T.g[0],x=T.g[1],C=T.g[2];var D=T.g[3],N=P+(D^x&(C^D))+R[0]+3614090360&4294967295;P=x+(N<<7&4294967295|N>>>25),N=D+(C^P&(x^C))+R[1]+3905402710&4294967295,D=P+(N<<12&4294967295|N>>>20),N=C+(x^D&(P^x))+R[2]+606105819&4294967295,C=D+(N<<17&4294967295|N>>>15),N=x+(P^C&(D^P))+R[3]+3250441966&4294967295,x=C+(N<<22&4294967295|N>>>10),N=P+(D^x&(C^D))+R[4]+4118548399&4294967295,P=x+(N<<7&4294967295|N>>>25),N=D+(C^P&(x^C))+R[5]+1200080426&4294967295,D=P+(N<<12&4294967295|N>>>20),N=C+(x^D&(P^x))+R[6]+2821735955&4294967295,C=D+(N<<17&4294967295|N>>>15),N=x+(P^C&(D^P))+R[7]+4249261313&4294967295,x=C+(N<<22&4294967295|N>>>10),N=P+(D^x&(C^D))+R[8]+1770035416&4294967295,P=x+(N<<7&4294967295|N>>>25),N=D+(C^P&(x^C))+R[9]+2336552879&4294967295,D=P+(N<<12&4294967295|N>>>20),N=C+(x^D&(P^x))+R[10]+4294925233&4294967295,C=D+(N<<17&4294967295|N>>>15),N=x+(P^C&(D^P))+R[11]+2304563134&4294967295,x=C+(N<<22&4294967295|N>>>10),N=P+(D^x&(C^D))+R[12]+1804603682&4294967295,P=x+(N<<7&4294967295|N>>>25),N=D+(C^P&(x^C))+R[13]+4254626195&4294967295,D=P+(N<<12&4294967295|N>>>20),N=C+(x^D&(P^x))+R[14]+2792965006&4294967295,C=D+(N<<17&4294967295|N>>>15),N=x+(P^C&(D^P))+R[15]+1236535329&4294967295,x=C+(N<<22&4294967295|N>>>10),N=P+(C^D&(x^C))+R[1]+4129170786&4294967295,P=x+(N<<5&4294967295|N>>>27),N=D+(x^C&(P^x))+R[6]+3225465664&4294967295,D=P+(N<<9&4294967295|N>>>23),N=C+(P^x&(D^P))+R[11]+643717713&4294967295,C=D+(N<<14&4294967295|N>>>18),N=x+(D^P&(C^D))+R[0]+3921069994&4294967295,x=C+(N<<20&4294967295|N>>>12),N=P+(C^D&(x^C))+R[5]+3593408605&4294967295,P=x+(N<<5&4294967295|N>>>27),N=D+(x^C&(P^x))+R[10]+38016083&4294967295,D=P+(N<<9&4294967295|N>>>23),N=C+(P^x&(D^P))+R[15]+3634488961&4294967295,C=D+(N<<14&4294967295|N>>>18),N=x+(D^P&(C^D))+R[4]+3889429448&4294967295,x=C+(N<<20&4294967295|N>>>12),N=P+(C^D&(x^C))+R[9]+568446438&4294967295,P=x+(N<<5&4294967295|N>>>27),N=D+(x^C&(P^x))+R[14]+3275163606&4294967295,D=P+(N<<9&4294967295|N>>>23),N=C+(P^x&(D^P))+R[3]+4107603335&4294967295,C=D+(N<<14&4294967295|N>>>18),N=x+(D^P&(C^D))+R[8]+1163531501&4294967295,x=C+(N<<20&4294967295|N>>>12),N=P+(C^D&(x^C))+R[13]+2850285829&4294967295,P=x+(N<<5&4294967295|N>>>27),N=D+(x^C&(P^x))+R[2]+4243563512&4294967295,D=P+(N<<9&4294967295|N>>>23),N=C+(P^x&(D^P))+R[7]+1735328473&4294967295,C=D+(N<<14&4294967295|N>>>18),N=x+(D^P&(C^D))+R[12]+2368359562&4294967295,x=C+(N<<20&4294967295|N>>>12),N=P+(x^C^D)+R[5]+4294588738&4294967295,P=x+(N<<4&4294967295|N>>>28),N=D+(P^x^C)+R[8]+2272392833&4294967295,D=P+(N<<11&4294967295|N>>>21),N=C+(D^P^x)+R[11]+1839030562&4294967295,C=D+(N<<16&4294967295|N>>>16),N=x+(C^D^P)+R[14]+4259657740&4294967295,x=C+(N<<23&4294967295|N>>>9),N=P+(x^C^D)+R[1]+2763975236&4294967295,P=x+(N<<4&4294967295|N>>>28),N=D+(P^x^C)+R[4]+1272893353&4294967295,D=P+(N<<11&4294967295|N>>>21),N=C+(D^P^x)+R[7]+4139469664&4294967295,C=D+(N<<16&4294967295|N>>>16),N=x+(C^D^P)+R[10]+3200236656&4294967295,x=C+(N<<23&4294967295|N>>>9),N=P+(x^C^D)+R[13]+681279174&4294967295,P=x+(N<<4&4294967295|N>>>28),N=D+(P^x^C)+R[0]+3936430074&4294967295,D=P+(N<<11&4294967295|N>>>21),N=C+(D^P^x)+R[3]+3572445317&4294967295,C=D+(N<<16&4294967295|N>>>16),N=x+(C^D^P)+R[6]+76029189&4294967295,x=C+(N<<23&4294967295|N>>>9),N=P+(x^C^D)+R[9]+3654602809&4294967295,P=x+(N<<4&4294967295|N>>>28),N=D+(P^x^C)+R[12]+3873151461&4294967295,D=P+(N<<11&4294967295|N>>>21),N=C+(D^P^x)+R[15]+530742520&4294967295,C=D+(N<<16&4294967295|N>>>16),N=x+(C^D^P)+R[2]+3299628645&4294967295,x=C+(N<<23&4294967295|N>>>9),N=P+(C^(x|~D))+R[0]+4096336452&4294967295,P=x+(N<<6&4294967295|N>>>26),N=D+(x^(P|~C))+R[7]+1126891415&4294967295,D=P+(N<<10&4294967295|N>>>22),N=C+(P^(D|~x))+R[14]+2878612391&4294967295,C=D+(N<<15&4294967295|N>>>17),N=x+(D^(C|~P))+R[5]+4237533241&4294967295,x=C+(N<<21&4294967295|N>>>11),N=P+(C^(x|~D))+R[12]+1700485571&4294967295,P=x+(N<<6&4294967295|N>>>26),N=D+(x^(P|~C))+R[3]+2399980690&4294967295,D=P+(N<<10&4294967295|N>>>22),N=C+(P^(D|~x))+R[10]+4293915773&4294967295,C=D+(N<<15&4294967295|N>>>17),N=x+(D^(C|~P))+R[1]+2240044497&4294967295,x=C+(N<<21&4294967295|N>>>11),N=P+(C^(x|~D))+R[8]+1873313359&4294967295,P=x+(N<<6&4294967295|N>>>26),N=D+(x^(P|~C))+R[15]+4264355552&4294967295,D=P+(N<<10&4294967295|N>>>22),N=C+(P^(D|~x))+R[6]+2734768916&4294967295,C=D+(N<<15&4294967295|N>>>17),N=x+(D^(C|~P))+R[13]+1309151649&4294967295,x=C+(N<<21&4294967295|N>>>11),N=P+(C^(x|~D))+R[4]+4149444226&4294967295,P=x+(N<<6&4294967295|N>>>26),N=D+(x^(P|~C))+R[11]+3174756917&4294967295,D=P+(N<<10&4294967295|N>>>22),N=C+(P^(D|~x))+R[2]+718787259&4294967295,C=D+(N<<15&4294967295|N>>>17),N=x+(D^(C|~P))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+P&4294967295,T.g[1]=T.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+C&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,P){P===void 0&&(P=T.length);for(var x=P-this.blockSize,R=this.B,C=this.h,D=0;D<P;){if(C==0)for(;D<=x;)i(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<P;)if(R[C++]=T.charCodeAt(D++),C==this.blockSize){i(this,R),C=0;break}}else for(;D<P;)if(R[C++]=T[D++],C==this.blockSize){i(this,R),C=0;break}}this.h=C,this.o+=P},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var P=1;P<T.length-8;++P)T[P]=0;var x=8*this.o;for(P=T.length-8;P<T.length;++P)T[P]=x&255,x/=256;for(this.u(T),T=Array(16),P=x=0;4>P;++P)for(var R=0;32>R;R+=8)T[x++]=this.g[P]>>>R&255;return T};function o(T,P){var x=s;return Object.prototype.hasOwnProperty.call(x,T)?x[T]:x[T]=P(T)}function a(T,P){this.h=P;for(var x=[],R=!0,C=T.length-1;0<=C;C--){var D=T[C]|0;R&&D==P||(x[C]=D,R=!1)}this.g=x}var s={};function l(T){return-128<=T&&128>T?o(T,function(P){return new a([P|0],0>P?-1:0)}):new a([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return y(u(-T));for(var P=[],x=1,R=0;T>=x;R++)P[R]=T/x|0,x*=4294967296;return new a(P,0)}function c(T,P){if(T.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(T.charAt(0)=="-")return y(c(T.substring(1),P));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=u(Math.pow(P,8)),R=d,C=0;C<T.length;C+=8){var D=Math.min(8,T.length-C),N=parseInt(T.substring(C,C+D),P);8>D?(D=u(Math.pow(P,D)),R=R.j(D).add(u(N))):(R=R.j(x),R=R.add(u(N)))}return R}var d=l(0),h=l(1),p=l(16777216);e=a.prototype,e.m=function(){if(_(this))return-y(this).m();for(var T=0,P=1,x=0;x<this.g.length;x++){var R=this.i(x);T+=(0<=R?R:4294967296+R)*P,P*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(_(this))return"-"+y(this).toString(T);for(var P=u(Math.pow(T,6)),x=this,R="";;){var C=I(x,P).g;x=w(x,C.j(P));var D=((0<x.g.length?x.g[0]:x.h)>>>0).toString(T);if(x=C,g(x))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var P=0;P<T.g.length;P++)if(T.g[P]!=0)return!1;return!0}function _(T){return T.h==-1}e.l=function(T){return T=w(this,T),_(T)?-1:g(T)?0:1};function y(T){for(var P=T.g.length,x=[],R=0;R<P;R++)x[R]=~T.g[R];return new a(x,~T.h).add(h)}e.abs=function(){return _(this)?y(this):this},e.add=function(T){for(var P=Math.max(this.g.length,T.g.length),x=[],R=0,C=0;C<=P;C++){var D=R+(this.i(C)&65535)+(T.i(C)&65535),N=(D>>>16)+(this.i(C)>>>16)+(T.i(C)>>>16);R=N>>>16,D&=65535,N&=65535,x[C]=N<<16|D}return new a(x,x[x.length-1]&-2147483648?-1:0)};function w(T,P){return T.add(y(P))}e.j=function(T){if(g(this)||g(T))return d;if(_(this))return _(T)?y(this).j(y(T)):y(y(this).j(T));if(_(T))return y(this.j(y(T)));if(0>this.l(p)&&0>T.l(p))return u(this.m()*T.m());for(var P=this.g.length+T.g.length,x=[],R=0;R<2*P;R++)x[R]=0;for(R=0;R<this.g.length;R++)for(var C=0;C<T.g.length;C++){var D=this.i(R)>>>16,N=this.i(R)&65535,Z=T.i(C)>>>16,ce=T.i(C)&65535;x[2*R+2*C]+=N*ce,b(x,2*R+2*C),x[2*R+2*C+1]+=D*ce,b(x,2*R+2*C+1),x[2*R+2*C+1]+=N*Z,b(x,2*R+2*C+1),x[2*R+2*C+2]+=D*Z,b(x,2*R+2*C+2)}for(R=0;R<P;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=P;R<2*P;R++)x[R]=0;return new a(x,0)};function b(T,P){for(;(T[P]&65535)!=T[P];)T[P+1]+=T[P]>>>16,T[P]&=65535,P++}function S(T,P){this.g=T,this.h=P}function I(T,P){if(g(P))throw Error("division by zero");if(g(T))return new S(d,d);if(_(T))return P=I(y(T),P),new S(y(P.g),y(P.h));if(_(P))return P=I(T,y(P)),new S(y(P.g),P.h);if(30<T.g.length){if(_(T)||_(P))throw Error("slowDivide_ only works with positive integers.");for(var x=h,R=P;0>=R.l(T);)x=O(x),R=O(R);var C=M(x,1),D=M(R,1);for(R=M(R,2),x=M(x,2);!g(R);){var N=D.add(R);0>=N.l(T)&&(C=C.add(x),D=N),R=M(R,1),x=M(x,1)}return P=w(T,C.j(P)),new S(C,P)}for(C=d;0<=T.l(P);){for(x=Math.max(1,Math.floor(T.m()/P.m())),R=Math.ceil(Math.log(x)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(x),N=D.j(P);_(N)||0<N.l(T);)x-=R,D=u(x),N=D.j(P);g(D)&&(D=h),C=C.add(D),T=w(T,N)}return new S(C,T)}e.A=function(T){return I(this,T).h},e.and=function(T){for(var P=Math.max(this.g.length,T.g.length),x=[],R=0;R<P;R++)x[R]=this.i(R)&T.i(R);return new a(x,this.h&T.h)},e.or=function(T){for(var P=Math.max(this.g.length,T.g.length),x=[],R=0;R<P;R++)x[R]=this.i(R)|T.i(R);return new a(x,this.h|T.h)},e.xor=function(T){for(var P=Math.max(this.g.length,T.g.length),x=[],R=0;R<P;R++)x[R]=this.i(R)^T.i(R);return new a(x,this.h^T.h)};function O(T){for(var P=T.g.length+1,x=[],R=0;R<P;R++)x[R]=T.i(R)<<1|T.i(R-1)>>>31;return new a(x,T.h)}function M(T,P){var x=P>>5;P%=32;for(var R=T.g.length-x,C=[],D=0;D<R;D++)C[D]=0<P?T.i(D+x)>>>P|T.i(D+x+1)<<32-P:T.i(D+x);return new a(C,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,BC=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,Jo=a}).apply(typeof YS<"u"?YS:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WC,Ul,HC,nd,ly,KC,qC,GC;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,m,E){return f==Array.prototype||f==Object.prototype||(f[m]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var m=0;m<f.length;++m){var E=f[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(f,m){if(m)e:{var E=r;f=f.split(".");for(var A=0;A<f.length-1;A++){var L=f[A];if(!(L in E))break e;E=E[L]}f=f[f.length-1],A=E[f],m=m(A),m!=A&&m!=null&&t(E,f,{configurable:!0,writable:!0,value:m})}}function o(f,m){f instanceof String&&(f+="");var E=0,A=!1,L={next:function(){if(!A&&E<f.length){var j=E++;return{value:m(j,f[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(f){return f||function(){return o(this,function(m,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(f){var m=typeof f;return m=m!="object"?m:f?Array.isArray(f)?"array":m:"null",m=="array"||m=="object"&&typeof f.length=="number"}function u(f){var m=typeof f;return m=="object"&&f!=null||m=="function"}function c(f,m,E){return f.call.apply(f.bind,arguments)}function d(f,m,E){if(!f)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),f.apply(m,L)}}return function(){return f.apply(m,arguments)}}function h(f,m,E){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(f,m){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),f.apply(this,A)}}function g(f,m){function E(){}E.prototype=m.prototype,f.aa=m.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(A,L,j){for(var K=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)K[xe-2]=arguments[xe];return m.prototype[L].apply(A,K)}}function _(f){const m=f.length;if(0<m){const E=Array(m);for(let A=0;A<m;A++)E[A]=f[A];return E}return[]}function y(f,m){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(l(A)){const L=f.length||0,j=A.length||0;f.length=L+j;for(let K=0;K<j;K++)f[L+K]=A[K]}else f.push(A)}}class w{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function b(f){return/^[\s\xa0]*$/.test(f)}function S(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function I(f){return I[" "](f),f}I[" "]=function(){};var O=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function M(f,m,E){for(const A in f)m.call(E,f[A],A,f)}function T(f,m){for(const E in f)m.call(void 0,f[E],E,f)}function P(f){const m={};for(const E in f)m[E]=f[E];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(f,m){let E,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(E in A)f[E]=A[E];for(let j=0;j<x.length;j++)E=x[j],Object.prototype.hasOwnProperty.call(A,E)&&(f[E]=A[E])}}function C(f){var m=1;f=f.split(":");const E=[];for(;0<m&&f.length;)E.push(f.shift()),m--;return f.length&&E.push(f.join(":")),E}function D(f){s.setTimeout(()=>{throw f},0)}function N(){var f=B;let m=null;return f.g&&(m=f.g,f.g=f.g.next,f.g||(f.h=null),m.next=null),m}class Z{constructor(){this.h=this.g=null}add(m,E){const A=ce.get();A.set(m,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ce=new w(()=>new fe,f=>f.reset());class fe{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let se,z=!1,B=new Z,X=()=>{const f=s.Promise.resolve(void 0);se=()=>{f.then(le)}};var le=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(E){D(E)}var m=ce;m.j(f),100>m.h&&(m.h++,f.next=m.g,m.g=f)}z=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(f,m){this.type=f,this.g=this.target=m,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Qe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,m=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};s.addEventListener("test",E,m),s.removeEventListener("test",E,m)}catch{}return f}();function en(f,m){if(Ee.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,A=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=m,m=f.relatedTarget){if(O){e:{try{I(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else E=="mouseover"?m=f.fromElement:E=="mouseout"&&(m=f.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:tn[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&en.aa.h.call(this)}}g(en,Ee);var tn={2:"touch",3:"pen",4:"mouse"};en.prototype.h=function(){en.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),ol=0;function U(f,m,E,A,L){this.listener=f,this.proxy=null,this.src=m,this.type=E,this.capture=!!A,this.ha=L,this.key=++ol,this.da=this.fa=!1}function ae(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function de(f){this.src=f,this.g={},this.h=0}de.prototype.add=function(f,m,E,A,L){var j=f.toString();f=this.g[j],f||(f=this.g[j]=[],this.h++);var K=mt(f,m,A,L);return-1<K?(m=f[K],E||(m.fa=!1)):(m=new U(m,this.src,j,!!A,L),m.fa=E,f.push(m)),m};function W(f,m){var E=m.type;if(E in f.g){var A=f.g[E],L=Array.prototype.indexOf.call(A,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(A,L,1),j&&(ae(m),f.g[E].length==0&&(delete f.g[E],f.h--))}}function mt(f,m,E,A){for(var L=0;L<f.length;++L){var j=f[L];if(!j.da&&j.listener==m&&j.capture==!!E&&j.ha==A)return L}return-1}var be="closure_lm_"+(1e6*Math.random()|0),Tt={};function Vt(f,m,E,A,L){if(A&&A.once)return E1(f,m,E,A,L);if(Array.isArray(m)){for(var j=0;j<m.length;j++)Vt(f,m[j],E,A,L);return null}return E=Rm(E),f&&f[Oe]?f.K(m,E,u(A)?!!A.capture:!!A,L):wr(f,m,E,!1,A,L)}function wr(f,m,E,A,L,j){if(!m)throw Error("Invalid event type");var K=u(L)?!!L.capture:!!L,xe=Cm(f);if(xe||(f[be]=xe=new de(f)),E=xe.add(m,E,A,K,j),E.proxy)return E;if(A=Uc(),E.proxy=A,A.src=f,A.listener=E,f.addEventListener)Qe||(L=K),L===void 0&&(L=!1),f.addEventListener(m.toString(),A,L);else if(f.attachEvent)f.attachEvent(S1(m.toString()),A);else if(f.addListener&&f.removeListener)f.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Uc(){function f(E){return m.call(f.src,f.listener,E)}const m=Uj;return f}function E1(f,m,E,A,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)E1(f,m[j],E,A,L);return null}return E=Rm(E),f&&f[Oe]?f.L(m,E,u(A)?!!A.capture:!!A,L):wr(f,m,E,!0,A,L)}function b1(f,m,E,A,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)b1(f,m[j],E,A,L);else A=u(A)?!!A.capture:!!A,E=Rm(E),f&&f[Oe]?(f=f.i,m=String(m).toString(),m in f.g&&(j=f.g[m],E=mt(j,E,A,L),-1<E&&(ae(j[E]),Array.prototype.splice.call(j,E,1),j.length==0&&(delete f.g[m],f.h--)))):f&&(f=Cm(f))&&(m=f.g[m.toString()],f=-1,m&&(f=mt(m,E,A,L)),(E=-1<f?m[f]:null)&&km(E))}function km(f){if(typeof f!="number"&&f&&!f.da){var m=f.src;if(m&&m[Oe])W(m.i,f);else{var E=f.type,A=f.proxy;m.removeEventListener?m.removeEventListener(E,A,f.capture):m.detachEvent?m.detachEvent(S1(E),A):m.addListener&&m.removeListener&&m.removeListener(A),(E=Cm(m))?(W(E,f),E.h==0&&(E.src=null,m[be]=null)):ae(f)}}}function S1(f){return f in Tt?Tt[f]:Tt[f]="on"+f}function Uj(f,m){if(f.da)f=!0;else{m=new en(m,this);var E=f.listener,A=f.ha||f.src;f.fa&&km(f),f=E.call(A,m)}return f}function Cm(f){return f=f[be],f instanceof de?f:null}var Om="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rm(f){return typeof f=="function"?f:(f[Om]||(f[Om]=function(m){return f.handleEvent(m)}),f[Om])}function $t(){ue.call(this),this.i=new de(this),this.M=this,this.F=null}g($t,ue),$t.prototype[Oe]=!0,$t.prototype.removeEventListener=function(f,m,E,A){b1(this,f,m,E,A)};function nn(f,m){var E,A=f.F;if(A)for(E=[];A;A=A.F)E.push(A);if(f=f.M,A=m.type||m,typeof m=="string")m=new Ee(m,f);else if(m instanceof Ee)m.target=m.target||f;else{var L=m;m=new Ee(A,f),R(m,L)}if(L=!0,E)for(var j=E.length-1;0<=j;j--){var K=m.g=E[j];L=Fc(K,A,!0,m)&&L}if(K=m.g=f,L=Fc(K,A,!0,m)&&L,L=Fc(K,A,!1,m)&&L,E)for(j=0;j<E.length;j++)K=m.g=E[j],L=Fc(K,A,!1,m)&&L}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var f=this.i,m;for(m in f.g){for(var E=f.g[m],A=0;A<E.length;A++)ae(E[A]);delete f.g[m],f.h--}}this.F=null},$t.prototype.K=function(f,m,E,A){return this.i.add(String(f),m,!1,E,A)},$t.prototype.L=function(f,m,E,A){return this.i.add(String(f),m,!0,E,A)};function Fc(f,m,E,A){if(m=f.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var K=m[j];if(K&&!K.da&&K.capture==E){var xe=K.listener,At=K.ha||K.src;K.fa&&W(f.i,K),L=xe.call(At,A)!==!1&&L}}return L&&!A.defaultPrevented}function P1(f,m,E){if(typeof f=="function")E&&(f=h(f,E));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:s.setTimeout(f,m||0)}function T1(f){f.g=P1(()=>{f.g=null,f.i&&(f.i=!1,T1(f))},f.l);const m=f.h;f.h=null,f.m.apply(null,m)}class Fj extends ue{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:T1(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function al(f){ue.call(this),this.h=f,this.g={}}g(al,ue);var A1=[];function x1(f){M(f.g,function(m,E){this.g.hasOwnProperty(E)&&km(m)},f),f.g={}}al.prototype.N=function(){al.aa.N.call(this),x1(this)},al.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nm=s.JSON.stringify,zj=s.JSON.parse,Bj=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Dm(){}Dm.prototype.h=null;function I1(f){return f.h||(f.h=f.i())}function k1(){}var sl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mm(){Ee.call(this,"d")}g(Mm,Ee);function Lm(){Ee.call(this,"c")}g(Lm,Ee);var Ro={},C1=null;function zc(){return C1=C1||new $t}Ro.La="serverreachability";function O1(f){Ee.call(this,Ro.La,f)}g(O1,Ee);function ll(f){const m=zc();nn(m,new O1(m))}Ro.STAT_EVENT="statevent";function R1(f,m){Ee.call(this,Ro.STAT_EVENT,f),this.stat=m}g(R1,Ee);function rn(f){const m=zc();nn(m,new R1(m,f))}Ro.Ma="timingevent";function N1(f,m){Ee.call(this,Ro.Ma,f),this.size=m}g(N1,Ee);function ul(f,m){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},m)}function cl(){this.g=!0}cl.prototype.xa=function(){this.g=!1};function Wj(f,m,E,A,L,j){f.info(function(){if(f.g)if(j)for(var K="",xe=j.split("&"),At=0;At<xe.length;At++){var ye=xe[At].split("=");if(1<ye.length){var Ut=ye[0];ye=ye[1];var Ft=Ut.split("_");K=2<=Ft.length&&Ft[1]=="type"?K+(Ut+"="+ye+"&"):K+(Ut+"=redacted&")}}else K=null;else K=j;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+E+`
`+K})}function Hj(f,m,E,A,L,j,K){f.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+E+`
`+j+" "+K})}function Ra(f,m,E,A){f.info(function(){return"XMLHTTP TEXT ("+m+"): "+qj(f,E)+(A?" "+A:"")})}function Kj(f,m){f.info(function(){return"TIMEOUT: "+m})}cl.prototype.info=function(){};function qj(f,m){if(!f.g)return m;if(!m)return null;try{var E=JSON.parse(m);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var A=E[f];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var K=1;K<L.length;K++)L[K]=""}}}}return Nm(E)}catch{return m}}var Bc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},D1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jm;function Wc(){}g(Wc,Dm),Wc.prototype.g=function(){return new XMLHttpRequest},Wc.prototype.i=function(){return{}},jm=new Wc;function Ni(f,m,E,A){this.j=f,this.i=m,this.l=E,this.R=A||1,this.U=new al(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new M1}function M1(){this.i=null,this.g="",this.h=!1}var L1={},Vm={};function $m(f,m,E){f.L=1,f.v=Gc(Wr(m)),f.m=E,f.P=!0,j1(f,null)}function j1(f,m){f.F=Date.now(),Hc(f),f.A=Wr(f.v);var E=f.A,A=f.R;Array.isArray(A)||(A=[String(A)]),X1(E.i,"t",A),f.C=0,E=f.j.J,f.h=new M1,f.g=mb(f.j,E?m:null,!f.m),0<f.O&&(f.M=new Fj(h(f.Y,f,f.g),f.O)),m=f.U,E=f.g,A=f.ca;var L="readystatechange";Array.isArray(L)||(L&&(A1[0]=L.toString()),L=A1);for(var j=0;j<L.length;j++){var K=Vt(E,L[j],A||m.handleEvent,!1,m.h||m);if(!K)break;m.g[K.key]=K}m=f.H?P(f.H):{},f.m?(f.u||(f.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,m)):(f.u="GET",f.g.ea(f.A,f.u,null,m)),ll(),Wj(f.i,f.u,f.A,f.l,f.R,f.m)}Ni.prototype.ca=function(f){f=f.target;const m=this.M;m&&Hr(f)==3?m.j():this.Y(f)},Ni.prototype.Y=function(f){try{if(f==this.g)e:{const Ft=Hr(this.g);var m=this.g.Ba();const Ma=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||ib(this.g)))){this.J||Ft!=4||m==7||(m==8||0>=Ma?ll(3):ll(2)),Um(this);var E=this.g.Z();this.X=E;t:if(V1(this)){var A=ib(this.g);f="";var L=A.length,j=Hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){No(this),fl(this);var K="";break t}this.h.i=new s.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,f+=this.h.i.decode(A[m],{stream:!(j&&m==L-1)});A.length=0,this.h.g+=f,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=E==200,Hj(this.i,this.u,this.A,this.l,this.R,Ft,E),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,At=this.g;if((xe=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(xe)){var ye=xe;break t}}ye=null}if(E=ye)Ra(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fm(this,E);else{this.o=!1,this.s=3,rn(12),No(this),fl(this);break e}}if(this.P){E=!0;let nr;for(;!this.J&&this.C<K.length;)if(nr=Gj(this,K),nr==Vm){Ft==4&&(this.s=4,rn(14),E=!1),Ra(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==L1){this.s=4,rn(15),Ra(this.i,this.l,K,"[Invalid Chunk]"),E=!1;break}else Ra(this.i,this.l,nr,null),Fm(this,nr);if(V1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||K.length!=0||this.h.h||(this.s=1,rn(16),E=!1),this.o=this.o&&E,!E)Ra(this.i,this.l,K,"[Invalid Chunked Response]"),No(this),fl(this);else if(0<K.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),qm(Ut),Ut.M=!0,rn(11))}}else Ra(this.i,this.l,K,null),Fm(this,K);Ft==4&&No(this),this.o&&!this.J&&(Ft==4?fb(this.j,this):(this.o=!1,Hc(this)))}else fV(this.g),E==400&&0<K.indexOf("Unknown SID")?(this.s=3,rn(12)):(this.s=0,rn(13)),No(this),fl(this)}}}catch{}finally{}};function V1(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Gj(f,m){var E=f.C,A=m.indexOf(`
`,E);return A==-1?Vm:(E=Number(m.substring(E,A)),isNaN(E)?L1:(A+=1,A+E>m.length?Vm:(m=m.slice(A,A+E),f.C=A+E,m)))}Ni.prototype.cancel=function(){this.J=!0,No(this)};function Hc(f){f.S=Date.now()+f.I,$1(f,f.I)}function $1(f,m){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ul(h(f.ba,f),m)}function Um(f){f.B&&(s.clearTimeout(f.B),f.B=null)}Ni.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Kj(this.i,this.A),this.L!=2&&(ll(),rn(17)),No(this),this.s=2,fl(this)):$1(this,this.S-f)};function fl(f){f.j.G==0||f.J||fb(f.j,f)}function No(f){Um(f);var m=f.M;m&&typeof m.ma=="function"&&m.ma(),f.M=null,x1(f.U),f.g&&(m=f.g,f.g=null,m.abort(),m.ma())}function Fm(f,m){try{var E=f.j;if(E.G!=0&&(E.g==f||zm(E.h,f))){if(!f.K&&zm(E.h,f)&&E.G==3){try{var A=E.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)ef(E),Jc(E);else break e;Km(E),rn(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=ul(h(E.Za,E),6e3));if(1>=z1(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Mo(E,11)}else if((f.K||E.g==f)&&ef(E),!b(m))for(L=E.Da.g.parse(m),m=0;m<L.length;m++){let ye=L[m];if(E.T=ye[0],ye=ye[1],E.G==2)if(ye[0]=="c"){E.K=ye[1],E.ia=ye[2];const Ut=ye[3];Ut!=null&&(E.la=Ut,E.j.info("VER="+E.la));const Ft=ye[4];Ft!=null&&(E.Aa=Ft,E.j.info("SVER="+E.Aa));const Ma=ye[5];Ma!=null&&typeof Ma=="number"&&0<Ma&&(A=1.5*Ma,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const nr=f.g;if(nr){const nf=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nf){var j=A.h;j.g||nf.indexOf("spdy")==-1&&nf.indexOf("quic")==-1&&nf.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Bm(j,j.h),j.h=null))}if(A.D){const Gm=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Gm&&(A.ya=Gm,Re(A.I,A.D,Gm))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var K=f;if(A.qa=pb(A,A.J?A.ia:null,A.W),K.K){B1(A.h,K);var xe=K,At=A.L;At&&(xe.I=At),xe.B&&(Um(xe),Hc(xe)),A.g=K}else ub(A);0<E.i.length&&Zc(E)}else ye[0]!="stop"&&ye[0]!="close"||Mo(E,7);else E.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Mo(E,7):Hm(E):ye[0]!="noop"&&E.l&&E.l.ta(ye),E.v=0)}}ll(4)}catch{}}var Qj=class{constructor(f,m){this.g=f,this.map=m}};function U1(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function F1(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function z1(f){return f.h?1:f.g?f.g.size:0}function zm(f,m){return f.h?f.h==m:f.g?f.g.has(m):!1}function Bm(f,m){f.g?f.g.add(m):f.h=m}function B1(f,m){f.h&&f.h==m?f.h=null:f.g&&f.g.has(m)&&f.g.delete(m)}U1.prototype.cancel=function(){if(this.i=W1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function W1(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let m=f.i;for(const E of f.g.values())m=m.concat(E.D);return m}return _(f.i)}function Yj(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var m=[],E=f.length,A=0;A<E;A++)m.push(f[A]);return m}m=[],E=0;for(A in f)m[E++]=f[A];return m}function Xj(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var m=[];f=f.length;for(var E=0;E<f;E++)m.push(E);return m}m=[],E=0;for(const A in f)m[E++]=A;return m}}}function H1(f,m){if(f.forEach&&typeof f.forEach=="function")f.forEach(m,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,m,void 0);else for(var E=Xj(f),A=Yj(f),L=A.length,j=0;j<L;j++)m.call(void 0,A[j],E&&E[j],f)}var K1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jj(f,m){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var A=f[E].indexOf("="),L=null;if(0<=A){var j=f[E].substring(0,A);L=f[E].substring(A+1)}else j=f[E];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Do(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Do){this.h=f.h,Kc(this,f.j),this.o=f.o,this.g=f.g,qc(this,f.s),this.l=f.l;var m=f.i,E=new pl;E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),q1(this,E),this.m=f.m}else f&&(m=String(f).match(K1))?(this.h=!1,Kc(this,m[1]||"",!0),this.o=dl(m[2]||""),this.g=dl(m[3]||"",!0),qc(this,m[4]),this.l=dl(m[5]||"",!0),q1(this,m[6]||"",!0),this.m=dl(m[7]||"")):(this.h=!1,this.i=new pl(null,this.h))}Do.prototype.toString=function(){var f=[],m=this.j;m&&f.push(hl(m,G1,!0),":");var E=this.g;return(E||m=="file")&&(f.push("//"),(m=this.o)&&f.push(hl(m,G1,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(hl(E,E.charAt(0)=="/"?tV:eV,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",hl(E,rV)),f.join("")};function Wr(f){return new Do(f)}function Kc(f,m,E){f.j=E?dl(m,!0):m,f.j&&(f.j=f.j.replace(/:$/,""))}function qc(f,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);f.s=m}else f.s=null}function q1(f,m,E){m instanceof pl?(f.i=m,iV(f.i,f.h)):(E||(m=hl(m,nV)),f.i=new pl(m,f.h))}function Re(f,m,E){f.i.set(m,E)}function Gc(f){return Re(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function dl(f,m){return f?m?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function hl(f,m,E){return typeof f=="string"?(f=encodeURI(f).replace(m,Zj),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Zj(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var G1=/[#\/\?@]/g,eV=/[#\?:]/g,tV=/[#\?]/g,nV=/[#\?@]/g,rV=/#/g;function pl(f,m){this.h=this.g=null,this.i=f||null,this.j=!!m}function Di(f){f.g||(f.g=new Map,f.h=0,f.i&&Jj(f.i,function(m,E){f.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}e=pl.prototype,e.add=function(f,m){Di(this),this.i=null,f=Na(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(m),this.h+=1,this};function Q1(f,m){Di(f),m=Na(f,m),f.g.has(m)&&(f.i=null,f.h-=f.g.get(m).length,f.g.delete(m))}function Y1(f,m){return Di(f),m=Na(f,m),f.g.has(m)}e.forEach=function(f,m){Di(this),this.g.forEach(function(E,A){E.forEach(function(L){f.call(m,L,A,this)},this)},this)},e.na=function(){Di(this);const f=Array.from(this.g.values()),m=Array.from(this.g.keys()),E=[];for(let A=0;A<m.length;A++){const L=f[A];for(let j=0;j<L.length;j++)E.push(m[A])}return E},e.V=function(f){Di(this);let m=[];if(typeof f=="string")Y1(this,f)&&(m=m.concat(this.g.get(Na(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)m=m.concat(f[E])}return m},e.set=function(f,m){return Di(this),this.i=null,f=Na(this,f),Y1(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[m]),this.h+=1,this},e.get=function(f,m){return f?(f=this.V(f),0<f.length?String(f[0]):m):m};function X1(f,m,E){Q1(f,m),0<E.length&&(f.i=null,f.g.set(Na(f,m),_(E)),f.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],m=Array.from(this.g.keys());for(var E=0;E<m.length;E++){var A=m[E];const j=encodeURIComponent(String(A)),K=this.V(A);for(A=0;A<K.length;A++){var L=j;K[A]!==""&&(L+="="+encodeURIComponent(String(K[A]))),f.push(L)}}return this.i=f.join("&")};function Na(f,m){return m=String(m),f.j&&(m=m.toLowerCase()),m}function iV(f,m){m&&!f.j&&(Di(f),f.i=null,f.g.forEach(function(E,A){var L=A.toLowerCase();A!=L&&(Q1(this,A),X1(this,L,E))},f)),f.j=m}function oV(f,m){const E=new cl;if(s.Image){const A=new Image;A.onload=p(Mi,E,"TestLoadImage: loaded",!0,m,A),A.onerror=p(Mi,E,"TestLoadImage: error",!1,m,A),A.onabort=p(Mi,E,"TestLoadImage: abort",!1,m,A),A.ontimeout=p(Mi,E,"TestLoadImage: timeout",!1,m,A),s.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=f}else m(!1)}function aV(f,m){const E=new cl,A=new AbortController,L=setTimeout(()=>{A.abort(),Mi(E,"TestPingServer: timeout",!1,m)},1e4);fetch(f,{signal:A.signal}).then(j=>{clearTimeout(L),j.ok?Mi(E,"TestPingServer: ok",!0,m):Mi(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Mi(E,"TestPingServer: error",!1,m)})}function Mi(f,m,E,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(E)}catch{}}function sV(){this.g=new Bj}function lV(f,m,E){const A=E||"";try{H1(f,function(L,j){let K=L;u(L)&&(K=Nm(L)),m.push(A+j+"="+encodeURIComponent(K))})}catch(L){throw m.push(A+"type="+encodeURIComponent("_badmap")),L}}function Qc(f){this.l=f.Ub||null,this.j=f.eb||!1}g(Qc,Dm),Qc.prototype.g=function(){return new Yc(this.l,this.j)},Qc.prototype.i=function(f){return function(){return f}}({});function Yc(f,m){$t.call(this),this.D=f,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Yc,$t),e=Yc.prototype,e.open=function(f,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=m,this.readyState=1,gl(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(m.body=f),(this.D||s).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ml(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,gl(this)),this.g&&(this.readyState=3,gl(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;J1(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function J1(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var m=f.value?f.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!f.done}))&&(this.response=this.responseText+=m)}f.done?ml(this):gl(this),this.readyState==3&&J1(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,ml(this))},e.Qa=function(f){this.g&&(this.response=f,ml(this))},e.ga=function(){this.g&&ml(this)};function ml(f){f.readyState=4,f.l=null,f.j=null,f.v=null,gl(f)}e.setRequestHeader=function(f,m){this.u.append(f,m)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=m.next();return f.join(`\r
`)};function gl(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Yc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Z1(f){let m="";return M(f,function(E,A){m+=A,m+=":",m+=E,m+=`\r
`}),m}function Wm(f,m,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Z1(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Re(f,m,E))}function He(f){$t.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(He,$t);var uV=/^https?$/i,cV=["POST","PUT"];e=He.prototype,e.Ha=function(f){this.J=f},e.ea=function(f,m,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);m=m?m.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jm.g(),this.v=this.o?I1(this.o):I1(jm),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(m,String(f),!0),this.B=!1}catch(j){eb(this,j);return}if(f=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)E.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())E.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(j=>j.toLowerCase()=="content-type"),L=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(cV,m,void 0))||A||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of E)this.g.setRequestHeader(j,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rb(this),this.u=!0,this.g.send(f),this.u=!1}catch(j){eb(this,j)}};function eb(f,m){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=m,f.m=5,tb(f),Xc(f)}function tb(f){f.A||(f.A=!0,nn(f,"complete"),nn(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,nn(this,"complete"),nn(this,"abort"),Xc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xc(this,!0)),He.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?nb(this):this.bb())},e.bb=function(){nb(this)};function nb(f){if(f.h&&typeof a<"u"&&(!f.v[1]||Hr(f)!=4||f.Z()!=2)){if(f.u&&Hr(f)==4)P1(f.Ea,0,f);else if(nn(f,"readystatechange"),Hr(f)==4){f.h=!1;try{const K=f.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var A;if(A=K===0){var L=String(f.D).match(K1)[1]||null;!L&&s.self&&s.self.location&&(L=s.self.location.protocol.slice(0,-1)),A=!uV.test(L?L.toLowerCase():"")}E=A}if(E)nn(f,"complete"),nn(f,"success");else{f.m=6;try{var j=2<Hr(f)?f.g.statusText:""}catch{j=""}f.l=j+" ["+f.Z()+"]",tb(f)}}finally{Xc(f)}}}}function Xc(f,m){if(f.g){rb(f);const E=f.g,A=f.v[0]?()=>{}:null;f.g=null,f.v=null,m||nn(f,"ready");try{E.onreadystatechange=A}catch{}}}function rb(f){f.I&&(s.clearTimeout(f.I),f.I=null)}e.isActive=function(){return!!this.g};function Hr(f){return f.g?f.g.readyState:0}e.Z=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var m=this.g.responseText;return f&&m.indexOf(f)==0&&(m=m.substring(f.length)),zj(m)}};function ib(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function fV(f){const m={};f=(f.g&&2<=Hr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<f.length;A++){if(b(f[A]))continue;var E=C(f[A]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const j=m[L]||[];m[L]=j,j.push(E)}T(m,function(A){return A.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vl(f,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||m}function ob(f){this.Aa=0,this.i=[],this.j=new cl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vl("baseRetryDelayMs",5e3,f),this.cb=vl("retryDelaySeedMs",1e4,f),this.Wa=vl("forwardChannelMaxRetries",2,f),this.wa=vl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new U1(f&&f.concurrentRequestLimit),this.Da=new sV,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ob.prototype,e.la=8,e.G=1,e.connect=function(f,m,E,A){rn(0),this.W=f,this.H=m||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=pb(this,null,this.W),Zc(this)};function Hm(f){if(ab(f),f.G==3){var m=f.U++,E=Wr(f.I);if(Re(E,"SID",f.K),Re(E,"RID",m),Re(E,"TYPE","terminate"),yl(f,E),m=new Ni(f,f.j,m),m.L=2,m.v=Gc(Wr(E)),E=!1,s.navigator&&s.navigator.sendBeacon)try{E=s.navigator.sendBeacon(m.v.toString(),"")}catch{}!E&&s.Image&&(new Image().src=m.v,E=!0),E||(m.g=mb(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Hc(m)}hb(f)}function Jc(f){f.g&&(qm(f),f.g.cancel(),f.g=null)}function ab(f){Jc(f),f.u&&(s.clearTimeout(f.u),f.u=null),ef(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function Zc(f){if(!F1(f.h)&&!f.s){f.s=!0;var m=f.Ga;se||X(),z||(se(),z=!0),B.add(m,f),f.B=0}}function dV(f,m){return z1(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=m.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ul(h(f.Ga,f,m),db(f,f.B)),f.B++,!0)}e.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const L=new Ni(this,this.j,f);let j=this.o;if(this.S&&(j?(j=P(j),R(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=lb(this,L,m),E=Wr(this.I),Re(E,"RID",f),Re(E,"CVER",22),this.D&&Re(E,"X-HTTP-Session-Id",this.D),yl(this,E),j&&(this.O?m="headers="+encodeURIComponent(String(Z1(j)))+"&"+m:this.m&&Wm(E,this.m,j)),Bm(this.h,L),this.Ua&&Re(E,"TYPE","init"),this.P?(Re(E,"$req",m),Re(E,"SID","null"),L.T=!0,$m(L,E,null)):$m(L,E,m),this.G=2}}else this.G==3&&(f?sb(this,f):this.i.length==0||F1(this.h)||sb(this))};function sb(f,m){var E;m?E=m.l:E=f.U++;const A=Wr(f.I);Re(A,"SID",f.K),Re(A,"RID",E),Re(A,"AID",f.T),yl(f,A),f.m&&f.o&&Wm(A,f.m,f.o),E=new Ni(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),m&&(f.i=m.D.concat(f.i)),m=lb(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Bm(f.h,E),$m(E,A,m)}function yl(f,m){f.H&&M(f.H,function(E,A){Re(m,A,E)}),f.l&&H1({},function(E,A){Re(m,A,E)})}function lb(f,m,E){E=Math.min(f.i.length,E);var A=f.l?h(f.l.Na,f.l,f):null;e:{var L=f.i;let j=-1;for(;;){const K=["count="+E];j==-1?0<E?(j=L[0].g,K.push("ofs="+j)):j=0:K.push("ofs="+j);let xe=!0;for(let At=0;At<E;At++){let ye=L[At].g;const Ut=L[At].map;if(ye-=j,0>ye)j=Math.max(0,L[At].g-100),xe=!1;else try{lV(Ut,K,"req"+ye+"_")}catch{A&&A(Ut)}}if(xe){A=K.join("&");break e}}}return f=f.i.splice(0,E),m.D=f,A}function ub(f){if(!f.g&&!f.u){f.Y=1;var m=f.Fa;se||X(),z||(se(),z=!0),B.add(m,f),f.v=0}}function Km(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ul(h(f.Fa,f),db(f,f.v)),f.v++,!0)}e.Fa=function(){if(this.u=null,cb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ul(h(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rn(10),Jc(this),cb(this))};function qm(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function cb(f){f.g=new Ni(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var m=Wr(f.qa);Re(m,"RID","rpc"),Re(m,"SID",f.K),Re(m,"AID",f.T),Re(m,"CI",f.F?"0":"1"),!f.F&&f.ja&&Re(m,"TO",f.ja),Re(m,"TYPE","xmlhttp"),yl(f,m),f.m&&f.o&&Wm(m,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Gc(Wr(m)),E.m=null,E.P=!0,j1(E,f)}e.Za=function(){this.C!=null&&(this.C=null,Jc(this),Km(this),rn(19))};function ef(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function fb(f,m){var E=null;if(f.g==m){ef(f),qm(f),f.g=null;var A=2}else if(zm(f.h,m))E=m.D,B1(f.h,m),A=1;else return;if(f.G!=0){if(m.o)if(A==1){E=m.m?m.m.length:0,m=Date.now()-m.F;var L=f.B;A=zc(),nn(A,new N1(A,E)),Zc(f)}else ub(f);else if(L=m.s,L==3||L==0&&0<m.X||!(A==1&&dV(f,m)||A==2&&Km(f)))switch(E&&0<E.length&&(m=f.h,m.i=m.i.concat(E)),L){case 1:Mo(f,5);break;case 4:Mo(f,10);break;case 3:Mo(f,6);break;default:Mo(f,2)}}}function db(f,m){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*m}function Mo(f,m){if(f.j.info("Error code "+m),m==2){var E=h(f.fb,f),A=f.Xa;const L=!A;A=new Do(A||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Kc(A,"https"),Gc(A),L?oV(A.toString(),E):aV(A.toString(),E)}else rn(2);f.G=0,f.l&&f.l.sa(m),hb(f),ab(f)}e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function hb(f){if(f.G=0,f.ka=[],f.l){const m=W1(f.h);(m.length!=0||f.i.length!=0)&&(y(f.ka,m),y(f.ka,f.i),f.h.i.length=0,_(f.i),f.i.length=0),f.l.ra()}}function pb(f,m,E){var A=E instanceof Do?Wr(E):new Do(E);if(A.g!="")m&&(A.g=m+"."+A.g),qc(A,A.s);else{var L=s.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new Do(null);A&&Kc(j,A),m&&(j.g=m),L&&qc(j,L),E&&(j.l=E),A=j}return E=f.D,m=f.ya,E&&m&&Re(A,E,m),Re(A,"VER",f.la),yl(f,A),A}function mb(f,m,E){if(m&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=f.Ca&&!f.pa?new He(new Qc({eb:E})):new He(f.pa),m.Ha(f.J),m}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function gb(){}e=gb.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function tf(){}tf.prototype.g=function(f,m){return new An(f,m)};function An(f,m){$t.call(this),this.g=new ob(m),this.l=f,this.h=m&&m.messageUrlParams||null,f=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(f?f["X-WebChannel-Content-Type"]=m.messageContentType:f={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(f?f["X-WebChannel-Client-Profile"]=m.va:f={"X-WebChannel-Client-Profile":m.va}),this.g.S=f,(f=m&&m.Sb)&&!b(f)&&(this.g.m=f),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.D=m,f=this.h,f!==null&&m in f&&(f=this.h,m in f&&delete f[m])),this.j=new Da(this)}g(An,$t),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Hm(this.g)},An.prototype.o=function(f){var m=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Nm(f),f=E);m.i.push(new Qj(m.Ya++,f)),m.G==3&&Zc(m)},An.prototype.N=function(){this.g.l=null,delete this.j,Hm(this.g),delete this.g,An.aa.N.call(this)};function vb(f){Mm.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var m=f.__sm__;if(m){e:{for(const E in m){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,m=m!==null&&f in m?m[f]:void 0),this.data=m}else this.data=f}g(vb,Mm);function yb(){Lm.call(this),this.status=1}g(yb,Lm);function Da(f){this.g=f}g(Da,gb),Da.prototype.ua=function(){nn(this.g,"a")},Da.prototype.ta=function(f){nn(this.g,new vb(f))},Da.prototype.sa=function(f){nn(this.g,new yb)},Da.prototype.ra=function(){nn(this.g,"b")},tf.prototype.createWebChannel=tf.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,GC=function(){return new tf},qC=function(){return zc()},KC=Ro,ly={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bc.NO_ERROR=0,Bc.TIMEOUT=8,Bc.HTTP_ERROR=6,nd=Bc,D1.COMPLETE="complete",HC=D1,k1.EventType=sl,sl.OPEN="a",sl.CLOSE="b",sl.ERROR="c",sl.MESSAGE="d",$t.prototype.listen=$t.prototype.K,Ul=k1,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,WC=He}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const XS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hs="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new S_("@firebase/firestore");function xl(){return ua.logLevel}function Y(e,...t){if(ua.logLevel<=me.DEBUG){const n=t.map(A_);ua.debug(`Firestore (${Hs}): ${e}`,...n)}}function pi(e,...t){if(ua.logLevel<=me.ERROR){const n=t.map(A_);ua.error(`Firestore (${Hs}): ${e}`,...n)}}function Ss(e,...t){if(ua.logLevel<=me.WARN){const n=t.map(A_);ua.warn(`Firestore (${Hs}): ${e}`,...n)}}function A_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(e="Unexpected state"){const t=`FIRESTORE (${Hs}) INTERNAL ASSERTION FAILED: `+e;throw pi(t),new Error(t)}function Te(e,t){e||re()}function oe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Br{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class Gz{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qz{constructor(t){this.t=t,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Te(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ai,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ai)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new QC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Te(t===null||typeof t=="string"),new Kt(t)}}class Yz{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Xz{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Yz(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jz{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zz{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Te(this.o===void 0);const r=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new Jz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=eB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function _e(e,t){return e<t?-1:e>t?1:0}function Ps(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ct.fromMillis(Date.now())}static fromDate(t){return ct.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?_e(this.nanoseconds,t.nanoseconds):_e(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ie(t)}static min(){return new ie(new ct(0,0))}static max(){return new ie(new ct(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t,n,r){n===void 0?n=0:n>t.length&&re(),r===void 0?r=t.length-n:r>t.length-n&&re(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ku.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ku?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Me extends ku{construct(t,n,r){return new Me(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new q($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const tB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends ku{construct(t,n,r){return new Ct(t,n,r)}static isValidIdentifier(t){return tB.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new q($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<t.length;){const s=t[i];if(s==="\\"){if(i+1===t.length)throw new q($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new q($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t){this.path=t}static fromPath(t){return new te(Me.fromString(t))}static fromName(t){return new te(Me.fromString(t).popFirst(5))}static empty(){return new te(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Me.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new te(new Me(t.slice()))}}function nB(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new vo(i,te.empty(),t)}function rB(e){return new vo(e.readTime,e.key,-1)}class vo{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new vo(ie.min(),te.empty(),-1)}static max(){return new vo(ie.max(),te.empty(),-1)}}function iB(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=te.comparator(e.documentKey,t.documentKey),n!==0?n:_e(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(e){if(e.code!==$.FAILED_PRECONDITION||e.message!==oB)throw e;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new F((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):F.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):F.reject(n)}static resolve(t){return new F((n,r)=>{n(t)})}static reject(t){return new F((n,r)=>{r(t)})}static waitFor(t){return new F((n,r)=>{let i=0,o=0,a=!1;t.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(t){let n=F.resolve(!1);for(const r of t)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new F((r,i)=>{const o=t.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(t,n){return new F((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function sB(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}x_.oe=-1;function mp(e){return e==null}function Kd(e){return e===0&&1/e==-1/0}function lB(e){return typeof e=="number"&&Number.isInteger(e)&&!Kd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Aa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function XC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n){this.comparator=t,this.root=n||kt.EMPTY}insert(t,n){return new We(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(t){return new We(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bf(this.root,t,this.comparator,!1)}getReverseIterator(){return new bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bf(this.root,t,this.comparator,!0)}}class bf{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class kt{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??kt.RED,this.left=i??kt.EMPTY,this.right=o??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new kt(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const t=this.left.check();if(t!==this.right.check())throw re();return t+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(t,n,r,i,o){return this}insert(t,n,r){return new kt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.comparator=t,this.data=new We(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZS(this.data.getIterator())}getIteratorFrom(t){return new ZS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Dt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Dt(this.comparator);return n.data=t,n}}class ZS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.fields=t,t.sort(Ct.comparator)}static empty(){return new On([])}unionWith(t){let n=new Dt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new On(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ps(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new JC("Invalid base64 string: "+o):o}}(t);return new Lt(n)}static fromUint8Array(t){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(t);return new Lt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _e(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const uB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(e){if(Te(!!e),typeof e=="string"){let t=0;const n=uB.exec(e);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Xe(e.seconds),nanos:Xe(e.nanos)}}function Xe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ca(e){return typeof e=="string"?Lt.fromBase64String(e):Lt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function k_(e){const t=e.mapValue.fields.__previous_value__;return I_(t)?k_(t):t}function Cu(e){const t=yo(e.mapValue.fields.__local_write_time__.timestampValue);return new ct(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(t,n,r,i,o,a,s,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Ou{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ou&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?I_(e)?4:dB(e)?9007199254740991:fB(e)?10:11:re()}function Lr(e,t){if(e===t)return!0;const n=fa(e);if(n!==fa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Cu(e).isEqual(Cu(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=yo(i.timestampValue),s=yo(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return ca(i.bytesValue).isEqual(ca(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Xe(i.geoPointValue.latitude)===Xe(o.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Xe(i.integerValue)===Xe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Xe(i.doubleValue),s=Xe(o.doubleValue);return a===s?Kd(a)===Kd(s):isNaN(a)&&isNaN(s)}return!1}(e,t);case 9:return Ps(e.arrayValue.values||[],t.arrayValue.values||[],Lr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(JS(a)!==JS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Lr(a[l],s[l])))return!1;return!0}(e,t);default:return re()}}function Ru(e,t){return(e.values||[]).find(n=>Lr(n,t))!==void 0}function Ts(e,t){if(e===t)return 0;const n=fa(e),r=fa(t);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(e.booleanValue,t.booleanValue);case 2:return function(o,a){const s=Xe(o.integerValue||o.doubleValue),l=Xe(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(e,t);case 3:return eP(e.timestampValue,t.timestampValue);case 4:return eP(Cu(e),Cu(t));case 5:return _e(e.stringValue,t.stringValue);case 6:return function(o,a){const s=ca(o),l=ca(a);return s.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=_e(s[u],l[u]);if(c!==0)return c}return _e(s.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,a){const s=_e(Xe(o.latitude),Xe(a.latitude));return s!==0?s:_e(Xe(o.longitude),Xe(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return tP(e.arrayValue,t.arrayValue);case 10:return function(o,a){var s,l,u,c;const d=o.fields||{},h=a.fields||{},p=(s=d.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,_=_e(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:tP(p,g)}(e.mapValue,t.mapValue);case 11:return function(o,a){if(o===Sf.mapValue&&a===Sf.mapValue)return 0;if(o===Sf.mapValue)return 1;if(a===Sf.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=_e(l[d],c[d]);if(h!==0)return h;const p=Ts(s[l[d]],u[c[d]]);if(p!==0)return p}return _e(l.length,c.length)}(e.mapValue,t.mapValue);default:throw re()}}function eP(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return _e(e,t);const n=yo(e),r=yo(t),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function tP(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ts(n[i],r[i]);if(o)return o}return _e(n.length,r.length)}function As(e){return uy(e)}function uy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=yo(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ca(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return te.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=uy(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${uy(n.fields[a])}`;return i+"}"}(e.mapValue):re()}function nP(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function cy(e){return!!e&&"integerValue"in e}function C_(e){return!!e&&"arrayValue"in e}function rP(e){return!!e&&"nullValue"in e}function iP(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rd(e){return!!e&&"mapValue"in e}function fB(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function tu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Aa(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=tu(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=tu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function dB(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!rd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=tu(n)}setAll(t){let n=Ct.emptyPath(),r={},i=[];t.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=tu(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Lr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];rd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Aa(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new vn(tu(this.value))}}function ZC(e){const t=[];return Aa(e.fields,(n,r)=>{const i=new Ct([n]);if(rd(r)){const o=ZC(r.mapValue).fields;if(o.length===0)t.push(i);else for(const a of o)t.push(i.child(a))}else t.push(i)}),new On(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,n,r,i,o,a,s){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(t){return new Gt(t,0,ie.min(),ie.min(),ie.min(),vn.empty(),0)}static newFoundDocument(t,n,r,i){return new Gt(t,1,n,ie.min(),r,i,0)}static newNoDocument(t,n){return new Gt(t,2,n,ie.min(),ie.min(),vn.empty(),0)}static newUnknownDocument(t,n){return new Gt(t,3,n,ie.min(),ie.min(),vn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Gt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t,n){this.position=t,this.inclusive=n}}function oP(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(o.field.isKeyField()?r=te.comparator(te.fromName(a.referenceValue),n.key):r=Ts(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function aP(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Lr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t,n="asc"){this.field=t,this.dir=n}}function hB(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{}class rt extends eO{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new mB(t,n,r):n==="array-contains"?new yB(t,r):n==="in"?new _B(t,r):n==="not-in"?new wB(t,r):n==="array-contains-any"?new EB(t,r):new rt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new gB(t,r):new vB(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ts(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(Ts(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends eO{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new gr(t,n)}matches(t){return tO(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tO(e){return e.op==="and"}function nO(e){return pB(e)&&tO(e)}function pB(e){for(const t of e.filters)if(t instanceof gr)return!1;return!0}function fy(e){if(e instanceof rt)return e.field.canonicalString()+e.op.toString()+As(e.value);if(nO(e))return e.filters.map(t=>fy(t)).join(",");{const t=e.filters.map(n=>fy(n)).join(",");return`${e.op}(${t})`}}function rO(e,t){return e instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&Lr(r.value,i.value)}(e,t):e instanceof gr?function(r,i){return i instanceof gr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&rO(a,i.filters[s]),!0):!1}(e,t):void re()}function iO(e){return e instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${As(n.value)}`}(e):e instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(iO).join(" ,")+"}"}(e):"Filter"}class mB extends rt{constructor(t,n,r){super(t,n,r),this.key=te.fromName(r.referenceValue)}matches(t){const n=te.comparator(t.key,this.key);return this.matchesComparison(n)}}class gB extends rt{constructor(t,n){super(t,"in",n),this.keys=oO("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class vB extends rt{constructor(t,n){super(t,"not-in",n),this.keys=oO("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function oO(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class yB extends rt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return C_(n)&&Ru(n.arrayValue,this.value)}}class _B extends rt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}}class wB extends rt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ru(this.value.arrayValue,n)}}class EB extends rt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!C_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ru(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(t,n=null,r=[],i=[],o=null,a=null,s=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function sP(e,t=null,n=[],r=[],i=null,o=null,a=null){return new bB(e,t,n,r,i,o,a)}function O_(e){const t=oe(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>fy(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),mp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>As(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>As(r)).join(",")),t.ue=n}return t.ue}function R_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hB(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rO(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!aP(e.startAt,t.startAt)&&aP(e.endAt,t.endAt)}function dy(e){return te.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function SB(e,t,n,r,i,o,a,s){return new Ks(e,t,n,r,i,o,a,s)}function N_(e){return new Ks(e)}function lP(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function aO(e){return e.collectionGroup!==null}function nu(e){const t=oe(e);if(t.ce===null){t.ce=[];const n=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Dt(Ct.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.ce.push(new Nu(o,r))}),n.has(Ct.keyField().canonicalString())||t.ce.push(new Nu(Ct.keyField(),r))}return t.ce}function Rr(e){const t=oe(e);return t.le||(t.le=PB(t,nu(e))),t.le}function PB(e,t){if(e.limitType==="F")return sP(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Nu(i.field,o)});const n=e.endAt?new qd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new qd(e.startAt.position,e.startAt.inclusive):null;return sP(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function hy(e,t){const n=e.filters.concat([t]);return new Ks(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function py(e,t,n){return new Ks(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function gp(e,t){return R_(Rr(e),Rr(t))&&e.limitType===t.limitType}function sO(e){return`${O_(Rr(e))}|lt:${e.limitType}`}function Ua(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iO(i)).join(", ")}]`),mp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>As(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>As(i)).join(",")),`Target(${r})`}(Rr(e))}; limitType=${e.limitType})`}function vp(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of nu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=oP(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,nu(r),i)||r.endAt&&!function(a,s,l){const u=oP(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,nu(r),i))}(e,t)}function TB(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function lO(e){return(t,n)=>{let r=!1;for(const i of nu(e)){const o=AB(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function AB(e,t,n){const r=e.field.isKeyField()?te.comparator(t.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Ts(l,u):re()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Aa(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return XC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=new We(te.comparator);function mi(){return xB}const uO=new We(te.comparator);function Fl(...e){let t=uO;for(const n of e)t=t.insert(n.key,n);return t}function cO(e){let t=uO;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ho(){return ru()}function fO(){return ru()}function ru(){return new qs(e=>e.toString(),(e,t)=>e.isEqual(t))}const IB=new We(te.comparator),kB=new Dt(te.comparator);function pe(...e){let t=kB;for(const n of e)t=t.add(n);return t}const CB=new Dt(_e);function OB(){return CB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kd(t)?"-0":t}}function dO(e){return{integerValue:""+e}}function RB(e,t){return lB(t)?dO(t):D_(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this._=void 0}}function NB(e,t,n){return e instanceof Du?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&I_(o)&&(o=k_(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,t):e instanceof Mu?pO(e,t):e instanceof Lu?mO(e,t):function(i,o){const a=hO(i,o),s=uP(a)+uP(i.Pe);return cy(a)&&cy(i.Pe)?dO(s):D_(i.serializer,s)}(e,t)}function DB(e,t,n){return e instanceof Mu?pO(e,t):e instanceof Lu?mO(e,t):n}function hO(e,t){return e instanceof Gd?function(r){return cy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class Du extends yp{}class Mu extends yp{constructor(t){super(),this.elements=t}}function pO(e,t){const n=gO(t);for(const r of e.elements)n.some(i=>Lr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Lu extends yp{constructor(t){super(),this.elements=t}}function mO(e,t){let n=gO(t);for(const r of e.elements)n=n.filter(i=>!Lr(i,r));return{arrayValue:{values:n}}}class Gd extends yp{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function uP(e){return Xe(e.integerValue||e.doubleValue)}function gO(e){return C_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(t,n){this.field=t,this.transform=n}}function LB(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Mu&&i instanceof Mu||r instanceof Lu&&i instanceof Lu?Ps(r.elements,i.elements,Lr):r instanceof Gd&&i instanceof Gd?Lr(r.Pe,i.Pe):r instanceof Du&&i instanceof Du}(e.transform,t.transform)}class jB{constructor(t,n){this.version=t,this.transformResults=n}}class Yn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Yn}static exists(t){return new Yn(void 0,t)}static updateTime(t){return new Yn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function id(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class _p{}function vO(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new M_(e.key,Yn.none()):new cc(e.key,e.data,Yn.none());{const n=e.data,r=vn.empty();let i=new Dt(Ct.comparator);for(let o of t.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new xo(e.key,r,new On(i.toArray()),Yn.none())}}function VB(e,t,n){e instanceof cc?function(i,o,a){const s=i.value.clone(),l=fP(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(e,t,n):e instanceof xo?function(i,o,a){if(!id(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=fP(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(yO(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function iu(e,t,n,r){return e instanceof cc?function(o,a,s,l){if(!id(o.precondition,a))return s;const u=o.value.clone(),c=dP(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof xo?function(o,a,s,l){if(!id(o.precondition,a))return s;const u=dP(o.fieldTransforms,l,a),c=a.data;return c.setAll(yO(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(o,a,s){return id(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(e,t,n)}function $B(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=hO(r.transform,i||null);o!=null&&(n===null&&(n=vn.empty()),n.set(r.field,o))}return n||null}function cP(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ps(r,i,(o,a)=>LB(o,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class cc extends _p{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xo extends _p{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yO(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function fP(e,t,n){const r=new Map;Te(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,DB(a,s,n[i]))}return r}function dP(e,t,n){const r=new Map;for(const i of e){const o=i.transform,a=n.data.field(i.field);r.set(i.field,NB(o,a,t))}return r}class M_ extends _p{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UB extends _p{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&VB(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=iu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=iu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=fO();return this.mutations.forEach(i=>{const o=t.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=vO(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),pe())}isEqual(t){return this.batchId===t.batchId&&Ps(this.mutations,t.mutations,(n,r)=>cP(n,r))&&Ps(this.baseMutations,t.baseMutations,(n,r)=>cP(n,r))}}class L_{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Te(t.mutations.length===r.length);let i=function(){return IB}();const o=t.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new L_(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,ge;function WB(e){switch(e){default:return re();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function _O(e){if(e===void 0)return pi("GRPC error has no .code"),$.UNKNOWN;switch(e){case et.OK:return $.OK;case et.CANCELLED:return $.CANCELLED;case et.UNKNOWN:return $.UNKNOWN;case et.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case et.INTERNAL:return $.INTERNAL;case et.UNAVAILABLE:return $.UNAVAILABLE;case et.UNAUTHENTICATED:return $.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case et.NOT_FOUND:return $.NOT_FOUND;case et.ALREADY_EXISTS:return $.ALREADY_EXISTS;case et.PERMISSION_DENIED:return $.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case et.ABORTED:return $.ABORTED;case et.OUT_OF_RANGE:return $.OUT_OF_RANGE;case et.UNIMPLEMENTED:return $.UNIMPLEMENTED;case et.DATA_LOSS:return $.DATA_LOSS;default:return re()}}(ge=et||(et={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=new Jo([4294967295,4294967295],0);function hP(e){const t=HB().encode(e),n=new BC;return n.update(t),new Uint8Array(n.digest())}function pP(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Jo([n,r],0),new Jo([i,o],0)]}class j_{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(r<0)throw new zl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=Jo.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(Jo.fromNumber(r)));return i.compare(KB)===1&&(i=new Jo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=hP(t),[r,i]=pP(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new j_(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(t){if(this.Ie===0)return;const n=hP(t),[r,i]=pP(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,fc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new wp(ie.min(),i,new We(_e),mi(),pe())}}class fc{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new fc(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class wO{constructor(t,n){this.targetId=t,this.me=n}}class EO{constructor(t,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mP{constructor(){this.fe=0,this.ge=vP(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=pe(),n=pe(),r=pe();return this.ge.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new fc(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=vP()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qB{constructor(t){this.Le=t,this.Be=new Map,this.ke=mi(),this.qe=gP(),this.Qe=new We(_e)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:re()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const o=i.target;if(dy(o))if(r===0){const a=new te(o.path);this.Ue(n,a,Gt.newNoDocument(a,ie.min()))}else Te(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(t),l=s?this.Xe(s,t,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=ca(r).toUint8Array()}catch(l){if(l instanceof JC)return Ss("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new j_(a,i,o)}catch(l){return Ss(l instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;t.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&dy(s.target)){const l=new te(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Gt.newNoDocument(l,t))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=pe();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(t));const i=new wp(t,n,this.Qe,this.ke,r);return this.ke=mi(),this.qe=gP(),this.Qe=new We(_e),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new mP,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new Dt(_e),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new mP),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function gP(){return new We(te.comparator)}function vP(){return new We(te.comparator)}const GB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),QB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),YB=(()=>({and:"AND",or:"OR"}))();class XB{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function my(e,t){return e.useProto3Json||mp(t)?t:{value:t}}function Qd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bO(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function JB(e,t){return Qd(e,t.toTimestamp())}function Nr(e){return Te(!!e),ie.fromTimestamp(function(n){const r=yo(n);return new ct(r.seconds,r.nanos)}(e))}function V_(e,t){return gy(e,t).canonicalString()}function gy(e,t){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function SO(e){const t=Me.fromString(e);return Te(IO(t)),t}function vy(e,t){return V_(e.databaseId,t.path)}function Ig(e,t){const n=SO(t);if(n.get(1)!==e.databaseId.projectId)throw new q($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new te(TO(n))}function PO(e,t){return V_(e.databaseId,t)}function ZB(e){const t=SO(e);return t.length===4?Me.emptyPath():TO(t)}function yy(e){return new Me(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function TO(e){return Te(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function yP(e,t,n){return{name:vy(e,t),fields:n.value.mapValue.fields}}function e3(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Te(c===void 0||typeof c=="string"),Lt.fromBase64String(c||"")):(Te(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Lt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(u){const c=u.code===void 0?$.UNKNOWN:_O(u.code);return new q(c,u.message||"")}(a);n=new EO(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ig(e,r.document.name),o=Nr(r.document.updateTime),a=r.document.createTime?Nr(r.document.createTime):ie.min(),s=new vn({mapValue:{fields:r.document.fields}}),l=Gt.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new od(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ig(e,r.document),o=r.readTime?Nr(r.readTime):ie.min(),a=Gt.newNoDocument(i,o),s=r.removedTargetIds||[];n=new od([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ig(e,r.document),o=r.removedTargetIds||[];n=new od([],o,i,null)}else{if(!("filter"in t))return re();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new BB(i,o),s=r.targetId;n=new wO(s,a)}}return n}function t3(e,t){let n;if(t instanceof cc)n={update:yP(e,t.key,t.value)};else if(t instanceof M_)n={delete:vy(e,t.key)};else if(t instanceof xo)n={update:yP(e,t.key,t.data),updateMask:c3(t.fieldMask)};else{if(!(t instanceof UB))return re();n={verify:vy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof Du)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Mu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Lu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Gd)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw re()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:JB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:re()}(e,t.precondition)),n}function n3(e,t){return e&&e.length>0?(Te(t!==void 0),e.map(n=>function(i,o){let a=i.updateTime?Nr(i.updateTime):Nr(o);return a.isEqual(ie.min())&&(a=Nr(o)),new jB(a,i.transformResults||[])}(n,t))):[]}function r3(e,t){return{documents:[PO(e,t.path)]}}function i3(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PO(e,i);const o=function(u){if(u.length!==0)return xO(gr.create(u,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Fa(h.field),direction:s3(h.dir)}}(c))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=my(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:i}}function o3(e){let t=ZB(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=AO(d);return h instanceof gr&&nO(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(h=>function(g){return new Nu(za(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,mp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new qd(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new qd(p,h)}(n.endAt)),SB(t,i,a,o,s,"F",l,u)}function a3(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function AO(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=za(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=za(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=za(n.unaryFilter.field);return rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=za(n.unaryFilter.field);return rt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(e):e.fieldFilter!==void 0?function(n){return rt.create(za(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(r=>AO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re()}}(n.compositeFilter.op))}(e):re()}function s3(e){return GB[e]}function l3(e){return QB[e]}function u3(e){return YB[e]}function Fa(e){return{fieldPath:e.canonicalString()}}function za(e){return Ct.fromServerFormat(e.fieldPath)}function xO(e){return e instanceof rt?function(n){if(n.op==="=="){if(iP(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NAN"}};if(rP(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iP(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NOT_NAN"}};if(rP(n.value))return{unaryFilter:{field:Fa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(n.field),op:l3(n.op),value:n.value}}}(e):e instanceof gr?function(n){const r=n.getFilters().map(i=>xO(i));return r.length===1?r[0]:{compositeFilter:{op:u3(n.op),filters:r}}}(e):re()}function c3(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function IO(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,n,r,i,o=ie.min(),a=ie.min(),s=Lt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(t){return new Ji(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(t){this.ct=t}}function d3(e){const t=o3({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?py(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(){this.un=new p3}addToCollectionParentIndex(t,n){return this.un.add(n),F.resolve()}getCollectionParents(t,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return F.resolve()}deleteFieldIndex(t,n){return F.resolve()}deleteAllFieldIndexes(t){return F.resolve()}createTargetIndexes(t,n){return F.resolve()}getDocumentsMatchingTarget(t,n){return F.resolve(null)}getIndexType(t,n){return F.resolve(0)}getFieldIndexes(t,n){return F.resolve([])}getNextCollectionGroupToUpdate(t){return F.resolve(null)}getMinOffset(t,n){return F.resolve(vo.min())}getMinOffsetFromCollectionGroup(t,n){return F.resolve(vo.min())}updateCollectionGroup(t,n,r){return F.resolve()}updateIndexEntries(t,n){return F.resolve()}}class p3{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Dt(Me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Dt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new xs(0)}static kn(){return new xs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(){this.changes=new qs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Gt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&iu(r.mutation,i,On.empty(),ct.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,pe()).next(()=>r))}getLocalViewOfDocuments(t,n,r=pe()){const i=Ho();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let a=Fl();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=Ho();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,pe()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(t,n,r,i){let o=mi();const a=ru(),s=function(){return ru()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof xo)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),iu(c.mutation,u,c.mutation.getFieldMask(),ct.now())):a.set(u.key,On.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var d;return s.set(u,new g3(c,(d=a.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(t,n){const r=ru();let i=new We((a,s)=>a-s),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||On.empty();c=s.applyToLocalView(u,c),r.set(l,c);const d=(i.get(s.batchId)||pe()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=fO();c.forEach(h=>{if(!o.has(h)){const p=vO(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(t,u,d))}return F.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(a){return te.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):aO(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):F.resolve(Ho());let s=-1,l=o;return a.next(u=>F.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),o.get(c)?F.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,pe())).next(c=>({batchId:s,changes:cO(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new te(n)).next(r=>{let i=Fl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let a=Fl();return this.indexManager.getCollectionParents(t,o).next(s=>F.forEach(s,l=>{const u=function(d,h){return new Ks(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,h)=>{a=a.insert(d,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Gt.newInvalidDocument(c)))});let s=Fl();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&iu(c.mutation,u,On.empty(),ct.now()),vp(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nr(i.createTime)}}(n)),F.resolve()}getNamedQuery(t,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:d3(i.bundledQuery),readTime:Nr(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.overlays=new We(te.comparator),this.Ir=new Map}getOverlay(t,n){return F.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ho();return F.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.ht(t,n,o)}),F.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(t,n,r){const i=Ho(),o=n.length+1,a=new te(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new We((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ho(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Ho(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return F.resolve(s)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new zB(n,r));let o=this.Ir.get(n);o===void 0&&(o=pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(t){return F.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.Tr=new Dt(yt.Er),this.dr=new Dt(yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const r=new yt(t,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Vr(new yt(t,n))}mr(t,n){t.forEach(r=>this.removeReference(r,n))}gr(t){const n=new te(new Me([])),r=new yt(n,t),i=new yt(n,t+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new te(new Me([])),r=new yt(n,t),i=new yt(n,t+1);let o=pe();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(t){const n=new yt(t,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class yt{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return te.comparator(t.key,n.key)||_e(t.wr,n.wr)}static Ar(t,n){return _e(t.wr,n.wr)||te.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Dt(yt.Er)}checkEmpty(t){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new FB(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new yt(s.key,o)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return F.resolve(a)}lookupMutationBatch(t,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Dt(_e);return n.forEach(i=>{const o=new yt(i,0),a=new yt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;te.isDocumentKey(o)||(o=o.child(""));const a=new yt(new te(o),0);let s=new Dt(_e);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),F.resolve(this.Cr(s))}Cr(t){const n=[];return t.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{const o=new yt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,n){const r=new yt(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,F.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(t){this.Mr=t,this.docs=function(){return new We(te.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(t,n){let r=mi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Gt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=mi();const a=n.path,s=new te(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||iB(rB(c),r)<=0||(i.has(c.key)||vp(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(t,n,r,i){re()}Or(t,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new S3(this)}getSize(t){return F.resolve(this.size)}}class S3 extends m3{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(t,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(t){this.persistence=t,this.Nr=new qs(n=>O_(n),R_),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $_,this.targetCount=0,this.kr=xs.Bn()}forEachTarget(t,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(t){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return F.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new xs(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(t,n){return this.Kn(n),F.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(t){return F.resolve(this.targetCount)}getTargetData(t,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(t,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(t,a))}),F.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(t,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(t,n){this.qr={},this.overlays={},this.Qr=new x_(0),this.Kr=!1,this.Kr=!0,this.$r=new w3,this.referenceDelegate=t(this),this.Ur=new P3(this),this.indexManager=new h3,this.remoteDocumentCache=function(i){return new b3(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new f3(n),this.Gr=new y3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new _3,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.qr[t.toKey()];return r||(r=new E3(n,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,r){Y("MemoryPersistence","Starting transaction:",t);const i=new A3(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(t,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,n)))}}class A3 extends aB{constructor(t){super(),this.currentSequenceNumber=t}}class U_{constructor(t){this.persistence=t,this.Jr=new $_,this.Yr=null}static Zr(t){return new U_(t)}get Xr(){if(this.Yr)return this.Yr;throw re()}addReference(t,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(t,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const i=te.fromPath(r);return this.ei(t,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(t,n){let r=pe(),i=pe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new F_(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return IF()?8:sB(Jt())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.Yi(t,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(t,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new x3;return this.Xi(t,n,a).next(s=>{if(o.result=s,this.zi)return this.es(t,n,a,s.size)})}).next(()=>o.result)}es(t,n,r,i){return r.documentReadCount<this.ji?(xl()<=me.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(xl()<=me.DEBUG&&Y("QueryEngine","Query:",Ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(xl()<=me.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Rr(n))):F.resolve())}Yi(t,n){if(lP(n))return F.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=py(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const a=pe(...o);return this.Ji.getDocuments(t,a).next(s=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(t,py(n,null,"F")):this.rs(t,u,n,l)}))})))}Zi(t,n,r,i){return lP(n)||i.isEqual(ie.min())?F.resolve(null):this.Ji.getDocuments(t,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?F.resolve(null):(xl()<=me.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ua(n)),this.rs(t,a,n,nB(i,-1)).next(s=>s))})}ts(t,n){let r=new Dt(lO(t));return n.forEach((i,o)=>{vp(t,o)&&(r=r.add(o))}),r}ns(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(t,n,r){return xl()<=me.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.Ji.getDocumentsMatchingQuery(t,n,vo.min(),r)}rs(t,n,r,i){return this.Ji.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(t,n,r,i){this.persistence=t,this.ss=n,this.serializer=i,this.os=new We(_e),this._s=new qs(o=>O_(o),R_),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new v3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function C3(e,t,n,r){return new k3(e,t,n,r)}async function kO(e,t){const n=oe(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=pe();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function O3(e,t){const n=oe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,h=d.keys();let p=F.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(_=>{const y=u.docVersions.get(g);Te(y!==null),_.version.compareTo(y)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=pe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function CO(e){const t=oe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function R3(e,t){const n=oe(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(d)!==null?p=p.withResumeToken(Lt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(_,y,w){return _.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=mi(),u=pe();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(N3(o,a,t.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(ie.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return F.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function N3(e,t,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let a=mi();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ie.min())?(t.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),a=a.insert(s,l)):Y("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function D3(e,t){const n=oe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function M3(e,t){const n=oe(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,t).next(o=>o?(i=o,F.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Ji(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(t,r.targetId)),r})}async function _y(e,t,n){const r=oe(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!uc(a))throw a;Y("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function _P(e,t,n){const r=oe(e);let i=ie.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const d=oe(l),h=d._s.get(c);return h!==void 0?F.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,a,Rr(t)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,t,n?i:ie.min(),n?o:pe())).next(s=>(L3(r,TB(t),s),{documents:s,Ts:o})))}function L3(e,t,n){let r=e.us.get(t)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.us.set(t,r)}class wP{constructor(){this.activeTargetIds=OB()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class j3{constructor(){this.so=new wP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,r){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new wP,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf=null;function kg(){return Pf===null?Pf=function(){return 268435456+Math.round(2147483648*Math.random())}():Pf++,"0x"+Pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class F3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=kg(),l=this.xo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(Y("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw Ss("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=$3[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,r,i){const o=kg();return new Promise((a,s)=>{const l=new WC;l.setWithCredentials(!0),l.listenOnce(HC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nd.NO_ERROR:const c=l.getResponseJson();Y(Wt,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),a(c);break;case nd.TIMEOUT:Y(Wt,`RPC '${t}' ${o} timed out`),s(new q($.DEADLINE_EXCEEDED,"Request time out"));break;case nd.HTTP_ERROR:const d=l.getStatus();if(Y(Wt,`RPC '${t}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(p.status);s(new q(g,p.message))}else s(new q($.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new q($.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{Y(Wt,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);Y(Wt,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(t,n,r){const i=kg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=GC(),s=qC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Y(Wt,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=a.createWebChannel(c,l);let h=!1,p=!1;const g=new U3({Io:y=>{p?Y(Wt,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(h||(Y(Wt,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),Y(Wt,`RPC '${t}' stream ${i} sending:`,y),d.send(y))},To:()=>d.close()}),_=(y,w,b)=>{y.listen(w,S=>{try{b(S)}catch(I){setTimeout(()=>{throw I},0)}})};return _(d,Ul.EventType.OPEN,()=>{p||(Y(Wt,`RPC '${t}' stream ${i} transport opened.`),g.yo())}),_(d,Ul.EventType.CLOSE,()=>{p||(p=!0,Y(Wt,`RPC '${t}' stream ${i} transport closed`),g.So())}),_(d,Ul.EventType.ERROR,y=>{p||(p=!0,Ss(Wt,`RPC '${t}' stream ${i} transport errored:`,y),g.So(new q($.UNAVAILABLE,"The operation could not be completed")))}),_(d,Ul.EventType.MESSAGE,y=>{var w;if(!p){const b=y.data[0];Te(!!b);const S=b,I=S.error||((w=S[0])===null||w===void 0?void 0:w.error);if(I){Y(Wt,`RPC '${t}' stream ${i} received error:`,I);const O=I.status;let M=function(x){const R=et[x];if(R!==void 0)return _O(R)}(O),T=I.message;M===void 0&&(M=$.INTERNAL,T="Unknown error status: "+O+" with message "+I.message),p=!0,g.So(new q(M,T)),d.close()}else Y(Wt,`RPC '${t}' stream ${i} received:`,b),g.bo(b)}}),_(s,KC.STAT_EVENT,y=>{y.stat===ly.PROXY?Y(Wt,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===ly.NOPROXY&&Y(Wt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(e){return new XB(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,n,r=1e3,i=1.5,o=6e4){this.ui=t,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(t,n,r,i,o,a,s,l){this.ui=t,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new OO(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{t(()=>{const i=new q($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(t,n){const r=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return Y("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z3 extends RO{constructor(t,n,r,i,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=e3(this.serializer,t),r=function(o){if(!("targetChange"in o))return ie.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ie.min():a.readTime?Nr(a.readTime):ie.min()}(t);return this.listener.d_(n,r)}A_(t){const n={};n.database=yy(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=dy(l)?{documents:r3(o,l)}:{query:i3(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=bO(o,a.resumeToken);const u=my(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(ie.min())>0){s.readTime=Qd(o,a.snapshotVersion.toTimestamp());const u=my(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,t);const r=a3(this.serializer,t);r&&(n.labels=r),this.a_(n)}R_(t){const n={};n.database=yy(this.serializer),n.removeTarget=t,this.a_(n)}}class B3 extends RO{constructor(t,n,r,i,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return Te(!!t.streamToken),this.lastStreamToken=t.streamToken,Te(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Te(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=n3(t.writeResults,t.commitTime),r=Nr(t.commitTime);return this.listener.g_(r,n)}p_(){const t={};t.database=yy(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>t3(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3 extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new q($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(t,gy(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q($.UNKNOWN,o.toString())})}Lo(t,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(t,gy(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q($.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class H3{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pi(n),this.D_=!1):Y("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{xa(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=oe(l);u.L_.add(4),await dc(u),u.q_.set("Unknown"),u.L_.delete(4),await bp(u)}(this))})}),this.q_=new H3(r,i)}}async function bp(e){if(xa(e))for(const t of e.B_)await t(!0)}async function dc(e){for(const t of e.B_)await t(!1)}function NO(e,t){const n=oe(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),H_(n)?W_(n):Gs(n).r_()&&B_(n,t))}function z_(e,t){const n=oe(e),r=Gs(n);n.N_.delete(t),r.r_()&&DO(n,t),n.N_.size===0&&(r.r_()?r.o_():xa(n)&&n.q_.set("Unknown"))}function B_(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ie.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Gs(e).A_(t)}function DO(e,t){e.Q_.xe(t),Gs(e).R_(t)}function W_(e){e.Q_=new qB({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Gs(e).start(),e.q_.v_()}function H_(e){return xa(e)&&!Gs(e).n_()&&e.N_.size>0}function xa(e){return oe(e).L_.size===0}function MO(e){e.Q_=void 0}async function q3(e){e.q_.set("Online")}async function G3(e){e.N_.forEach((t,n)=>{B_(e,t)})}async function Q3(e,t){MO(e),H_(e)?(e.q_.M_(t),W_(e)):e.q_.set("Unknown")}async function Y3(e,t,n){if(e.q_.set("Online"),t instanceof EO&&t.state===2&&t.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(e,t)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Yd(e,r)}else if(t instanceof od?e.Q_.Ke(t):t instanceof wO?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ie.min()))try{const r=await CO(e.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Lt.EMPTY_BYTE_STRING,c.snapshotVersion)),DO(o,l);const d=new Ji(c.target,l,u,c.sequenceNumber);B_(o,d)}),o.remoteSyncer.applyRemoteEvent(s)}(e,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await Yd(e,r)}}async function Yd(e,t,n){if(!uc(t))throw t;e.L_.add(1),await dc(e),e.q_.set("Offline"),n||(n=()=>CO(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await bp(e)})}function LO(e,t){return t().catch(n=>Yd(e,n,t))}async function Sp(e){const t=oe(e),n=_o(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;X3(t);)try{const i=await D3(t.localStore,r);if(i===null){t.O_.length===0&&n.o_();break}r=i.batchId,J3(t,i)}catch(i){await Yd(t,i)}jO(t)&&VO(t)}function X3(e){return xa(e)&&e.O_.length<10}function J3(e,t){e.O_.push(t);const n=_o(e);n.r_()&&n.V_&&n.m_(t.mutations)}function jO(e){return xa(e)&&!_o(e).n_()&&e.O_.length>0}function VO(e){_o(e).start()}async function Z3(e){_o(e).p_()}async function e6(e){const t=_o(e);for(const n of e.O_)t.m_(n.mutations)}async function t6(e,t,n){const r=e.O_.shift(),i=L_.from(r,t,n);await LO(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Sp(e)}async function n6(e,t){t&&_o(e).V_&&await async function(r,i){if(function(a){return WB(a)&&a!==$.ABORTED}(i.code)){const o=r.O_.shift();_o(r).s_(),await LO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Sp(r)}}(e,t),jO(e)&&VO(e)}async function bP(e,t){const n=oe(e);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=xa(n);n.L_.add(3),await dc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await bp(n)}async function r6(e,t){const n=oe(e);t?(n.L_.delete(2),await bp(n)):t||(n.L_.add(2),await dc(n),n.q_.set("Unknown"))}function Gs(e){return e.K_||(e.K_=function(n,r,i){const o=oe(n);return o.w_(),new z3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Eo:q3.bind(null,e),Ro:G3.bind(null,e),mo:Q3.bind(null,e),d_:Y3.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),H_(e)?W_(e):e.q_.set("Unknown")):(await e.K_.stop(),MO(e))})),e.K_}function _o(e){return e.U_||(e.U_=function(n,r,i){const o=oe(n);return o.w_(),new B3(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Z3.bind(null,e),mo:n6.bind(null,e),f_:e6.bind(null,e),g_:t6.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Sp(e)):(await e.U_.stop(),e.O_.length>0&&(Y("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const a=Date.now()+r,s=new K_(t,n,a,i,o);return s.start(r),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q_(e,t){if(pi("AsyncQueue",`${t}: ${e}`),uc(e))return new q($.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t){this.comparator=t?(n,r)=>t(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Fl(),this.sortedSet=new We(this.comparator)}static emptySet(t){return new cs(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof cs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new cs;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.W_=new We(te.comparator)}track(t){const n=t.doc.key,r=this.W_.get(n);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(n,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(n):t.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):re():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Is{constructor(t,n,r,i,o,a,s,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Is(t,n,cs.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class o6{constructor(){this.queries=PP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=oe(n),o=i.queries;i.queries=PP(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new q($.ABORTED,"Firestore shutting down"))}}function PP(){return new qs(e=>sO(e),gp)}async function $O(e,t){const n=oe(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new i6,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=q_(a,`Initialization of query '${Ua(t.query)}' failed`);return void t.onError(s)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&G_(n)}async function UO(e,t){const n=oe(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(t);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function a6(e,t){const n=oe(e);let r=!1;for(const i of t){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&G_(n)}function s6(e,t,n){const r=oe(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function G_(e){e.Y_.forEach(t=>{t.next()})}var wy,TP;(TP=wy||(wy={})).ea="default",TP.Cache="cache";class FO{constructor(t,n,r){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Is(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=Is.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==wy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t){this.key=t}}class BO{constructor(t){this.key=t}}class l6{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=lO(t),this.Ra=new cs(this.Aa)}get Va(){return this.Ta}ma(t,n){const r=n?n.fa:new SP,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),p=vp(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),y=!0):this.ga(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||u)&&(s=!0)),y&&(p?(a=a.add(p),o=_?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const a=t.fa.G_();a.sort((c,d)=>function(p,g){const _=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return _(p)-_(g)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Is(this.query,t.Ra,o,a,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new SP,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return t.forEach(r=>{this.da.has(r)||n.push(new BO(r))}),this.da.forEach(r=>{t.has(r)||n.push(new zO(r))}),n}ba(t){this.Ta=t.Ts,this.da=pe();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return Is.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class u6{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class c6{constructor(t){this.key=t,this.va=!1}}class f6{constructor(t,n,r,i,o,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new qs(s=>sO(s),gp),this.Ma=new Map,this.xa=new Set,this.Oa=new We(te.comparator),this.Na=new Map,this.La=new $_,this.Ba={},this.ka=new Map,this.qa=xs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function d6(e,t,n=!0){const r=QO(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await WO(r,t,n,!0),i}async function h6(e,t){const n=QO(e);await WO(n,t,!0,!1)}async function WO(e,t,n,r){const i=await M3(e.localStore,Rr(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await p6(e,t,o,a==="current",i.resumeToken)),e.isPrimaryClient&&n&&NO(e.remoteStore,i),s}async function p6(e,t,n,r,i){e.Ka=(d,h,p)=>async function(_,y,w,b){let S=y.view.ma(w);S.ns&&(S=await _P(_.localStore,y.query,!1).then(({documents:T})=>y.view.ma(T,S)));const I=b&&b.targetChanges.get(y.targetId),O=b&&b.targetMismatches.get(y.targetId)!=null,M=y.view.applyChanges(S,_.isPrimaryClient,I,O);return xP(_,y.targetId,M.wa),M.snapshot}(e,d,h,p);const o=await _P(e.localStore,t,!0),a=new l6(t,o.Ts),s=a.ma(o.documents),l=fc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=a.applyChanges(s,e.isPrimaryClient,l);xP(e,n,u.wa);const c=new u6(t,n,a);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function m6(e,t,n){const r=oe(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!gp(a,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _y(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&z_(r.remoteStore,i.targetId),Ey(r,i.targetId)}).catch(lc)):(Ey(r,i.targetId),await _y(r.localStore,i.targetId,!0))}async function g6(e,t){const n=oe(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),z_(n.remoteStore,r.targetId))}async function v6(e,t,n){const r=P6(e);try{const i=await function(a,s){const l=oe(a),u=ct.now(),c=s.reduce((p,g)=>p.add(g.key),pe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=mi(),_=pe();return l.cs.getEntries(p,c).next(y=>{g=y,g.forEach((w,b)=>{b.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(y=>{d=y;const w=[];for(const b of s){const S=$B(b,d.get(b.key).overlayedDocument);S!=null&&w.push(new xo(b.key,S,ZC(S.value.mapValue),Yn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,s)}).next(y=>{h=y;const w=y.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:h.batchId,changes:cO(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new We(_e)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await hc(r,i.changes),await Sp(r.remoteStore)}catch(i){const o=q_(i,"Failed to persist write");n.reject(o)}}async function HO(e,t){const n=oe(e);try{const r=await R3(n.localStore,t);t.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Te(a.va):i.removedDocuments.size>0&&(Te(a.va),a.va=!1))}),await hc(n,r,t)}catch(r){await lc(r)}}function AP(e,t,n){const r=oe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(t);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=oe(a);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(s)&&(u=!0)}),u&&G_(l)}(r.eventManager,t),i.length&&r.Ca.d_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function y6(e,t,n){const r=oe(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let a=new We(te.comparator);a=a.insert(o,Gt.newNoDocument(o,ie.min()));const s=pe().add(o),l=new wp(ie.min(),new Map,new We(_e),a,s);await HO(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(t),Q_(r)}else await _y(r.localStore,t,!1).then(()=>Ey(r,t,n)).catch(lc)}async function _6(e,t){const n=oe(e),r=t.batch.batchId;try{const i=await O3(n.localStore,t);qO(n,r,null),KO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hc(n,i)}catch(i){await lc(i)}}async function w6(e,t,n){const r=oe(e);try{const i=await function(a,s){const l=oe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(Te(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);qO(r,t,n),KO(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await hc(r,i)}catch(i){await lc(i)}}function KO(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function qO(e,t,n){const r=oe(e);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Ey(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(r=>{e.La.containsKey(r)||GO(e,r)})}function GO(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(z_(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Q_(e))}function xP(e,t,n){for(const r of n)r instanceof zO?(e.La.addReference(r.key,t),E6(e,r)):r instanceof BO?(Y("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||GO(e,r.key)):re()}function E6(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Y("SyncEngine","New document in limbo: "+n),e.xa.add(r),Q_(e))}function Q_(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new te(Me.fromString(t)),r=e.qa.next();e.Na.set(r,new c6(n)),e.Oa=e.Oa.insert(n,r),NO(e.remoteStore,new Ji(Rr(N_(n.path)),r,"TargetPurposeLimboResolution",x_.oe))}}async function hc(e,t,n){const r=oe(e),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=F_.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=oe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(u,h=>F.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>F.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!uc(d))throw d;Y("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.os.get(h),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(h,_)}}}(r.localStore,o))}async function b6(e,t){const n=oe(e);if(!n.currentUser.isEqual(t)){Y("SyncEngine","User change. New user:",t.toKey());const r=await kO(n.localStore,t);n.currentUser=t,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new q($.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await hc(n,r.hs)}}function S6(e,t){const n=oe(e),r=n.Na.get(t);if(r&&r.va)return pe().add(r.key);{let i=pe();const o=n.Ma.get(t);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function QO(e){const t=oe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=HO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=S6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=y6.bind(null,t),t.Ca.d_=a6.bind(null,t.eventManager),t.Ca.$a=s6.bind(null,t.eventManager),t}function P6(e){const t=oe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=w6.bind(null,t),t}class Xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ep(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return C3(this.persistence,new I3,t.initialUser,this.serializer)}Ga(t){return new T3(U_.Zr,this.serializer)}Wa(t){return new j3}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xd.provider={build:()=>new Xd};class by{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=b6.bind(null,this.syncEngine),await r6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new o6}()}createDatastore(t){const n=Ep(t.databaseInfo.databaseId),r=function(o){return new F3(o)}(t.databaseInfo);return function(o,a,s,l){return new W3(o,a,s,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,a,s){return new K3(r,i,o,a,s)}(this.localStore,this.datastore,t.asyncQueue,n=>AP(this.syncEngine,n,0),function(){return EP.D()?new EP:new V3}())}createSyncEngine(t,n){return function(i,o,a,s,l,u,c){const d=new f6(i,o,a,s,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const o=oe(i);Y("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await dc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}by.provider={build:()=>new by};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):pi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kt.UNAUTHENTICATED,this.clientId=YC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{Y("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Y("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=q_(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Og(e,t){e.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await kO(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function IP(e,t){e.asyncQueue.verifyOperationInProgress();const n=await A6(e);Y("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>bP(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>bP(t.remoteStore,i)),e._onlineComponents=t}async function A6(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await Og(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ss("Error using user provided cache. Falling back to memory cache: "+n),await Og(e,new Xd)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await Og(e,new Xd);return e._offlineComponents}async function XO(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await IP(e,e._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await IP(e,new by))),e._onlineComponents}function x6(e){return XO(e).then(t=>t.syncEngine)}async function JO(e){const t=await XO(e),n=t.eventManager;return n.onListen=d6.bind(null,t.syncEngine),n.onUnlisten=m6.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=h6.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=g6.bind(null,t.syncEngine),n}function I6(e,t,n={}){const r=new ai;return e.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new YO({next:h=>{c.Za(),a.enqueueAndForget(()=>UO(o,d));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new q($.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new q($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new FO(N_(s.path),c,{includeMetadataChanges:!0,_a:!0});return $O(o,d)}(await JO(e),e.asyncQueue,t,n,r)),r.promise}function k6(e,t,n={}){const r=new ai;return e.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new YO({next:h=>{c.Za(),a.enqueueAndForget(()=>UO(o,d)),h.fromCache&&l.source==="server"?u.reject(new q($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new FO(s,c,{includeMetadataChanges:!0,_a:!0});return $O(o,d)}(await JO(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(e,t,n){if(!n)throw new q($.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function C6(e,t,n,r){if(t===!0&&r===!0)throw new q($.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function CP(e){if(!te.isDocumentKey(e))throw new q($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function OP(e){if(te.isDocumentKey(e))throw new q($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Pp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":re()}function vr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pp(e);throw new q($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new q($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new q($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}C6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZO((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Tp{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RP({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new q($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RP(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qz;switch(r.type){case"firstParty":return new Xz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kP.get(n);r&&(Y("ComponentProvider","Removing Datastore"),kP.delete(n),r.terminate())}(this),Promise.resolve()}}function O6(e,t,n,r={}){var i;const o=(e=vr(e,Tp))._getSettings(),a=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=Kt.MOCK_USER;else{s=VC(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new q($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Kt(u)}e._authCredentials=new Gz(new QC(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ia(this.firestore,t,this._query)}}class un{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new un(this.firestore,t,this._key)}}class co extends Ia{constructor(t,n,r){super(t,n,N_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new un(this.firestore,null,new te(t))}withConverter(t){return new co(this.firestore,t,this._path)}}function Ap(e,t,...n){if(e=Ze(e),eR("collection","path",t),e instanceof Tp){const r=Me.fromString(t,...n);return OP(r),new co(e,null,r)}{if(!(e instanceof un||e instanceof co))throw new q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Me.fromString(t,...n));return OP(r),new co(e.firestore,null,r)}}function wo(e,t,...n){if(e=Ze(e),arguments.length===1&&(t=YC.newId()),eR("doc","path",t),e instanceof Tp){const r=Me.fromString(t,...n);return CP(r),new un(e,null,new te(r))}{if(!(e instanceof un||e instanceof co))throw new q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Me.fromString(t,...n));return CP(r),new un(e.firestore,e instanceof co?e.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new OO(this,"async_queue_retry"),this.Vu=()=>{const r=Cg();r&&Y("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const n=Cg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=Cg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ai;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!uc(t))throw t;Y("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw pi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(t,n,r){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const i=K_.createAndSchedule(this,t,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&re()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}class ka extends Tp{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new NP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NP(t),this._firestoreClient=void 0,await t}}}function tR(e,t){const n=typeof e=="object"?e:pp(),r=typeof e=="string"?e:t||"(default)",i=hp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=MC("firestore");o&&O6(i,...o)}return i}function Y_(e){if(e._terminated)throw new q($.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||R6(e),e._firestoreClient}function R6(e){var t,n,r;const i=e._freezeSettings(),o=function(s,l,u,c){return new cB(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,ZO(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new T6(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ks(Lt.fromBase64String(t))}catch(n){throw new q($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ks(Lt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return _e(this._lat,t._lat)||_e(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=/^__.*__$/;class D6{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new xo(t,this.data,this.fieldMask,n,this.fieldTransforms):new cc(t,this.data,n,this.fieldTransforms)}}class nR{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new xo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function rR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class Z_{constructor(t,n,r,i,o,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Z_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.Ou(t),i}Nu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Jd(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(rR(this.Cu)&&N6.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class M6{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ep(t)}Qu(t,n,r,i=!1){return new Z_({Cu:t,methodName:n,qu:r,path:Ct.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kp(e){const t=e._freezeSettings(),n=Ep(e._databaseId);return new M6(e._databaseId,!!t.ignoreUndefinedProperties,n)}function iR(e,t,n,r,i,o={}){const a=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);tw("Data must be an object, but it was:",a,r);const s=oR(r,a);let l,u;if(o.merge)l=new On(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=Sy(t,d,n);if(!a.contains(h))throw new q($.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);sR(c,h)||c.push(h)}l=new On(c),u=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=a.fieldTransforms;return new D6(new vn(s),l,u)}class Cp extends Ip{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Cp}}class ew extends Ip{_toFieldTransform(t){return new MB(t.path,new Du)}isEqual(t){return t instanceof ew}}function L6(e,t,n,r){const i=e.Qu(1,t,n);tw("Data must be an object, but it was:",i,r);const o=[],a=vn.empty();Aa(r,(l,u)=>{const c=nw(t,l,n);u=Ze(u);const d=i.Nu(c);if(u instanceof Cp)o.push(c);else{const h=pc(u,d);h!=null&&(o.push(c),a.set(c,h))}});const s=new On(o);return new nR(a,s,i.fieldTransforms)}function j6(e,t,n,r,i,o){const a=e.Qu(1,t,n),s=[Sy(t,r,n)],l=[i];if(o.length%2!=0)throw new q($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(Sy(t,o[h])),l.push(o[h+1]);const u=[],c=vn.empty();for(let h=s.length-1;h>=0;--h)if(!sR(u,s[h])){const p=s[h];let g=l[h];g=Ze(g);const _=a.Nu(p);if(g instanceof Cp)u.push(p);else{const y=pc(g,_);y!=null&&(u.push(p),c.set(p,y))}}const d=new On(u);return new nR(c,d,a.fieldTransforms)}function V6(e,t,n,r=!1){return pc(n,e.Qu(r?4:3,t))}function pc(e,t){if(aR(e=Ze(e)))return tw("Unsupported field value:",t,e),oR(e,t);if(e instanceof Ip)return function(r,i){if(!rR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=pc(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ct.fromDate(r);return{timestampValue:Qd(i.serializer,o)}}if(r instanceof ct){const o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qd(i.serializer,o)}}if(r instanceof X_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ks)return{bytesValue:bO(i.serializer,r._byteString)};if(r instanceof un){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:V_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof J_)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return D_(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Pp(r)}`)}(e,t)}function oR(e,t){const n={};return XC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Aa(e,(r,i)=>{const o=pc(i,t.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function aR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ct||e instanceof X_||e instanceof ks||e instanceof un||e instanceof Ip||e instanceof J_)}function tw(e,t,n){if(!aR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Pp(n);throw r==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Sy(e,t,n){if((t=Ze(t))instanceof xp)return t._internalPath;if(typeof t=="string")return nw(e,t);throw Jd("Field path arguments must be of type string or ",e,!1,void 0,n)}const $6=new RegExp("[~\\*/\\[\\]]");function nw(e,t,n){if(t.search($6)>=0)throw Jd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new xp(...t.split("."))._internalPath}catch{throw Jd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Jd(e,t,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new q($.INVALID_ARGUMENT,s+e+l)}function sR(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new U6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Op("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U6 extends lR{data(){return super.data()}}function Op(e,t){return typeof t=="string"?nw(e,t):t instanceof xp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rw{}class uR extends rw{}function cR(e,t,...n){let r=[];t instanceof rw&&r.push(t),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof iw).length,s=o.filter(l=>l instanceof Rp).length;if(a>1||a>0&&s>0)throw new q($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class Rp extends uR{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Rp(t,n,r)}_apply(t){const n=this._parse(t);return fR(t._query,n),new Ia(t.firestore,t.converter,hy(t._query,n))}_parse(t){const n=kp(t.firestore);return function(o,a,s,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new q($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){MP(d,c);const p=[];for(const g of d)p.push(DP(l,o,g));h={arrayValue:{values:p}}}else h=DP(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||MP(d,c),h=V6(s,a,d,c==="in"||c==="not-in");return rt.create(u,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function z6(e,t,n){const r=t,i=Op("where",e);return Rp._create(i,r,n)}class iw extends rw{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new iw(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)fR(a,l),a=hy(a,l)}(t._query,n),new Ia(t.firestore,t.converter,hy(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ow extends uR{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new ow(t,n)}_apply(t){const n=function(i,o,a){if(i.startAt!==null)throw new q($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nu(o,a)}(t._query,this._field,this._direction);return new Ia(t.firestore,t.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new Ks(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function B6(e,t="asc"){const n=t,r=Op("orderBy",e);return ow._create(r,n)}function DP(e,t,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new q($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aO(t)&&n.indexOf("/")!==-1)throw new q($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Me.fromString(n));if(!te.isDocumentKey(r))throw new q($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nP(e,new te(r))}if(n instanceof un)return nP(e,n._key);throw new q($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pp(n)}.`)}function MP(e,t){if(!Array.isArray(e)||e.length===0)throw new q($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function fR(e,t){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new q($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new q($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class W6{convertValue(t,n="none"){switch(fa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ca(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw re()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Aa(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(t){var n,r,i;const o=(i=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Xe(a.doubleValue));return new J_(o)}convertGeoPoint(t){return new X_(Xe(t.latitude),Xe(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=k_(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cu(t));default:return null}}convertTimestamp(t){const n=yo(t);return new ct(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Me.fromString(t);Te(IO(r));const i=new Ou(r.get(1),r.get(3)),o=new te(r.popFirst(5));return i.isEqual(n)||pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hR extends lR{constructor(t,n,r,i,o,a){super(t,n,r,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Op("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ad extends hR{data(t={}){return super.data(t)}}class H6{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new ad(this._firestore,this._userDataWriter,r.key,r,new Bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new ad(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Bl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new ad(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Bl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:K6(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function K6(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(e){e=vr(e,un);const t=vr(e.firestore,ka);return I6(Y_(t),e._key).then(n=>G6(t,e,n))}class pR extends W6{constructor(t){super(),this.firestore=t}convertBytes(t){return new ks(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new un(this.firestore,null,n)}}function sw(e){e=vr(e,Ia);const t=vr(e.firestore,ka),n=Y_(t),r=new pR(t);return F6(e._query),k6(n,e._query).then(i=>new H6(t,r,e,i))}function LP(e,t,n){e=vr(e,un);const r=vr(e.firestore,ka),i=dR(e.converter,t,n);return Np(r,[iR(kp(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Yn.none())])}function q6(e,t,n,...r){e=vr(e,un);const i=vr(e.firestore,ka),o=kp(i);let a;return a=typeof(t=Ze(t))=="string"||t instanceof xp?j6(o,"updateDoc",e._key,t,n,r):L6(o,"updateDoc",e._key,t),Np(i,[a.toMutation(e._key,Yn.exists(!0))])}function mR(e){return Np(vr(e.firestore,ka),[new M_(e._key,Yn.none())])}function gR(e,t){const n=vr(e.firestore,ka),r=wo(e),i=dR(e.converter,t);return Np(n,[iR(kp(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function Np(e,t){return function(r,i){const o=new ai;return r.asyncQueue.enqueueAndForget(async()=>v6(await x6(r),i,o)),o.promise}(Y_(e),t)}function G6(e,t,n){const r=n.docs.get(t._key),i=new pR(e);return new hR(e,i,t._key,r,new Bl(n.hasPendingWrites,n.fromCache),t.converter)}function Q6(){return new ew("serverTimestamp")}(function(t,n=!0){(function(i){Hs=i})(Ta),la(new go("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new ka(new Qz(r.getProvider("auth-internal")),new Zz(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Or(XS,"4.7.3",t),Or(XS,"4.7.3","esm2017")})();function lw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function vR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y6=vR,yR=new ac("auth","Firebase",vR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new S_("@firebase/auth");function X6(e,...t){Zd.logLevel<=me.WARN&&Zd.warn(`Auth (${Ta}): ${e}`,...t)}function sd(e,...t){Zd.logLevel<=me.ERROR&&Zd.error(`Auth (${Ta}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(e,...t){throw cw(e,...t)}function hr(e,...t){return cw(e,...t)}function uw(e,t,n){const r=Object.assign(Object.assign({},Y6()),{[t]:n});return new ac("auth","Firebase",r).create(t,{appName:e.name})}function fo(e){return uw(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _R(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&jr(e,"argument-error"),uw(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cw(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return yR.create(e,...t)}function ne(e,t,...n){if(!e)throw cw(t,...n)}function ei(e){const t="INTERNAL ASSERTION FAILED: "+e;throw sd(t),new Error(t)}function gi(e,t){e||ei(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function J6(){return jP()==="http:"||jP()==="https:"}function jP(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J6()||TF()||"connection"in navigator)?navigator.onLine:!0}function e9(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t,n){this.shortDelay=t,this.longDelay=n,gi(n>t,"Short delay should be less than long delay!"),this.isMobile=bF()||AF()}get(){return Z6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(e,t){gi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=new mc(3e4,6e4);function dw(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Qs(e,t,n,r,i={}){return ER(e,i,async()=>{let o={},a={};r&&(t==="GET"?a=r:o={body:JSON.stringify(r)});const s=sc(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},o);return PF()||(u.referrerPolicy="no-referrer"),wR.fetch()(bR(e,e.config.apiHost,n,s),u)})}async function ER(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},t9),t);try{const i=new i9(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Tf(e,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tf(e,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Tf(e,"email-already-in-use",a);if(l==="USER_DISABLED")throw Tf(e,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw uw(e,c,u);jr(e,c)}}catch(i){if(i instanceof Br)throw i;jr(e,"network-request-failed",{message:String(i)})}}async function r9(e,t,n,r,i={}){const o=await Qs(e,t,n,r,i);return"mfaPendingCredential"in o&&jr(e,"multi-factor-auth-required",{_serverResponse:o}),o}function bR(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?fw(e.config,i):`${e.config.apiScheme}://${i}`}class i9{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),n9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tf(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hr(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(e,t){return Qs(e,"POST","/v1/accounts:delete",t)}async function SR(e,t){return Qs(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function a9(e,t=!1){const n=Ze(e),r=await n.getIdToken(t),i=hw(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ou(Rg(i.auth_time)),issuedAtTime:ou(Rg(i.iat)),expirationTime:ou(Rg(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Rg(e){return Number(e)*1e3}function hw(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const i=NC(n);return i?JSON.parse(i):(sd("Failed to decode base64 JWT payload"),null)}catch(i){return sd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function VP(e){const t=hw(e);return ne(t,"internal-error"),ne(typeof t.exp<"u","internal-error"),ne(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Br&&s9(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function s9({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ju(e,SR(n,{idToken:r}));ne(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?PR(o.providerUserInfo):[],s=c9(e.providerData,a),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Ty(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function u9(e){const t=Ze(e);await eh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function c9(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function PR(e){return e.map(t=>{var{providerId:n}=t,r=lw(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(e,t){const n=await ER(e,{},async()=>{const r=sc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,a=bR(e,i,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",wR.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function d9(e,t){return Qs(e,"POST","/v2/accounts:revokeToken",dw(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ne(t.idToken,"internal-error"),ne(typeof t.idToken<"u","internal-error"),ne(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):VP(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){ne(t.length!==0,"internal-error");const n=VP(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await f9(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new fs;return r&&(ne(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),o&&(ne(typeof o=="number","internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fs,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(e,t){ne(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ti{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=lw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new l9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ty(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await ju(this,this.stsTokenManager.getToken(this.auth,t));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return a9(this,t)}reload(){return u9(this)}_assign(t){this!==t&&(ne(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ti(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ar(this.auth.app))return Promise.reject(fo(this.auth));const t=await this.getIdToken();return await ju(this,o9(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,a,s,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(a=n.photoURL)!==null&&a!==void 0?a:void 0,_=(s=n.tenantId)!==null&&s!==void 0?s:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:I,isAnonymous:O,providerData:M,stsTokenManager:T}=n;ne(S&&T,t,"internal-error");const P=fs.fromJSON(this.name,T);ne(typeof S=="string",t,"internal-error"),ji(d,t.name),ji(h,t.name),ne(typeof I=="boolean",t,"internal-error"),ne(typeof O=="boolean",t,"internal-error"),ji(p,t.name),ji(g,t.name),ji(_,t.name),ji(y,t.name),ji(w,t.name),ji(b,t.name);const x=new ti({uid:S,auth:t,email:h,emailVerified:I,displayName:d,isAnonymous:O,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:P,createdAt:w,lastLoginAt:b});return M&&Array.isArray(M)&&(x.providerData=M.map(R=>Object.assign({},R))),y&&(x._redirectEventId=y),x}static async _fromIdTokenResponse(t,n,r=!1){const i=new fs;i.updateFromServerResponse(n);const o=new ti({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await eh(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];ne(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?PR(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new fs;s.updateFromIdToken(r);const l=new ti({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ty(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new Map;function ni(e){gi(e instanceof Function,"Expected a class definition");let t=$P.get(e);return t?(gi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,$P.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}TR.type="NONE";const UP=TR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(e,t,n){return`firebase:${e}:${t}:${n}`}class ds{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ld(this.userKey,i.apiKey,o),this.fullPersistenceKey=ld("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ti._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ds(ni(UP),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ni(UP);const a=ld(r,t.config.apiKey,t.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const d=ti._fromJSON(t,c);u!==o&&(s=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ds(o,t,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new ds(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(AR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(OR(t))return"Blackberry";if(RR(t))return"Webos";if(xR(t))return"Safari";if((t.includes("chrome/")||IR(t))&&!t.includes("edge/"))return"Chrome";if(CR(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AR(e=Jt()){return/firefox\//i.test(e)}function xR(e=Jt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function IR(e=Jt()){return/crios\//i.test(e)}function kR(e=Jt()){return/iemobile/i.test(e)}function CR(e=Jt()){return/android/i.test(e)}function OR(e=Jt()){return/blackberry/i.test(e)}function RR(e=Jt()){return/webos/i.test(e)}function pw(e=Jt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function h9(e=Jt()){var t;return pw(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function p9(){return xF()&&document.documentMode===10}function NR(e=Jt()){return pw(e)||CR(e)||RR(e)||OR(e)||/windows phone/i.test(e)||kR(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(e,t=[]){let n;switch(e){case"Browser":n=FP(Jt());break;case"Worker":n=`${FP(Jt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((a,s)=>{try{const l=t(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(e,t={}){return Qs(e,"GET","/v2/passwordPolicy",dw(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=6;class y9{constructor(t){var n,r,i,o;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:v9,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zP(this),this.idTokenSubscription=new zP(this),this.beforeStateQueue=new m9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ds.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await SR(this,{idToken:t}),r=await ti._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Ar(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await eh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=e9()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ar(this.app))return Promise.reject(fo(this));const n=t?Ze(t):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ne(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ar(this.app)?Promise.reject(fo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ar(this.app)?Promise.reject(fo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await g9(this),n=new y9(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ac("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await d9(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ni(t)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await ds.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=t.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=DR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&X6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ys(e){return Ze(e)}class zP{constructor(t){this.auth=t,this.observer=null,this.addObserver=MF(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function w9(e){mw=e}function E9(e){return mw.loadJS(e)}function b9(){return mw.gapiScript}function S9(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(e,t){const n=hp(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Hd(o,t??{}))return i;jr(i,"already-initialized")}return n.initialize({options:t})}function T9(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function A9(e,t,n){const r=Ys(e);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=MR(t),{host:a,port:s}=x9(t),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||I9()}function MR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function x9(e){const t=MR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:BP(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:BP(a)}}}function BP(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function I9(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(t){return ei("not implemented")}_linkToIdToken(t,n){return ei("not implemented")}_getReauthenticationResolver(t){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hs(e,t){return r9(e,"POST","/v1/accounts:signInWithIdp",dw(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9="http://localhost";class da extends LR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new da(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=lw(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new da(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return hs(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,hs(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,hs(t,n)}buildRequest(){const t={requestUri:k9,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=sc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends Dp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends gc{constructor(){super("facebook.com")}static credential(t){return da._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Wi.credentialFromTaggedObject(t)}static credentialFromError(t){return Wi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Wi.credential(t.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return da._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends gc{constructor(){super("github.com")}static credential(t){return da._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hi.credentialFromTaggedObject(t)}static credentialFromError(t){return Hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hi.credential(t.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends gc{constructor(){super("twitter.com")}static credential(t,n){return da._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ki.credentialFromTaggedObject(t)}static credentialFromError(t){return Ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await ti._fromIdTokenResponse(t,r,i),a=WP(r);return new Cs({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=WP(r);return new Cs({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function WP(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends Br{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new th(t,n,r,i)}}function jR(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(e,o,t,r):o})}async function C9(e,t,n=!1){const r=await ju(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Cs._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O9(e,t,n=!1){const{auth:r}=e;if(Ar(r.app))return Promise.reject(fo(r));const i="reauthenticate";try{const o=await ju(e,jR(r,i,t,e),n);ne(o.idToken,r,"internal-error");const a=hw(o.idToken);ne(a,r,"internal-error");const{sub:s}=a;return ne(e.uid===s,r,"user-mismatch"),Cs._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R9(e,t,n=!1){if(Ar(e.app))return Promise.reject(fo(e));const r="signIn",i=await jR(e,r,t),o=await Cs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function N9(e,t,n,r){return Ze(e).onIdTokenChanged(t,n,r)}function D9(e,t,n){return Ze(e).beforeAuthStateChanged(t,n)}function M9(e,t,n,r){return Ze(e).onAuthStateChanged(t,n,r)}function L9(e){return Ze(e).signOut()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=1e3,V9=10;class $R extends VR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);p9()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,V9):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},j9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}$R.type="LOCAL";const $9=$R;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR extends VR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}UR.type="SESSION";const FR=UR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Mp(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await U9(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=gw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function z9(e){Dr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function B9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W9(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function H9(){return zR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="firebaseLocalStorageDb",K9=1,rh="firebaseLocalStorage",WR="fbase_key";class vc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lp(e,t){return e.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function q9(){const e=indexedDB.deleteDatabase(BR);return new vc(e).toPromise()}function Ay(){const e=indexedDB.open(BR,K9);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(rh,{keyPath:WR})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(rh)?t(r):(r.close(),await q9(),t(await Ay()))})})}async function HP(e,t,n){const r=Lp(e,!0).put({[WR]:t,value:n});return new vc(r).toPromise()}async function G9(e,t){const n=Lp(e,!1).get(t),r=await new vc(n).toPromise();return r===void 0?null:r.value}function KP(e,t){const n=Lp(e,!0).delete(t);return new vc(n).toPromise()}const Q9=800,Y9=3;class HR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ay(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Y9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mp._getInstance(H9()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await B9(),!this.activeServiceWorker)return;this.sender=new F9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||W9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ay();return await HP(t,nh,"1"),await KP(t,nh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>HP(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>G9(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>KP(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=Lp(i,!1).getAll();return new vc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HR.type="LOCAL";const X9=HR;new mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(e,t){return t?ni(t):(ne(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends LR{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return hs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return hs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return hs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function J9(e){return R9(e.auth,new yw(e),e.bypassAuthState)}function Z9(e){const{auth:t,user:n}=e;return ne(n,t,"internal-error"),O9(n,new yw(e),e.bypassAuthState)}async function e5(e){const{auth:t,user:n}=e;return ne(n,t,"internal-error"),C9(n,new yw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return J9;case"linkViaPopup":case"linkViaRedirect":return e5;case"reauthViaPopup":case"reauthViaRedirect":return Z9;default:jr(this.auth,"internal-error")}}resolve(t){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new mc(2e3,1e4);async function n5(e,t,n){if(Ar(e.app))return Promise.reject(hr(e,"operation-not-supported-in-this-environment"));const r=Ys(e);_R(e,t,Dp);const i=vw(r,n);return new Ko(r,"signInViaPopup",t,i).executeNotNull()}class Ko extends KR{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ne(t,this.auth,"internal-error"),t}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const t=gw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,t5.get())};t()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="pendingRedirect",ud=new Map;class i5 extends KR{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=ud.get(this.auth._key());if(!t){try{const r=await o5(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}ud.set(this.auth._key(),t)}return this.bypassAuthState||ud.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o5(e,t){const n=GR(t),r=qR(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function a5(e,t){return qR(e)._set(GR(t),"true")}function s5(e,t){ud.set(e._key(),t)}function qR(e){return ni(e._redirectPersistence)}function GR(e){return ld(r5,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(e,t,n){return u5(e,t,n)}async function u5(e,t,n){if(Ar(e.app))return Promise.reject(fo(e));const r=Ys(e);_R(e,t,Dp),await r._initializationPromise;const i=vw(r,n);return await a5(i,r),i._openRedirect(r,t,"signInViaRedirect")}async function c5(e,t){return await Ys(e)._initializationPromise,QR(e,t,!1)}async function QR(e,t,n=!1){if(Ar(e.app))return Promise.reject(fo(e));const r=Ys(e),i=vw(r,t),a=await new i5(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=10*60*1e3;class d5{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!h5(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!YR(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=f5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qP(t))}saveEventToCache(t){this.cachedEventUids.add(qP(t)),this.lastProcessedEventTime=Date.now()}}function qP(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function YR({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function h5(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YR(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(e,t={}){return Qs(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g5=/^https?/;async function v5(e){if(e.config.emulator)return;const{authorizedDomains:t}=await p5(e);for(const n of t)try{if(y5(n))return}catch{}jr(e,"unauthorized-domain")}function y5(e){const t=Py(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!g5.test(n))return!1;if(m5.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=new mc(3e4,6e4);function GP(){const e=Dr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function w5(e){return new Promise((t,n)=>{var r,i,o;function a(){GP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{GP(),n(hr(e,"network-request-failed"))},timeout:_5.get()})}if(!((i=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=Dr().gapi)===null||o===void 0)&&o.load)a();else{const s=S9("iframefcb");return Dr()[s]=()=>{gapi.load?a():n(hr(e,"network-request-failed"))},E9(`${b9()}?onload=${s}`).catch(l=>n(l))}}).catch(t=>{throw cd=null,t})}let cd=null;function E5(e){return cd=cd||w5(e),cd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=new mc(5e3,15e3),S5="__/auth/iframe",P5="emulator/auth/iframe",T5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x5(e){const t=e.config;ne(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?fw(t,P5):`https://${e.config.authDomain}/${S5}`,r={apiKey:t.apiKey,appName:e.name,v:Ta},i=A5.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${sc(r).slice(1)}`}async function I5(e){const t=await E5(e),n=Dr().gapi;return ne(n,e,"internal-error"),t.open({where:document.body,url:x5(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T5,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=hr(e,"network-request-failed"),s=Dr().setTimeout(()=>{o(a)},b5.get());function l(){Dr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C5=500,O5=600,R5="_blank",N5="http://localhost";class QP{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D5(e,t,n,r=C5,i=O5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},k5),{width:r.toString(),height:i.toString(),top:o,left:a}),u=Jt().toLowerCase();n&&(s=IR(u)?R5:n),AR(u)&&(t=t||N5,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(h9(u)&&s!=="_self")return M5(t||"",s),new QP(null);const d=window.open(t||"",s,c);ne(d,e,"popup-blocked");try{d.focus()}catch{}return new QP(d)}function M5(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="__/auth/handler",j5="emulator/auth/handler",V5=encodeURIComponent("fac");async function YP(e,t,n,r,i,o){ne(e.config.authDomain,e,"auth-domain-config-required"),ne(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ta,eventId:i};if(t instanceof Dp){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",DF(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))a[c]=d}if(t instanceof gc){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await e._getAppCheckToken(),u=l?`#${V5}=${encodeURIComponent(l)}`:"";return`${$5(e)}?${sc(s).slice(1)}${u}`}function $5({config:e}){return e.emulator?fw(e,j5):`https://${e.authDomain}/${L5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="webStorageSupport";class U5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FR,this._completeRedirectFn=QR,this._overrideRedirectResult=s5}async _openPopup(t,n,r,i){var o;gi((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await YP(t,n,r,Py(),i);return D5(t,a,gw())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await YP(t,n,r,Py(),i);return z9(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(gi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await I5(t),r=new d5(t);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ng,{type:Ng},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Ng];a!==void 0&&n(!!a),jr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=v5(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return NR()||xR()||pw()}}const F5=U5;var XP="@firebase/auth",JP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W5(e){la(new go("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;ne(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DR(e)},u=new _9(r,i,o,l);return T9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),la(new go("auth-internal",t=>{const n=Ys(t.getProvider("auth").getImmediate());return(r=>new z5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(XP,JP,B5(e)),Or(XP,JP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=5*60,K5=jC("authIdTokenMaxAge")||H5;let ZP=null;const q5=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>K5)return;const i=n==null?void 0:n.token;ZP!==i&&(ZP=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XR(e=pp()){const t=hp(e,"auth");if(t.isInitialized())return t.getImmediate();const n=P9(e,{popupRedirectResolver:F5,persistence:[X9,$9,FR]}),r=jC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=q5(o.toString());D9(n,a,()=>a(n.currentUser)),N9(n,s=>a(s))}}const i=DC("auth");return i&&A9(n,`http://${i}`),n}function G5(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}w9({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=hr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",G5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W5("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebasestorage.googleapis.com",ZR="storageBucket",Q5=2*60*1e3,Y5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge extends Br{constructor(t,n,r=0){super(Dg(t),`Firebase Storage: ${n} (${Dg(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ge.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Dg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qe;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qe||(qe={}));function Dg(e){return"storage/"+e}function _w(){const e="An unknown error occurred, please check the error payload for server response.";return new Ge(qe.UNKNOWN,e)}function X5(e){return new Ge(qe.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function J5(e){return new Ge(qe.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Z5(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ge(qe.UNAUTHENTICATED,e)}function eW(){return new Ge(qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tW(e){return new Ge(qe.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function nW(){return new Ge(qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rW(){return new Ge(qe.CANCELED,"User canceled the upload/download.")}function iW(e){return new Ge(qe.INVALID_URL,"Invalid URL '"+e+"'.")}function oW(e){return new Ge(qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function aW(){return new Ge(qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ZR+"' property when initializing the app?")}function sW(){return new Ge(qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lW(){return new Ge(qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uW(e){return new Ge(qe.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xy(e){return new Ge(qe.INVALID_ARGUMENT,e)}function eN(){return new Ge(qe.APP_DELETED,"The Firebase app was deleted.")}function cW(e){return new Ge(qe.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function au(e,t){return new Ge(qe.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Il(e){throw new Ge(qe.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Rn.makeFromUrl(t,n)}catch{return new Rn(t,"")}if(r.path==="")return r;throw oW(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},_=n===JR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",w=new RegExp(`^https?://${_}/${i}/${y}`,"i"),S=[{regex:s,indices:l,postModify:o},{regex:p,indices:g,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<S.length;I++){const O=S[I],M=O.regex.exec(t);if(M){const T=M[O.indices.bucket];let P=M[O.indices.path];P||(P=""),r=new Rn(T,P),O.postModify(r);break}}if(r==null)throw iW(t);return r}}class fW{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return s===2}let u=!1;function c(...y){u||(u=!0,t.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,e(p,l())},y)}function h(){o&&clearTimeout(o)}function p(y,...w){if(u){h();return}if(y){h(),c.call(null,y,...w);return}if(l()||a){h(),c.call(null,y,...w);return}r<64&&(r*=2);let S;s===1?(s=2,S=0):S=(r+Math.random())*1e3,d(S)}let g=!1;function _(y){g||(g=!0,h(),!u&&(i!==null?(y||(s=2),clearTimeout(i),d(0)):y||(s=1)))}return d(0),o=setTimeout(()=>{a=!0,_(!0)},n),_}function hW(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pW(e){return e!==void 0}function mW(e){return typeof e=="object"&&!Array.isArray(e)}function ww(e){return typeof e=="string"||e instanceof String}function eT(e){return Ew()&&e instanceof Blob}function Ew(){return typeof Blob<"u"}function tT(e,t,n,r){if(r<t)throw xy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw xy(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function tN(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Zo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Zo||(Zo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(t,n,r,i,o,a,s,l,u,c,d,h=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Af(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===Zo.NO_ERROR,l=o.getStatus();if(!s||gW(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===Zo.ABORT;r(!1,new Af(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Af(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());pW(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=_w();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(i.canceled){const l=this.appDelete_?eN():rW();a(l)}else{const l=nW();a(l)}};this.canceled_?n(!1,new Af(!1,null,!0)):this.backoffId_=dW(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&hW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Af{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function yW(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function _W(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function wW(e,t){t&&(e["X-Firebase-GMPID"]=t)}function EW(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function bW(e,t,n,r,i,o,a=!0){const s=tN(e.urlParams),l=e.url+s,u=Object.assign({},e.headers);return wW(u,t),yW(u,n),_W(u,o),EW(u,r),new vW(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function PW(...e){const t=SW();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Ew())return new Blob(e);throw new Ge(qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TW(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(e){if(typeof atob>"u")throw uW("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mg{constructor(t,n){this.data=t,this.contentType=n||null}}function xW(e,t){switch(e){case xr.RAW:return new Mg(nN(t));case xr.BASE64:case xr.BASE64URL:return new Mg(rN(e,t));case xr.DATA_URL:return new Mg(kW(t),CW(t))}throw _w()}function nN(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=r,a=e.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function IW(e){let t;try{t=decodeURIComponent(e)}catch{throw au(xr.DATA_URL,"Malformed data URL.")}return nN(t)}function rN(e,t){switch(e){case xr.BASE64:{const i=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(i||o)throw au(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case xr.BASE64URL:{const i=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(i||o)throw au(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=AW(t)}catch(i){throw i.message.includes("polyfill")?i:au(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class iN{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw au(xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=OW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function kW(e){const t=new iN(e);return t.base64?rN(xr.BASE64,t.rest):IW(t.rest)}function CW(e){return new iN(e).contentType}function OW(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,n){let r=0,i="";eT(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(eT(this.data_)){const r=this.data_,i=TW(r,t,n);return i===null?null:new qi(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new qi(r,!0)}}static getBlob(...t){if(Ew()){const n=t.map(r=>r instanceof qi?r.data_:r);return new qi(PW.apply(null,n))}else{const n=t.map(a=>ww(a)?xW(xr.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let s=0;s<a.length;s++)i[o++]=a[s]}),new qi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(e){let t;try{t=JSON.parse(e)}catch{return null}return mW(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function NW(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function aN(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(e,t){return t}class on{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||DW}}let xf=null;function MW(e){return!ww(e)||e.length<2?e:aN(e)}function sN(){if(xf)return xf;const e=[];e.push(new on("bucket")),e.push(new on("generation")),e.push(new on("metageneration")),e.push(new on("name","fullPath",!0));function t(o,a){return MW(a)}const n=new on("name");n.xform=t,e.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new on("size");return i.xform=r,e.push(i),e.push(new on("timeCreated")),e.push(new on("updated")),e.push(new on("md5Hash",null,!0)),e.push(new on("cacheControl",null,!0)),e.push(new on("contentDisposition",null,!0)),e.push(new on("contentEncoding",null,!0)),e.push(new on("contentLanguage",null,!0)),e.push(new on("contentType",null,!0)),e.push(new on("metadata","customMetadata",!0)),xf=e,xf}function LW(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new Rn(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function jW(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,t[a.server])}return LW(r,e),r}function lN(e,t,n){const r=oN(t);return r===null?null:jW(e,r,n)}function VW(e,t,n,r){const i=oN(t);if(i===null||!ww(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(u=>{const c=e.bucket,d=e.fullPath,h="/b/"+a(c)+"/o/"+a(d),p=bw(h,n,r),g=tN({alt:"media",token:u});return p+g})[0]}function $W(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}class uN{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(e){if(!e)throw _w()}function UW(e,t){function n(r,i){const o=lN(e,i,t);return cN(o!==null),o}return n}function FW(e,t){function n(r,i){const o=lN(e,i,t);return cN(o!==null),VW(o,i,e.host,e._protocol)}return n}function fN(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=eW():i=Z5():n.getStatus()===402?i=J5(e.bucket):n.getStatus()===403?i=tW(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function zW(e){const t=fN(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=X5(e.path)),o.serverResponse=i.serverResponse,o}return n}function BW(e,t,n){const r=t.fullServerUrl(),i=bw(r,e.host,e._protocol),o="GET",a=e.maxOperationRetryTime,s=new uN(i,o,FW(e,n),a);return s.errorHandler=zW(t),s}function WW(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function HW(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=WW(null,t)),r}function KW(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){let S="";for(let I=0;I<2;I++)S=S+Math.random().toString().slice(2);return S}const l=s();a["Content-Type"]="multipart/related; boundary="+l;const u=HW(t,r,i),c=$W(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=qi.getBlob(d,r,h);if(p===null)throw sW();const g={name:u.fullPath},_=bw(o,e.host,e._protocol),y="POST",w=e.maxUploadRetryTime,b=new uN(_,y,UW(e,n),w);return b.urlParams=g,b.headers=a,b.body=p.uploadData(),b.errorHandler=fN(t),b}class qW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zo.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zo.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zo.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw Il("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Il("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Il("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Il("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Il("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class GW extends qW{initXhr(){this.xhr_.responseType="text"}}function dN(){return new GW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t,n){this._service=t,n instanceof Rn?this._location=n:this._location=Rn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ha(t,n)}get root(){const t=new Rn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aN(this._location.path)}get storage(){return this._service}get parent(){const t=RW(this._location.path);if(t===null)return null;const n=new Rn(this._location.bucket,t);return new ha(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw cW(t)}}function QW(e,t,n){e._throwIfRoot("uploadBytes");const r=KW(e.storage,e._location,sN(),new qi(t,!0),n);return e.storage.makeRequestWithTokens(r,dN).then(i=>({metadata:i,ref:e}))}function YW(e){e._throwIfRoot("getDownloadURL");const t=BW(e.storage,e._location,sN());return e.storage.makeRequestWithTokens(t,dN).then(n=>{if(n===null)throw lW();return n})}function XW(e,t){const n=NW(e._location.path,t),r=new Rn(e._location.bucket,n);return new ha(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(e){return/^[A-Za-z]+:\/\//.test(e)}function ZW(e,t){return new ha(e,t)}function hN(e,t){if(e instanceof Sw){const n=e;if(n._bucket==null)throw aW();const r=new ha(n,n._bucket);return t!=null?hN(r,t):r}else return t!==void 0?XW(e,t):e}function e8(e,t){if(t&&JW(t)){if(e instanceof Sw)return ZW(e,t);throw xy("To use ref(service, url), the first argument must be a Storage instance.")}else return hN(e,t)}function nT(e,t){const n=t==null?void 0:t[ZR];return n==null?null:Rn.makeFromBucketSpec(n,e)}function t8(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:VC(i,e.app.options.projectId))}class Sw{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=JR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Q5,this._maxUploadRetryTime=Y5,this._requests=new Set,i!=null?this._bucket=Rn.makeFromBucketSpec(i,this._host):this._bucket=nT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Rn.makeFromBucketSpec(this._url,t):this._bucket=nT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){tT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){tT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ha(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new fW(eN());{const a=bW(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const rT="@firebase/storage",iT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="storage";function n8(e,t,n){return e=Ze(e),QW(e,t,n)}function r8(e){return e=Ze(e),YW(e)}function i8(e,t){return e=Ze(e),e8(e,t)}function o8(e=pp(),t){e=Ze(e);const r=hp(e,pN).getImmediate({identifier:t}),i=MC("storage");return i&&a8(r,...i),r}function a8(e,t,n,r={}){t8(e,t,n,r)}function s8(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Sw(n,r,i,t,Ta)}function l8(){la(new go(pN,s8,"PUBLIC").setMultipleInstances(!0)),Or(rT,iT,""),Or(rT,iT,"esm2017")}l8();const u8={apiKey:"AIzaSyB3SEL01A00iO0SFTt1utqQMCuW9p30GVQ",authDomain:"workoutplannar.firebaseapp.com",projectId:"workoutplannar",storageBucket:"workoutplannar.firebasestorage.app",messagingSenderId:"923344644640",appId:"1:923344644640:web:d21c2ef570bd2c401daa45",measurementId:"G-QV804ZLRLZ"},Pw=sy().length?pp():T_(u8),Os=XR(Pw),pa=tR(Pw),c8=o8(Pw),oT=new Qr,mN=()=>/android|iphone|ipad|ipod/i.test(navigator.userAgent)?l5(Os,oT):n5(Os,oT),gN=()=>L9(Os),jp=e=>Ap(pa,`users/${e}/workouts`);function f8({title:e="FitTrack",onTodayClick:t,onMenuClick:n,theme:r,toggleTheme:i}){const[o,a]=v.useState(0),[s,l]=v.useState(null),[u,c]=v.useState("");return v.useEffect(()=>Os.onAuthStateChanged(h=>{l(h),h&&h.photoURL&&c(h.photoURL)}),[]),v.useEffect(()=>{const d=Number(localStorage.getItem("streak"))||0,h=localStorage.getItem("lastOpen"),p=new Date().toDateString();if(h===p)a(d);else{const g=d+1;a(g),localStorage.setItem("streak",g),localStorage.setItem("lastOpen",p)}},[]),k.createElement("div",{className:"w-full fixed top-0 left-0 z-50 bg-white/70 backdrop-blur-xl border-b border-gray-200 h-14 md:h-16 flex items-center px-4 md:px-6 shadow-[0_2px_12px_rgba(0,0,0,0.05)]"},k.createElement("button",{className:"md:hidden mr-3",onClick:n},k.createElement(uF,{size:24,className:"text-gray-700"})),k.createElement("div",{className:"flex items-center gap-2 md:gap-3"},k.createElement("div",{className:"h-9 w-9 md:h-10 md:w-10 rounded-2xl bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center shadow-inner border border-blue-200"},k.createElement("span",{className:"text-blue-600 font-bold text-base md:text-lg"},"FT")),k.createElement("h1",{className:"text-lg md:text-xl font-semibold text-gray-800 tracking-wide"},e)),k.createElement("div",{className:"hidden md:flex items-center mx-auto w-1/3"},k.createElement("div",{className:"flex items-center gap-2 bg-gray-100/80 backdrop-blur-md border border-gray-200 px-3 py-1.5 rounded-xl w-full shadow-inner"},k.createElement(fF,{size:18,className:"text-gray-500"}),k.createElement("input",{type:"text",placeholder:"Search workouts...",className:"bg-transparent w-full outline-none text-sm"}))),k.createElement("div",{className:"flex items-center gap-3 md:gap-5 ml-auto"},k.createElement("div",{className:"hidden sm:flex items-center gap-1.5 bg-orange-50 border border-orange-200 px-2.5 py-1 rounded-xl shadow-sm"},k.createElement(rF,{size:18,className:"text-orange-500"}),k.createElement("span",{className:"text-orange-600 font-semibold text-xs sm:text-sm"},o," days")),k.createElement("button",{onClick:t,className:"hidden md:block px-4 py-1.5 rounded-xl bg-gray-100 hover:bg-gray-200 transition text-sm"},"Today"),k.createElement("button",{className:"h-9 w-9 md:h-10 md:w-10 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition"},k.createElement(XU,{size:20,className:"text-gray-600"})),k.createElement("button",{onClick:i,className:"px-3 py-1 bg-gray-200 rounded"},r==="light"?" Dark Mode":" Light Mode"),s?k.createElement("div",{className:"flex items-center gap-2"},k.createElement("label",{htmlFor:"profileUpload",className:"cursor-pointer"},k.createElement("img",{src:u||`https://ui-avatars.com/api/?name=${s.displayName}&rounded=true&background=E0F2FE&color=0284C7`,alt:"profile",className:"h-9 w-9 md:h-10 md:w-10 rounded-full"})),k.createElement("button",{onClick:gN,className:"px-3 py-1 bg-red-500 text-white rounded text-sm"},"Sign Out")):k.createElement("button",{onClick:mN,className:"px-3 py-1 bg-blue-500 text-white rounded"},"Sign In")))}function d8(){const e=Pa(),t=[{to:"/",icon:k.createElement(sF,{size:26}),label:"Home"},{to:"/analytics",icon:k.createElement(ZU,{size:26}),label:"Stats"},{to:"/add",icon:k.createElement(tF,{size:32}),label:"Add"},{to:"/templates",icon:k.createElement(oF,{size:26}),label:"Templates"},{to:"/profile",icon:k.createElement(hF,{size:26}),label:"Profile"}];return k.createElement("div",{className:"fixed bottom-0 left-0 w-full bg-white shadow-[0_-2px_10px_rgba(0,0,0,0.08)] h-20 flex items-center justify-around z-30 md:hidden"},t.map(n=>k.createElement(AC,{key:n.to,to:n.to,className:`flex flex-col items-center gap-1 text-sm ${e.pathname===n.to?"text-blue-600 font-semibold":"text-gray-500"}`},n.icon,k.createElement("span",null,n.label))))}function br({children:e}){const t=Pa(),[n,r]=v.useState(!1),[i,o]=v.useState("light"),a=()=>o(l=>l==="light"?"dark":"light"),s=l=>t.pathname===l;return k.createElement("div",{className:i==="dark"?"dark bg-gray-900 text-white":"bg-gray-100 text-gray-800"},k.createElement("div",{className:"fixed top-0 left-0 right-0 z-40 hidden md:block"},k.createElement(f8,{title:"FitTrack",onMenuClick:()=>r(!n),toggleTheme:a,theme:i})),k.createElement("div",{className:"md:hidden fixed top-0 left-0 w-full bg-white shadow p-4 flex justify-between items-center z-50"},k.createElement("h1",{className:"text-2xl font-bold text-blue-600"},"FitTrack"),k.createElement("button",{onClick:()=>r(!n)},n?k.createElement(WU,{size:30}):k.createElement(BU,{size:30}))),n&&k.createElement("div",{className:"fixed inset-0 bg-black/40 z-40 md:hidden",onClick:()=>r(!1)}),k.createElement("div",{className:`
          fixed md:static top-0 left-0 h-full bg-white shadow-lg p-5 flex flex-col gap-5
          transform transition-transform duration-300 ease-in-out
          w-64 z-50
          ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}
        `},k.createElement("h1",{className:"text-2xl font-bold text-blue-600 hidden md:block"},"FitTrack"),k.createElement("nav",{className:"flex flex-col gap-3 mt-6 text-lg"},[["/"," Dashboard"],["/add"," Add Workout"],["/history"," History"],["/templates"," Templates"],["/analytics"," Analytics"],["/profile"," Profile"],["/achievements"," Achievements"],["/streaks"," Streaks"],["/settings"," Settings"]].map(([l,u])=>k.createElement(AC,{key:l,className:`p-2 rounded hover:bg-gray-200 ${s(l)?"bg-blue-500 text-white shadow":""}`,to:l,onClick:()=>r(!1)},u)))),k.createElement("div",{className:"flex-1 overflow-y-auto md:ml-64 pt-20 md:pt-20 p-6"},e,k.createElement(d8,null)))}function h8({entries:e=[]}){const t=e.length;let n=0,r=0;return e.forEach(i=>{i.exercises.forEach(o=>{o.sets.forEach(a=>{n+=1,r+=Number(a.reps)||0})})}),k.createElement("div",{className:"p-4 bg-white border rounded"},k.createElement("div",{className:"font-medium"},"Stats"),k.createElement("div",{className:"mt-2 text-sm text-gray-700"},"Total workouts: ",t),k.createElement("div",{className:"text-sm text-gray-700"},"Total sets logged: ",n),k.createElement("div",{className:"text-sm text-gray-700"},"Total reps logged: ",r))}async function p8(e,t){try{if(!e)throw new Error("User ID missing");if(!t)throw new Error("Workout data missing");const n=jp(e);return(await gR(n,{...t,createdAt:new Date().toISOString()})).id}catch(n){return console.error("Error adding workout:",n),null}}async function Vp(e){try{if(!e)throw new Error("User ID missing");const t=jp(e),n=cR(t,B6("createdAt","desc"));return(await sw(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){return console.error("Error fetching workouts:",t),[]}}async function m8(e,t,n){try{if(!e)throw new Error("Workout ID missing");if(!t)throw new Error("User ID missing");const r=wo(jp(t),e);return await q6(r,{...n,updatedAt:new Date().toISOString()}),!0}catch(r){return console.error("Error updating workout:",r),!1}}async function g8(e,t){try{if(!e)throw new Error("User ID missing");if(!t)throw new Error("Workout ID missing");const n=wo(jp(e),t);return await mR(n),!0}catch(n){return console.error("Error deleting workout:",n),!1}}function Tw({user:e,existingWorkout:t=null,onClose:n=null}){var b;const r={name:"",sets:[{reps:"",weight:""}],notes:""},[i,o]=v.useState((t==null?void 0:t.date)||new Date().toISOString().slice(0,10)),[a,s]=v.useState((t==null?void 0:t.exercises)||[r]),[l,u]=v.useState(!1),c=(S,I,O,M)=>{const T=[...a];T[S].sets[I][O]=O==="reps"?Number(M):M,s(T)},d=()=>s([...a,{...r}]),h=S=>s(a.filter((I,O)=>O!==S)),p=S=>{const I=[...a];I[S].sets.push({reps:"",weight:""}),s(I)},g=(S,I)=>{const O=[...a];O[S].sets.splice(I,1),s(O)},_=async()=>{if(!e)return alert("Sign in to save workouts");u(!0);try{const S={date:i,exercises:a,createdAt:new Date().toISOString()};t?(await m8(t.id,e.uid,S),alert("Workout updated ")):(await p8(e.uid,S),alert("Workout saved ")),s([r]),n&&n()}catch(S){console.error(S),alert("Error saving workout")}u(!1)},w=(b=Pa().state)==null?void 0:b.template;return v.useEffect(()=>{w&&s(w.exercises)},[w]),k.createElement("div",null,k.createElement("h2",{className:"text-xl font-semibold mb-4"},t?"Edit Workout":"Add Workout"),k.createElement("div",{className:"mb-4"},k.createElement("label",{className:"block text-sm"},"Date"),k.createElement("input",{type:"date",value:i,onChange:S=>o(S.target.value),className:"p-2 border rounded mt-1"})),k.createElement("div",{className:"space-y-4"},a.map((S,I)=>k.createElement("div",{key:I,className:"border p-3 rounded space-y-2"},k.createElement("div",{className:"flex flex-col md:flex-row gap-2 items-start md:items-end"},k.createElement("div",{className:"flex-1 w-full"},k.createElement("label",{className:"text-xs"},"Exercise"),k.createElement("input",{value:S.name,onChange:O=>{const M=[...a];M[I].name=O.target.value,s(M)},className:"w-full p-2 border rounded",placeholder:"Bench Press"})),k.createElement("button",{className:"text-red-600 text-sm w-full md:w-auto",onClick:()=>h(I)},"Remove Exercise")),S.sets.map((O,M)=>k.createElement("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-end"},k.createElement("div",null,k.createElement("label",{className:"text-xs"},"Reps"),k.createElement("input",{type:"number",value:O.reps,onChange:T=>c(I,M,"reps",T.target.value),className:"p-2 border rounded w-full md:w-16"})),k.createElement("div",null,k.createElement("label",{className:"text-xs"},"Weight"),k.createElement("input",{value:O.weight,onChange:T=>c(I,M,"weight",T.target.value),placeholder:"kg",className:"p-2 border rounded w-full md:w-16"})),k.createElement("button",{className:"text-red-500 text-sm w-full md:w-auto",onClick:()=>g(I,M)},"Remove Set"))),k.createElement("button",{onClick:()=>p(I),className:"px-2 py-1 bg-gray-100 rounded text-sm"},"Add Set"),k.createElement("div",null,k.createElement("label",{className:"text-xs"},"Notes"),k.createElement("input",{value:S.notes,onChange:O=>{const M=[...a];M[I].notes=O.target.value,s(M)},className:"w-full p-2 border rounded"}))))),k.createElement("div",{className:"flex gap-2 mt-4"},k.createElement("button",{onClick:d,className:"px-4 py-2 bg-gray-100 rounded"},"Add Exercise"),k.createElement("button",{onClick:_,disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded"},l?"Saving...":t?"Update Workout":"Save Workout")))}function v8({goals:e,onAddGoal:t}){return k.createElement("div",{className:"p-4 bg-white rounded-lg shadow border"},k.createElement("div",{className:"flex justify-between items-center mb-3"},k.createElement("h2",{className:"text-lg font-semibold"},"Your Goals"),k.createElement("button",{onClick:t,className:"px-3 py-1 bg-green-600 text-white rounded-md"},"Add Goal")),e.length===0&&k.createElement("p",{className:"text-gray-500 text-sm"},"You have no goals yet."),k.createElement("div",{className:"space-y-3"},e.map(n=>k.createElement("div",{key:n.id,className:"p-3 border rounded-md bg-gray-50 shadow-sm"},k.createElement("div",{className:"font-medium"},n.title),k.createElement("div",{className:"text-sm text-gray-600"},n.description),k.createElement("div",{className:"text-xs text-gray-400 mt-1"},"Target: ",n.targetDate)))))}const y8={apiKey:"AIzaSyB3SEL01A00iO0SFTt1utqQMCuW9p30GVQ",authDomain:"workoutplannar.firebaseapp.com",projectId:"workoutplannar",storageBucket:"workoutplannar.firebasestorage.app",messagingSenderId:"923344644640",appId:"1:923344644640:web:d21c2ef570bd2c401daa45",measurementId:"G-QV804ZLRLZ"},vN=sy().length?sy()[0]:T_(y8),yN=tR(vN);XR(vN);const _8=async(e,t)=>{await gR(Ap(yN,"goals"),{uid:e,...t,createdAt:Q6()})},w8=async e=>{const t=cR(Ap(yN,"goals"),z6("uid","==",e));return(await sw(t)).docs.map(r=>({id:r.id,...r.data()}))};function E8({user:e,onClose:t}){const[n,r]=v.useState(""),[i,o]=v.useState(""),[a,s]=v.useState(""),l=async()=>{if(!n.trim())return alert("Goal title required");await _8(e.uid,{title:n,description:i,targetDate:a}),t()};return k.createElement("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50"},k.createElement("div",{className:"bg-white w-96 p-6 rounded-xl shadow-lg"},k.createElement("h2",{className:"text-xl font-semibold mb-4"},"Add New Goal"),k.createElement("div",{className:"space-y-3"},k.createElement("div",null,k.createElement("label",{className:"text-sm font-medium"},"Goal Title"),k.createElement("input",{type:"text",className:"w-full p-2 border rounded mt-1",placeholder:"e.g. Lose 5kg",value:n,onChange:u=>r(u.target.value)})),k.createElement("div",null,k.createElement("label",{className:"text-sm font-medium"},"Description"),k.createElement("textarea",{className:"w-full p-2 border rounded mt-1",placeholder:"Short description...",value:i,onChange:u=>o(u.target.value)})),k.createElement("div",null,k.createElement("label",{className:"text-sm font-medium"},"Target Date"),k.createElement("input",{type:"date",className:"w-full p-2 border rounded mt-1",value:a,onChange:u=>s(u.target.value)}))),k.createElement("div",{className:"flex justify-end gap-3 mt-5"},k.createElement("button",{className:"px-3 py-2 bg-gray-300 rounded-md",onClick:t},"Cancel"),k.createElement("button",{className:"px-4 py-2 bg-green-600 text-white rounded-md",onClick:l},"Save Goal"))))}function b8({user:e}){const[t,n]=v.useState([]),[r,i]=v.useState([]),[o,a]=v.useState(!1),[s,l]=v.useState(!1),u=async()=>{if(!e)return n([]);const d=await Vp(e.uid);n(d)},c=async()=>{if(!e)return i([]);const d=await w8(e.uid);i(d)};return v.useEffect(()=>{u(),c()},[e]),k.createElement("div",{className:`
        grid 
        grid-cols-1       /* mobile */
        md:grid-cols-2    /* tablet */
        lg:grid-cols-3    /* desktop */
        gap-6 pt-4
      `},k.createElement("div",{className:"lg:col-span-2 space-y-4"},k.createElement("div",{className:"flex justify-between items-center mb-4"},k.createElement("h2",{className:"text-lg md:text-xl font-semibold"},"Recent Workouts"),k.createElement("button",{onClick:()=>a(!0),className:"px-3 py-1 bg-blue-600 text-white rounded-md"},"Add Workout")),o&&k.createElement("div",{className:"border p-4 rounded bg-white mb-4"},k.createElement(Tw,{user:e,onClose:()=>{a(!1),u()}})),t.length===0&&k.createElement("div",{className:"p-4 bg-white border rounded text-center"},"No workouts yet."),k.createElement("div",{className:"space-y-4"},t.slice(0,5).map(d=>k.createElement("div",{key:d.id,className:"border p-3 rounded bg-white"},k.createElement("div",{className:"flex justify-between mb-2"},k.createElement("div",{className:"font-medium"},d.date),k.createElement("div",{className:"text-xs text-gray-500"},new Date(d.createdAt).toLocaleString())),k.createElement("div",{className:"space-y-2"},d.exercises.map((h,p)=>k.createElement("div",{key:p,className:"p-2 border rounded"},k.createElement("div",{className:"font-semibold"},h.name),k.createElement("div",{className:"text-sm text-gray-600 mt-1"},h.sets.map((g,_)=>k.createElement("div",{key:_},"Set ",_+1,": ",g.reps||"-"," reps @"," ",g.weight||"-"," kg"))),h.notes&&k.createElement("div",{className:"text-xs text-gray-500 mt-1"},"Notes: ",h.notes)))))))),k.createElement("div",{className:"space-y-6"},k.createElement(h8,{entries:t}),k.createElement(v8,{goals:r,onAddGoal:()=>l(!0)}),s&&k.createElement(E8,{user:e,onClose:()=>{l(!1),c()}})))}function S8({user:e}){const[t,n]=v.useState([]),[r,i]=v.useState(!0),[o,a]=v.useState(null);v.useEffect(()=>{async function l(){if(!e)return;i(!0);const u=await Vp(e.uid);n(u),i(!1)}l()},[e]);const s=async l=>{if(window.confirm("Are you sure you want to delete this workout?"))try{if(!await g8(e.uid,l))throw new Error("Delete failed");n(c=>c.filter(d=>d.id!==l))}catch(u){console.error(u),alert("Failed to delete workout")}};return k.createElement("div",{className:"pt-20 p-6"},k.createElement("h2",{className:"text-xl font-semibold mb-4"},"Workout History"),r&&k.createElement("p",null,"Loading..."),!r&&t.length===0&&k.createElement("p",null,"No workouts logged yet."),k.createElement("div",{className:"space-y-4"},t.map(l=>k.createElement("div",{key:l.id,className:"border p-3 rounded shadow-sm"},k.createElement("div",{className:"flex justify-between items-center mb-2"},k.createElement("div",null,l.date),k.createElement("div",{className:"flex gap-2"},k.createElement("button",{onClick:()=>a(l),className:"text-blue-600 text-sm"},"Edit"),k.createElement("button",{onClick:()=>s(l.id),className:"text-red-600 text-sm"},"Delete"))),k.createElement("div",{className:"space-y-2"},l.exercises.map((u,c)=>k.createElement("div",{key:c,className:"border p-2 rounded"},k.createElement("div",{className:"font-medium"},u.name),u.sets.map((d,h)=>k.createElement("div",{key:h,className:"text-sm"},"Set ",h+1,": ",d.reps," reps @ ",d.weight," kg")),u.notes&&k.createElement("div",{className:"text-xs text-gray-500"},"Notes: ",u.notes))))))),o&&k.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},k.createElement("div",{className:"bg-white p-6 rounded shadow-lg max-w-xl w-full relative"},k.createElement(Tw,{user:e,existingWorkout:o,onClose:()=>a(null)}),k.createElement("button",{onClick:()=>a(null),className:"absolute top-2 right-2 text-red-500 text-lg font-bold"},""))))}function _N(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=_N(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ae(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=_N(e))&&(r&&(r+=" "),r+=t);return r}var P8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Aw(e){if(typeof e!="string")return!1;var t=P8;return t.includes(e)}var T8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],A8=new Set(T8);function wN(e){return typeof e!="string"?!1:A8.has(e)}function EN(e){return typeof e=="string"&&e.startsWith("data-")}function Vr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(wN(n)||EN(n))&&(t[n]=e[n]);return t}function $p(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Vr(t)}return typeof e=="object"&&!Array.isArray(e)?Vr(e):null}function cn(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(wN(n)||EN(n)||Aw(n))&&(t[n]=e[n]);return t}function x8(e){return e==null?null:v.isValidElement(e)?cn(e.props):typeof e=="object"&&!Array.isArray(e)?cn(e):null}var I8=["children","width","height","viewBox","className","style","title","desc"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iy.apply(null,arguments)}function k8(e,t){if(e==null)return{};var n,r,i=C8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function C8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xw=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:s,title:l,desc:u}=e,c=k8(e,I8),d=o||{width:r,height:i,x:0,y:0},h=Ae("recharts-surface",a);return v.createElement("svg",Iy({},cn(c),{className:h,width:r,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,u),n)}),O8=["children","className"];function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ky.apply(null,arguments)}function R8(e,t){if(e==null)return{};var n,r,i=N8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function N8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Eo=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=R8(e,O8),o=Ae("recharts-layer",r);return v.createElement("g",ky({className:o},cn(i),{ref:t}),n)}),bN=v.createContext(null),D8=()=>v.useContext(bN);function ke(e){return function(){return e}}const SN=Math.cos,ih=Math.sin,_r=Math.sqrt,oh=Math.PI,Up=2*oh,Cy=Math.PI,Oy=2*Cy,$o=1e-6,M8=Oy-$o;function PN(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function L8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return PN;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class j8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?PN:L8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-n,c=a-t,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>$o)if(!(Math.abs(d*l-u*c)>$o)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-a,g=i-s,_=l*l+u*u,y=p*p+g*g,w=Math.sqrt(_),b=Math.sqrt(h),S=o*Math.tan((Cy-Math.acos((_+h-y)/(2*w*b)))/2),I=S/b,O=S/w;Math.abs(I-1)>$o&&this._append`L${t+I*c},${n+I*d}`,this._append`A${o},${o},0,0,${+(d*p>c*g)},${this._x1=t+O*l},${this._y1=n+O*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>$o||Math.abs(this._y1-c)>$o)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Oy+Oy),h>M8?this._append`A${r},${r},0,1,${d},${t-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>$o&&this._append`A${r},${r},0,${+(h>=Cy)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Iw(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new j8(t)}function kw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function TN(e){this._context=e}TN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Fp(e){return new TN(e)}function AN(e){return e[0]}function xN(e){return e[1]}function IN(e,t){var n=ke(!0),r=null,i=Fp,o=null,a=Iw(s);e=typeof e=="function"?e:e===void 0?AN:ke(e),t=typeof t=="function"?t:t===void 0?xN:ke(t);function s(l){var u,c=(l=kw(l)).length,d,h=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,u,l),+t(d,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:ke(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:ke(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ke(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function If(e,t,n){var r=null,i=ke(!0),o=null,a=Fp,s=null,l=Iw(u);e=typeof e=="function"?e:e===void 0?AN:ke(+e),t=typeof t=="function"?t:ke(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?xN:ke(+n);function u(d){var h,p,g,_=(d=kw(d)).length,y,w=!1,b,S=new Array(_),I=new Array(_);for(o==null&&(s=a(b=l())),h=0;h<=_;++h){if(!(h<_&&i(y=d[h],h,d))===w)if(w=!w)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(S[g],I[g]);s.lineEnd(),s.areaEnd()}w&&(S[h]=+e(y,h,d),I[h]=+t(y,h,d),s.point(r?+r(y,h,d):S[h],n?+n(y,h,d):I[h]))}if(b)return s=null,b+""||null}function c(){return IN().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:ke(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:ke(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ke(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:ke(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:ke(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ke(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ke(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class kN{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function V8(e){return new kN(e,!0)}function $8(e){return new kN(e,!1)}const Cw={draw(e,t){const n=_r(t/oh);e.moveTo(n,0),e.arc(0,0,n,0,Up)}},U8={draw(e,t){const n=_r(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},CN=_r(1/3),F8=CN*2,z8={draw(e,t){const n=_r(t/F8),r=n*CN;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},B8={draw(e,t){const n=_r(t),r=-n/2;e.rect(r,r,n,n)}},W8=.8908130915292852,ON=ih(oh/10)/ih(7*oh/10),H8=ih(Up/10)*ON,K8=-SN(Up/10)*ON,q8={draw(e,t){const n=_r(t*W8),r=H8*n,i=K8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=Up*o/5,s=SN(a),l=ih(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Lg=_r(3),G8={draw(e,t){const n=-_r(t/(Lg*3));e.moveTo(0,n*2),e.lineTo(-Lg*n,-n),e.lineTo(Lg*n,-n),e.closePath()}},Un=-.5,Fn=_r(3)/2,Ry=1/_r(12),Q8=(Ry/2+1)*3,Y8={draw(e,t){const n=_r(t/Q8),r=n/2,i=n*Ry,o=r,a=n*Ry+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(Un*r-Fn*i,Fn*r+Un*i),e.lineTo(Un*o-Fn*a,Fn*o+Un*a),e.lineTo(Un*s-Fn*l,Fn*s+Un*l),e.lineTo(Un*r+Fn*i,Un*i-Fn*r),e.lineTo(Un*o+Fn*a,Un*a-Fn*o),e.lineTo(Un*s+Fn*l,Un*l-Fn*s),e.closePath()}};function X8(e,t){let n=null,r=Iw(i);e=typeof e=="function"?e:ke(e||Cw),t=typeof t=="function"?t:ke(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ke(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ke(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function ah(){}function sh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function RN(e){this._context=e}RN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J8(e){return new RN(e)}function NN(e){this._context=e}NN.prototype={areaStart:ah,areaEnd:ah,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z8(e){return new NN(e)}function DN(e){this._context=e}DN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eH(e){return new DN(e)}function MN(e){this._context=e}MN.prototype={areaStart:ah,areaEnd:ah,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function tH(e){return new MN(e)}function aT(e){return e<0?-1:1}function sT(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(aT(o)+aT(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function lT(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function jg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function lh(e){this._context=e}lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jg(this,this._t0,lT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jg(this,lT(this,n=sT(this,e,t)),n);break;default:jg(this,this._t0,n=sT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function LN(e){this._context=new jN(e)}(LN.prototype=Object.create(lh.prototype)).point=function(e,t){lh.prototype.point.call(this,t,e)};function jN(e){this._context=e}jN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function nH(e){return new lh(e)}function rH(e){return new LN(e)}function VN(e){this._context=e}VN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=uT(e),i=uT(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uT(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function iH(e){return new VN(e)}function zp(e,t){this._context=e,this._t=t}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function oH(e){return new zp(e,.5)}function aH(e){return new zp(e,0)}function sH(e){return new zp(e,1)}function Rs(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ny(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function lH(e,t){return e[t]}function uH(e){const t=[];return t.key=e,t}function cH(){var e=ke([]),t=Ny,n=Rs,r=lH;function i(o){var a=Array.from(e.apply(this,arguments),uH),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=kw(t(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ke(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ke(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Ny:typeof o=="function"?o:ke(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Rs,i):n},i}function fH(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Rs(e,t)}}function dH(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Rs(e,t)}}function hH(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=e[t[s]],d=c[r][1]||0,h=c[r-1][1]||0,p=(d-h)/2,g=0;g<s;++g){var _=e[t[g]],y=_[r][1]||0,w=_[r-1][1]||0;p+=y-w}l+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Rs(e,t)}}var Bp={},$N={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})($N);var Ow={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Ow);var Wp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Wp);var Hp={},UN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(UN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UN,n=Wp;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],a=i.length;if(a===0)return o;let s=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(o.push(""),s++);s<a;){const d=i[s];u?d==="\\"&&s+1<a?(s++,l+=i[s]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,o.push(l),l=""):l+=d:d==="["?(c=!0,l&&(o.push(l),l="")):d==="."?l&&(o.push(l),l=""):l+=d,s++}return l&&o.push(l),o}e.toPath=r})(Hp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$N,n=Ow,r=Wp,i=Hp;function o(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?n.isDeepKey(l)?o(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return a(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function a(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=o})(Bp);var pH=Bp.get;const Kp=Si(pH);var qn=e=>e===0?0:e>0?1:-1,$r=e=>typeof e=="number"&&e!=+e,vi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ee=e=>(typeof e=="number"||e instanceof Number)&&!$r(e),Ur=e=>ee(e)||typeof e=="string",mH=0,Vu=e=>{var t=++mH;return"".concat(e||"").concat(t)},bo=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(t)&&typeof t!="string")return r;var o;if(vi(t)){if(n==null)return r;var a=t.indexOf("%");o=n*parseFloat(t.slice(0,a))/100}else o=+t;return $r(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},FN=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function yn(e,t,n){return ee(e)&&ee(t)?e+n*(t-e):t}function zN(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Kp(r,t))===n)}var bt=e=>e===null||typeof e>"u",yc=e=>bt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function gH(e){return e!=null}function _c(){}var vH=["type","size","sizeType"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dy.apply(null,arguments)}function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(n),!0).forEach(function(r){yH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yH(e,t,n){return(t=_H(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _H(e){var t=wH(e,"string");return typeof t=="symbol"?t:t+""}function wH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EH(e,t){if(e==null)return{};var n,r,i=bH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var BN={symbolCircle:Cw,symbolCross:U8,symbolDiamond:z8,symbolSquare:B8,symbolStar:q8,symbolTriangle:G8,symbolWye:Y8},SH=Math.PI/180,PH=e=>{var t="symbol".concat(yc(e));return BN[t]||Cw},TH=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*SH;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},AH=(e,t)=>{BN["symbol".concat(yc(e))]=t},Rw=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=EH(e,vH),o=fT(fT({},i),{},{type:t,size:n,sizeType:r}),a="circle";typeof t=="string"&&(a=t);var s=()=>{var h=PH(a),p=X8().type(h).size(TH(n,r,a)),g=p();if(g!==null)return g},{className:l,cx:u,cy:c}=o,d=cn(o);return ee(u)&&ee(c)&&ee(n)?v.createElement("path",Dy({},d,{className:Ae("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};Rw.registerSymbol=AH;var WN=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Nw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Aw(i)&&(r[i]=t||(o=>n[i](n,o)))}),r},xH=(e,t,n)=>r=>(e(t,n,r),null),HN=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];Aw(i)&&typeof o=="function"&&(r||(r={}),r[i]=xH(o,t,n))}),r};function dT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(n),!0).forEach(function(r){kH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kH(e,t,n){return(t=CH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CH(e){var t=OH(e,"string");return typeof t=="symbol"?t:t+""}function OH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zt(e,t){var n=IH({},e),r=t,i=Object.keys(t),o=i.reduce((a,s)=>(a[s]===void 0&&r[s]!==void 0&&(a[s]=r[s]),a),n);return o}function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uh.apply(null,arguments)}function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(n),!0).forEach(function(r){NH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NH(e,t,n){return(t=DH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bn=32,LH={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function jH(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Bn/2,o=Bn/6,a=Bn/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Bn,y2:i,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Bn,"M").concat(2*a,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Bn/8,"h").concat(Bn,"v").concat(Bn*3/4,"h").concat(-Bn,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var c=RH({},t);return delete c.legendIcon,v.cloneElement(t.legendIcon,c)}return v.createElement(Rw,{fill:s,cx:i,cy:i,size:Bn,sizeType:"diameter",type:l})}function VH(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:a}=e,s={x:0,y:0,width:Bn,height:Bn},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var h=c.formatter||i,p=Ae({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var g=c.inactive?o:c.color,_=h?h(c.value,c,d):c.value;return v.createElement("li",uh({className:p,style:l,key:"legend-item-".concat(d)},HN(e,c,d)),v.createElement(xw,{width:n,height:n,viewBox:s,style:u,"aria-label":"".concat(_," legend icon")},v.createElement(jH,{data:c,iconType:a,inactiveColor:o})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},_))})}var $H=e=>{var t=Zt(e,LH),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:o},v.createElement(VH,uh({},t,{payload:n})))},KN={},qN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],s=r(a);i.has(s)||i.set(s,a)}return Array.from(i.values())}e.uniqBy=t})(qN);var Dw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Dw);var GN={},qp={},QN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(QN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QN;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(qp);var YN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(YN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qp,n=YN;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(GN);var XN={},JN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bp;function n(r){return function(i){return t.get(i,r)}}e.property=n})(JN);var ZN={},Mw={},eD={},Lw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Lw);var jw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(jw);var Vw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Vw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lw,n=jw,r=Vw;function i(c,d,h){return typeof h!="function"?i(c,d,()=>{}):o(c,d,function p(g,_,y,w,b,S){const I=h(g,_,y,w,b,S);return I!==void 0?!!I:o(g,_,p,S)},new Map)}function o(c,d,h,p){if(d===c)return!0;switch(typeof d){case"object":return a(c,d,h,p);case"function":return Object.keys(d).length>0?o(c,{...d},h,p):r.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:r.eq(c,d)}}function a(c,d,h,p){if(d==null)return!0;if(Array.isArray(d))return l(c,d,h,p);if(d instanceof Map)return s(c,d,h,p);if(d instanceof Set)return u(c,d,h,p);const g=Object.keys(d);if(c==null)return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(d))return p.get(d)===c;p==null||p.set(d,c);try{for(let _=0;_<g.length;_++){const y=g[_];if(!n.isPrimitive(c)&&!(y in c)||d[y]===void 0&&c[y]!==void 0||d[y]===null&&c[y]!==null||!h(c[y],d[y],y,c,d,p))return!1}return!0}finally{p==null||p.delete(d)}}function s(c,d,h,p){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,_]of d.entries()){const y=c.get(g);if(h(y,_,g,c,d,p)===!1)return!1}return!0}function l(c,d,h,p){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let _=0;_<d.length;_++){const y=d[_];let w=!1;for(let b=0;b<c.length;b++){if(g.has(b))continue;const S=c[b];let I=!1;if(h(S,y,_,c,d,p)&&(I=!0),I){g.add(b),w=!0;break}}if(!w)return!1}return!0}function u(c,d,h,p){return d.size===0?!0:c instanceof Set?l([...c],[...d],h,p):!1}e.isMatchWith=i,e.isSetMatch=u})(eD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eD;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Mw);var tD={},$w={},nD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(nD);var Uw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Uw);var Fw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",_="[object DataView]",y="[object Uint8Array]",w="[object Uint8ClampedArray]",b="[object Uint16Array]",S="[object Uint32Array]",I="[object BigUint64Array]",O="[object Int8Array]",M="[object Int16Array]",T="[object Int32Array]",P="[object BigInt64Array]",x="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=I,e.booleanTag=i,e.dataViewTag=_,e.dateTag=s,e.errorTag=g,e.float32ArrayTag=x,e.float64ArrayTag=R,e.functionTag=d,e.int16ArrayTag=M,e.int32ArrayTag=T,e.int8ArrayTag=O,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=a,e.uint16ArrayTag=b,e.uint32ArrayTag=S,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=w})(Fw);var rD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(rD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nD,n=Uw,r=Fw,i=jw,o=rD;function a(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,h,p=new Map,g=void 0){const _=g==null?void 0:g(c,d,h,p);if(_!==void 0)return _;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const y=new Array(c.length);p.set(c,y);for(let w=0;w<c.length;w++)y[w]=s(c[w],w,h,p,g);return Object.hasOwn(c,"index")&&(y.index=c.index),Object.hasOwn(c,"input")&&(y.input=c.input),y}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const y=new RegExp(c.source,c.flags);return y.lastIndex=c.lastIndex,y}if(c instanceof Map){const y=new Map;p.set(c,y);for(const[w,b]of c)y.set(w,s(b,w,h,p,g));return y}if(c instanceof Set){const y=new Set;p.set(c,y);for(const w of c)y.add(s(w,void 0,h,p,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const y=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,y);for(let w=0;w<c.length;w++)y[w]=s(c[w],w,h,p,g);return y}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const y=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,y),l(y,c,h,p,g),y}if(typeof File<"u"&&c instanceof File){const y=new File([c],c.name,{type:c.type});return p.set(c,y),l(y,c,h,p,g),y}if(typeof Blob<"u"&&c instanceof Blob){const y=new Blob([c],{type:c.type});return p.set(c,y),l(y,c,h,p,g),y}if(c instanceof Error){const y=new c.constructor;return p.set(c,y),y.message=c.message,y.name=c.name,y.stack=c.stack,y.cause=c.cause,l(y,c,h,p,g),y}if(c instanceof Boolean){const y=new Boolean(c.valueOf());return p.set(c,y),l(y,c,h,p,g),y}if(c instanceof Number){const y=new Number(c.valueOf());return p.set(c,y),l(y,c,h,p,g),y}if(c instanceof String){const y=new String(c.valueOf());return p.set(c,y),l(y,c,h,p,g),y}if(typeof c=="object"&&u(c)){const y=Object.create(Object.getPrototypeOf(c));return p.set(c,y),l(y,c,h,p,g),y}return c}function l(c,d,h=c,p,g){const _=[...Object.keys(d),...t.getSymbols(d)];for(let y=0;y<_.length;y++){const w=_[y],b=Object.getOwnPropertyDescriptor(c,w);(b==null||b.writable)&&(c[w]=s(d[w],w,h,p,g))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=s,e.copyProperties=l})($w);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$w;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(tD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mw,n=tD;function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(ZN);var iD={},oD={},aD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$w,n=Fw;function r(i,o){return t.cloneDeepWith(i,(a,s,l,u)=>{const c=o==null?void 0:o(a,s,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case n.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=r})(aD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aD;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(oD);var sD={},zw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(zw);var lD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uw;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(lD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ow,n=zw,r=lD,i=Hp;function o(a,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(a==null?void 0:a[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=a;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=o})(sD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mw,n=Wp,r=oD,i=Bp,o=sD;function a(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?o.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=a})(iD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dw,n=JN,r=ZN,i=iD;function o(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}e.iteratee=o})(XN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qN,n=Dw,r=GN,i=XN;function o(a,s=n.identity){return r.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(s)):[]}e.uniqBy=o})(KN);var UH=KN.uniqBy;const pT=Si(UH);function uD(e,t,n){return t===!0?pT(e,n):typeof t=="function"?pT(e,t):e}var cD={exports:{}},fD={},dD={exports:{}},hD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=v;function FH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zH=typeof Object.is=="function"?Object.is:FH,BH=Ns.useState,WH=Ns.useEffect,HH=Ns.useLayoutEffect,KH=Ns.useDebugValue;function qH(e,t){var n=t(),r=BH({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return HH(function(){i.value=n,i.getSnapshot=t,Vg(i)&&o({inst:i})},[e,n,t]),WH(function(){return Vg(i)&&o({inst:i}),e(function(){Vg(i)&&o({inst:i})})},[e]),KH(n),n}function Vg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zH(e,n)}catch{return!0}}function GH(e,t){return t()}var QH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?GH:qH;hD.useSyncExternalStore=Ns.useSyncExternalStore!==void 0?Ns.useSyncExternalStore:QH;dD.exports=hD;var YH=dD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp=v,XH=YH;function JH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZH=typeof Object.is=="function"?Object.is:JH,eK=XH.useSyncExternalStore,tK=Gp.useRef,nK=Gp.useEffect,rK=Gp.useMemo,iK=Gp.useDebugValue;fD.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=tK(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=rK(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return d=g}return d=p}if(g=d,ZH(c,p))return g;var _=r(p);return i!==void 0&&i(g,_)?(c=p,g):(c=p,d=_)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=eK(e,o[0],o[1]);return nK(function(){a.hasValue=!0,a.value=s},[s]),iK(s),s};cD.exports=fD;var oK=cD.exports,Bw=v.createContext(null),aK=e=>e,at=()=>{var e=v.useContext(Bw);return e?e.store.dispatch:aK},fd=()=>{},sK=()=>fd,lK=(e,t)=>e===t;function J(e){var t=v.useContext(Bw);return oK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:sK,t?t.store.getState:fd,t?t.store.getState:fd,t?e:fd,lK)}function uK(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function cK(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function fK(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var mT=e=>Array.isArray(e)?e:[e];function dK(e){const t=Array.isArray(e[0])?e[0]:e;return fK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function hK(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var pK=class{constructor(e){this.value=e}deref(){return this.value}},mK=typeof WeakRef<"u"?WeakRef:pK,gK=0,gT=1;function kf(){return{s:gK,v:void 0,o:null,p:null}}function pD(e,t={}){let n=kf();const{resultEqualityCheck:r}=t;let i,o=0;function a(){var d;let s=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let _=s.o;_===null&&(s.o=_=new WeakMap);const y=_.get(g);y===void 0?(s=kf(),_.set(g,s)):s=y}else{let _=s.p;_===null&&(s.p=_=new Map);const y=_.get(g);y===void 0?(s=kf(),_.set(g,s)):s=y}}const u=s;let c;if(s.s===gT)c=s.v;else if(c=e.apply(null,arguments),o++,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,c)&&(c=h,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new mK(c):c}return u.s=gT,u.v=c,c}return a.clearCache=()=>{n=kf(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function vK(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,a=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),uK(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=pD,argsMemoizeOptions:g=[],devModeChecks:_={}}=c,y=mT(h),w=mT(g),b=dK(i),S=d(function(){return o++,u.apply(null,arguments)},...y),I=p(function(){a++;const M=hK(b,arguments);return s=S.apply(null,M),s},...w);return Object.assign(I,{resultFunc:u,memoizedResultFunc:S,dependencies:b,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>s,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var V=vK(pD),yK=Object.assign((e,t=V)=>{cK(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((a,s,l)=>(a[n[l]]=s,a),{}))},{withTypes:()=>yK}),mD={},gD={},vD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=t(r),s=t(i);if(a===s&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?s-a:a-s}return 0};e.compareValues=n})(vD);var yD={},Ww={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Ww);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ww,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}e.isKey=i})(yD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vD,n=yD,r=Hp;function i(o,a,s,l){if(o==null)return[];s=l?void 0:s,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const u=(p,g)=>{let _=p;for(let y=0;y<g.length&&_!=null;++y)_=_[g[y]];return _},c=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,d=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return o.map(p=>({original:p,criteria:d.map(g=>c(g,p))})).slice().sort((p,g)=>{for(let _=0;_<d.length;_++){const y=t.compareValues(p.criteria[_],g.criteria[_],s[_]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=i})(gD);var _D={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),a=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<o?a(c,l+1):i.push(c)}};return a(n,0),i}e.flatten=t})(_D);var Hw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zw,n=qp,r=Lw,i=Vw;function o(a,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],a):!1}e.isIterateeCall=o})(Hw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gD,n=_D,r=Hw;function i(o,...a){const s=a.length;return s>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:s>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(o,n.flatten(a),["asc"])}e.sortBy=i})(mD);var _K=mD.sortBy;const Qp=Si(_K);var wD=e=>e.legend.settings,wK=e=>e.legend.size,EK=e=>e.legend.payload,bK=V([EK,wD],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Qp(r,n):r});function SK(){return J(bK)}var Cf=1;function ED(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-t.height)>Cf||Math.abs(a.left-t.left)>Cf||Math.abs(a.top-t.top)>Cf||Math.abs(a.width-t.width)>Cf)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function xt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var PK=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),vT=PK,$g=()=>Math.random().toString(36).substring(7).split("").join("."),TK={INIT:`@@redux/INIT${$g()}`,REPLACE:`@@redux/REPLACE${$g()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$g()}`},ch=TK;function Kw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bD(e,t,n){if(typeof e!="function")throw new Error(xt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xt(1));return n(bD)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function u(){a===o&&(a=new Map,o.forEach((y,w)=>{a.set(w,y)}))}function c(){if(l)throw new Error(xt(3));return i}function d(y){if(typeof y!="function")throw new Error(xt(4));if(l)throw new Error(xt(5));let w=!0;u();const b=s++;return a.set(b,y),function(){if(w){if(l)throw new Error(xt(6));w=!1,u(),a.delete(b),o=null}}}function h(y){if(!Kw(y))throw new Error(xt(7));if(typeof y.type>"u")throw new Error(xt(8));if(typeof y.type!="string")throw new Error(xt(17));if(l)throw new Error(xt(9));try{l=!0,i=r(i,y)}finally{l=!1}return(o=a).forEach(b=>{b()}),y}function p(y){if(typeof y!="function")throw new Error(xt(10));r=y,h({type:ch.REPLACE})}function g(){const y=d;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(xt(11));function b(){const I=w;I.next&&I.next(c())}return b(),{unsubscribe:y(b)}},[vT](){return this}}}return h({type:ch.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:p,[vT]:g}}function AK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:ch.INIT})>"u")throw new Error(xt(12));if(typeof n(void 0,{type:ch.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xt(13))})}function SD(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const a=t[o];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{AK(n)}catch(o){i=o}return function(a={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],p=a[d],g=h(p,s);if(typeof g>"u")throw s&&s.type,new Error(xt(14));u[d]=g,l=l||g!==p}return l=l||r.length!==Object.keys(a).length,l?u:a}}function fh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function xK(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(xt(15))};const a={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},s=e.map(l=>l(a));return o=fh(...s)(i.dispatch),{...i,dispatch:o}}}function PD(e){return Kw(e)&&"type"in e&&typeof e.type=="string"}var TD=Symbol.for("immer-nothing"),yT=Symbol.for("immer-draftable"),fn=Symbol.for("immer-state");function lr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Nn=Object,Ds=Nn.getPrototypeOf,dh="constructor",Yp="prototype",My="configurable",hh="enumerable",dd="writable",$u="value",yi=e=>!!e&&!!e[fn];function yr(e){var t;return e?AD(e)||Xp(e)||!!e[yT]||!!((t=e[dh])!=null&&t[yT])||Jp(e)||Zp(e):!1}var IK=Nn[Yp][dh].toString(),_T=new WeakMap;function AD(e){if(!e||!qw(e))return!1;const t=Ds(e);if(t===null||t===Nn[Yp])return!0;const n=Nn.hasOwnProperty.call(t,dh)&&t[dh];if(n===Object)return!0;if(!Ba(n))return!1;let r=_T.get(n);return r===void 0&&(r=Function.toString.call(n),_T.set(n,r)),r===IK}function wc(e,t,n=!0){Ec(e)===0?(n?Reflect.ownKeys(e):Nn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Ec(e){const t=e[fn];return t?t.type_:Xp(e)?1:Jp(e)?2:Zp(e)?3:0}var wT=(e,t,n=Ec(e))=>n===2?e.has(t):Nn[Yp].hasOwnProperty.call(e,t),Ly=(e,t,n=Ec(e))=>n===2?e.get(t):e[t],ph=(e,t,n,r=Ec(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function kK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Xp=Array.isArray,Jp=e=>e instanceof Map,Zp=e=>e instanceof Set,qw=e=>typeof e=="object",Ba=e=>typeof e=="function",Ug=e=>typeof e=="boolean",Gr=e=>e.copy_||e.base_,Gw=e=>e.modified_?e.copy_:e.base_;function jy(e,t){if(Jp(e))return new Map(e);if(Zp(e))return new Set(e);if(Xp(e))return Array[Yp].slice.call(e);const n=AD(e);if(t===!0||t==="class_only"&&!n){const r=Nn.getOwnPropertyDescriptors(e);delete r[fn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s[dd]===!1&&(s[dd]=!0,s[My]=!0),(s.get||s.set)&&(r[a]={[My]:!0,[dd]:!0,[hh]:s[hh],[$u]:e[a]})}return Nn.create(Ds(e),r)}else{const r=Ds(e);if(r!==null&&n)return{...e};const i=Nn.create(r);return Nn.assign(i,e)}}function Qw(e,t=!1){return em(e)||yi(e)||!yr(e)||(Ec(e)>1&&Nn.defineProperties(e,{set:Of,add:Of,clear:Of,delete:Of}),Nn.freeze(e),t&&wc(e,(n,r)=>{Qw(r,!0)},!1)),e}function CK(){lr(2)}var Of={[$u]:CK};function em(e){return e===null||!qw(e)?!0:Nn.isFrozen(e)}var mh="MapSet",Vy="Patches",xD={};function Ms(e){const t=xD[e];return t||lr(0,e),t}var OK=e=>!!xD[e],Uu,ID=()=>Uu,RK=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:OK(mh)?Ms(mh):void 0});function ET(e,t){t&&(e.patchPlugin_=Ms(Vy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $y(e){Uy(e),e.drafts_.forEach(NK),e.drafts_=null}function Uy(e){e===Uu&&(Uu=e.parent_)}var bT=e=>Uu=RK(Uu,e);function NK(e){const t=e[fn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ST(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[fn].modified_&&($y(t),lr(4)),yr(e)&&(e=PT(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[fn].base_,e,t)}else e=PT(t,n);return DK(t,e,!0),$y(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==TD?e:void 0}function PT(e,t){if(em(t))return t;const n=t[fn];if(!n)return Yw(t,e.handledSet_,e);if(!tm(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);OD(n,e)}return n.copy_}function DK(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qw(t,n)}function kD(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var tm=(e,t)=>e.scope_===t,MK=[];function CD(e,t,n,r){const i=Gr(e),o=e.type_;if(r!==void 0&&Ly(i,r,o)===t){ph(i,r,n,o);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;wc(i,(l,u)=>{if(yi(u)){const c=s.get(u)||[];c.push(l),s.set(u,c)}})}const a=e.draftLocations_.get(t)??MK;for(const s of a)ph(i,s,n,o)}function LK(e,t,n){e.callbacks_.push(function(i){var s;const o=t;if(!o||!tm(o,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(o);const a=Gw(o);CD(e,o.draft_??o,a,n),OD(o,i)})}function OD(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}kD(e)}}function jK(e,t,n){const{scope_:r}=e;if(yi(n)){const i=n[fn];tm(i,r)&&i.callbacks_.push(function(){hd(e);const a=Gw(i);CD(e,n,a,t)})}else yr(n)&&e.callbacks_.push(function(){const o=Gr(e);Ly(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Yw(Ly(e.copy_,t,e.type_),r.handledSet_,r)})}function Yw(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||yi(e)||t.has(e)||!yr(e)||em(e)||(t.add(e),wc(e,(r,i)=>{if(yi(i)){const o=i[fn];if(tm(o,n)){const a=Gw(o);ph(e,r,a,e.type_),kD(o)}}else yr(i)&&Yw(i,t,n)})),e}function VK(e,t){const n=Xp(e),r={type_:n?1:0,scope_:t?t.scope_:ID(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=Xw;n&&(i=[r],o=Fu);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,[s,r]}var Xw={get(e,t){if(t===fn)return e;const n=Gr(e);if(!wT(n,t,e.type_))return $K(e,n,t);const r=n[t];if(e.finalized_||!yr(r))return r;if(r===Fg(e.base_,t)){hd(e);const i=e.type_===1?+t:t,o=zy(e.scope_,r,e,i);return e.copy_[i]=o}return r},has(e,t){return t in Gr(e)},ownKeys(e){return Reflect.ownKeys(Gr(e))},set(e,t,n){const r=RD(Gr(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Fg(Gr(e),t),o=i==null?void 0:i[fn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(kK(n,i)&&(n!==void 0||wT(e.base_,t,e.type_)))return!0;hd(e),Fy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),jK(e,t,n)),!0},deleteProperty(e,t){return hd(e),Fg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Fy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Gr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[dd]:!0,[My]:e.type_!==1||t!=="length",[hh]:r[hh],[$u]:n[t]}},defineProperty(){lr(11)},getPrototypeOf(e){return Ds(e.base_)},setPrototypeOf(){lr(12)}},Fu={};wc(Xw,(e,t)=>{Fu[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Fu.deleteProperty=function(e,t){return Fu.set.call(this,e,t,void 0)};Fu.set=function(e,t,n){return Xw.set.call(this,e[0],t,n,e[0])};function Fg(e,t){const n=e[fn];return(n?Gr(n):e)[t]}function $K(e,t,n){var i;const r=RD(t,n);return r?$u in r?r[$u]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function RD(e,t){if(!(t in e))return;let n=Ds(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ds(n)}}function Fy(e){e.modified_||(e.modified_=!0,e.parent_&&Fy(e.parent_))}function hd(e){e.copy_||(e.assigned_=new Map,e.copy_=jy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var UK=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ba(n)&&!Ba(r)){const a=r;r=n;const s=this;return function(u=a,...c){return s.produce(u,d=>r.call(this,d,...c))}}Ba(r)||lr(6),i!==void 0&&!Ba(i)&&lr(7);let o;if(yr(n)){const a=bT(this),s=zy(a,n,void 0);let l=!0;try{o=r(s),l=!1}finally{l?$y(a):Uy(a)}return ET(a,i),ST(o,a)}else if(!n||!qw(n)){if(o=r(n),o===void 0&&(o=n),o===TD&&(o=void 0),this.autoFreeze_&&Qw(o,!0),i){const a=[],s=[];Ms(Vy).generateReplacementPatches_(n,o,{patches_:a,inversePatches_:s}),i(a,s)}return o}else lr(1,n)},this.produceWithPatches=(n,r)=>{if(Ba(n))return(s,...l)=>this.produceWithPatches(s,u=>n(u,...l));let i,o;return[this.produce(n,r,(s,l)=>{i=s,o=l}),i,o]},Ug(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Ug(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Ug(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){yr(t)||lr(8),yi(t)&&(t=pr(t));const n=bT(this),r=zy(n,t,void 0);return r[fn].isManual_=!0,Uy(n),r}finishDraft(t,n){const r=t&&t[fn];(!r||!r.isManual_)&&lr(9);const{scope_:i}=r;return ET(i,n),ST(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Ms(Vy).applyPatches_;return yi(t)?i(t,n):this.produce(t,o=>i(o,n))}};function zy(e,t,n,r){const[i,o]=Jp(t)?Ms(mh).proxyMap_(t,n):Zp(t)?Ms(mh).proxySet_(t,n):VK(t,n);return((n==null?void 0:n.scope_)??ID()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?LK(n,o,r):o.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(o);const{patchPlugin_:u}=l;o.modified_&&u&&u.generatePatches_(o,[],l)}),i}function pr(e){return yi(e)||lr(10,e),ND(e)}function ND(e){if(!yr(e)||em(e))return e;const t=e[fn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=jy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=jy(e,!0);return wc(n,(i,o)=>{ph(n,i,ND(o))},r),t&&(t.finalized_=!1),n}var FK=new UK,DD=FK.produce;function MD(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var zK=MD(),BK=MD,WK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fh:fh.apply(null,arguments)};function Zn(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Mn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>PD(r)&&r.type===e,n}var LD=class Wl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Wl.prototype)}static get[Symbol.species](){return Wl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Wl(...t[0].concat(this)):new Wl(...t.concat(this))}};function TT(e){return yr(e)?DD(e,()=>{}):e}function Rf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function HK(e){return typeof e=="boolean"}var KK=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let a=new LD;return n&&(HK(n)?a.push(zK):a.push(BK(n.extraArgument))),a},jD="RTK_autoBatch",Ve=()=>e=>({payload:e,meta:{[jD]:!0}}),AT=e=>t=>{setTimeout(t,e)},VD=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,a=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:AT(10):e.type==="callback"?e.queueNotification:AT(e.timeout),u=()=>{a=!1,o&&(o=!1,s.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),h=r.subscribe(d);return s.add(c),()=>{h(),s.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[jD]),o=!i,o&&(a||(a=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},qK=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new LD(e);return r&&i.push(VD(typeof r=="object"?r:void 0)),i};function GK(e){const t=KK(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(Kw(n))l=SD(n);else throw new Error(Mn(1));let u;typeof r=="function"?u=r(t):u=t();let c=fh;i&&(c=WK({trace:!1,...typeof i=="object"&&i}));const d=xK(...u),h=qK(d);let p=typeof s=="function"?s(h):h();const g=c(...p);return bD(l,a,g)}function $D(e){const t={},n=[];let r;const i={addCase(o,a){const s=typeof o=="string"?o:o.type;if(!s)throw new Error(Mn(28));if(s in t)throw new Error(Mn(29));return t[s]=a,i},addAsyncThunk(o,a){return a.pending&&(t[o.pending.type]=a.pending),a.rejected&&(t[o.rejected.type]=a.rejected),a.fulfilled&&(t[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function QK(e){return typeof e=="function"}function YK(e,t){let[n,r,i]=$D(t),o;if(QK(e))o=()=>TT(e());else{const s=TT(e);o=()=>s}function a(s=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(yi(c)){const p=d(c,l);return p===void 0?c:p}else{if(yr(c))return DD(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},s)}return a.getInitialState=o,a}var XK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",JK=(e=21)=>{let t="",n=e;for(;n--;)t+=XK[Math.random()*64|0];return t},ZK=Symbol.for("rtk-slice-createasyncthunk");function eq(e,t){return`${e}/${t}`}function tq({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[ZK];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(Mn(11));typeof process<"u";const s=(typeof i.reducers=="function"?i.reducers(rq()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(I,O){const M=typeof I=="string"?I:I.type;if(!M)throw new Error(Mn(12));if(M in u.sliceCaseReducersByType)throw new Error(Mn(13));return u.sliceCaseReducersByType[M]=O,c},addMatcher(I,O){return u.sliceMatchers.push({matcher:I,reducer:O}),c},exposeAction(I,O){return u.actionCreators[I]=O,c},exposeCaseReducer(I,O){return u.sliceCaseReducersByName[I]=O,c}};l.forEach(I=>{const O=s[I],M={reducerName:I,type:eq(o,I),createNotation:typeof i.reducers=="function"};oq(O)?sq(M,O,c,t):iq(M,O,c)});function d(){const[I={},O=[],M=void 0]=typeof i.extraReducers=="function"?$D(i.extraReducers):[i.extraReducers],T={...I,...u.sliceCaseReducersByType};return YK(i.initialState,P=>{for(let x in T)P.addCase(x,T[x]);for(let x of u.sliceMatchers)P.addMatcher(x.matcher,x.reducer);for(let x of O)P.addMatcher(x.matcher,x.reducer);M&&P.addDefaultCase(M)})}const h=I=>I,p=new Map,g=new WeakMap;let _;function y(I,O){return _||(_=d()),_(I,O)}function w(){return _||(_=d()),_.getInitialState()}function b(I,O=!1){function M(P){let x=P[I];return typeof x>"u"&&O&&(x=Rf(g,M,w)),x}function T(P=h){const x=Rf(p,O,()=>new WeakMap);return Rf(x,P,()=>{const R={};for(const[C,D]of Object.entries(i.selectors??{}))R[C]=nq(D,P,()=>Rf(g,P,w),O);return R})}return{reducerPath:I,getSelectors:T,get selectors(){return T(M)},selectSlice:M}}const S={name:o,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...b(a),injectInto(I,{reducerPath:O,...M}={}){const T=O??a;return I.inject({reducerPath:T,reducer:y},M),{...S,...b(T,!0)}}};return S}}function nq(e,t,n,r){function i(o,...a){let s=t(o);return typeof s>"u"&&r&&(s=n()),e(s,...a)}return i.unwrapped=e,i}var Pn=tq();function rq(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function iq({type:e,reducerName:t,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!aq(r))throw new Error(Mn(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,a?Zn(e,a):Zn(e))}function oq(e){return e._reducerDefinitionType==="asyncThunk"}function aq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function sq({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Mn(18));const{payloadCreator:o,fulfilled:a,pending:s,rejected:l,settled:u,options:c}=n,d=i(e,o,c);r.exposeAction(t,d),a&&r.addCase(d.fulfilled,a),s&&r.addCase(d.pending,s),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:a||Nf,pending:s||Nf,rejected:l||Nf,settled:u||Nf})}function Nf(){}var lq="task",UD="listener",FD="completed",Jw="cancelled",uq=`task-${Jw}`,cq=`task-${FD}`,By=`${UD}-${Jw}`,fq=`${UD}-${FD}`,nm=class{constructor(e){Qm(this,"name","TaskAbortError");Qm(this,"message");this.code=e,this.message=`${lq} ${Jw} (reason: ${e})`}},Zw=(e,t)=>{if(typeof e!="function")throw new TypeError(Mn(32))},gh=()=>{},zD=(e,t=gh)=>(e.catch(t),e),BD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ea=e=>{if(e.aborted)throw new nm(e.reason)};function WD(e,t){let n=gh;return new Promise((r,i)=>{const o=()=>i(new nm(e.reason));if(e.aborted){o();return}n=BD(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=gh})}var dq=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof nm?"cancelled":"rejected",error:n}}finally{t==null||t()}},vh=e=>t=>zD(WD(e,t).then(n=>(ea(e),n))),HD=e=>{const t=vh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:ps}=Object,xT={},rm="listenerMiddleware",hq=(e,t)=>{const n=r=>BD(e,()=>r.abort(e.reason));return(r,i)=>{Zw(r);const o=new AbortController;n(o);const a=dq(async()=>{ea(e),ea(o.signal);const s=await r({pause:vh(o.signal),delay:HD(o.signal),signal:o.signal});return ea(o.signal),s},()=>o.abort(cq));return i!=null&&i.autoJoin&&t.push(a.catch(gh)),{result:vh(e)(a),cancel(){o.abort(uq)}}}},pq=(e,t)=>{const n=async(r,i)=>{ea(t);let o=()=>{};const s=[new Promise((l,u)=>{let c=e({predicate:r,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await WD(t,Promise.race(s));return ea(t),l}finally{o()}};return(r,i)=>zD(n(r,i))},KD=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Zn(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Mn(21));return Zw(o),{predicate:i,type:t,effect:o}},qD=ps(e=>{const{type:t,predicate:n,effect:r}=KD(e);return{id:JK(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Mn(22))}}},{withTypes:()=>qD}),IT=(e,t)=>{const{type:n,effect:r,predicate:i}=KD(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Wy=e=>{e.pending.forEach(t=>{t.abort(By)})},mq=(e,t)=>()=>{for(const n of t.keys())Wy(n);e.clear()},kT=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},GD=ps(Zn(`${rm}/add`),{withTypes:()=>GD}),gq=Zn(`${rm}/removeAll`),QD=ps(Zn(`${rm}/remove`),{withTypes:()=>QD}),vq=(...e)=>{console.error(`${rm}/error`,...e)},bc=(e={})=>{const t=new Map,n=new Map,r=p=>{const g=n.get(p)??0;n.set(p,g+1)},i=p=>{const g=n.get(p)??1;g===1?n.delete(p):n.set(p,g-1)},{extra:o,onError:a=vq}=e;Zw(a);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&Wy(p)}),l=p=>{const g=IT(t,p)??qD(p);return s(g)};ps(l,{withTypes:()=>l});const u=p=>{const g=IT(t,p);return g&&(g.unsubscribe(),p.cancelActive&&Wy(g)),!!g};ps(u,{withTypes:()=>u});const c=async(p,g,_,y)=>{const w=new AbortController,b=pq(l,w.signal),S=[];try{p.pending.add(w),r(p),await Promise.resolve(p.effect(g,ps({},_,{getOriginalState:y,condition:(I,O)=>b(I,O).then(Boolean),take:b,delay:HD(w.signal),pause:vh(w.signal),extra:o,signal:w.signal,fork:hq(w.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((I,O,M)=>{I!==w&&(I.abort(By),M.delete(I))})},cancel:()=>{w.abort(By),p.pending.delete(w)},throwIfCancelled:()=>{ea(w.signal)}})))}catch(I){I instanceof nm||kT(a,I,{raisedBy:"effect"})}finally{await Promise.all(S),w.abort(fq),i(p),p.pending.delete(w)}},d=mq(t,n);return{middleware:p=>g=>_=>{if(!PD(_))return g(_);if(GD.match(_))return l(_.payload);if(gq.match(_)){d();return}if(QD.match(_))return u(_.payload);let y=p.getState();const w=()=>{if(y===xT)throw new Error(Mn(23));return y};let b;try{if(b=g(_),t.size>0){const S=p.getState(),I=Array.from(t.values());for(const O of I){let M=!1;try{M=O.predicate(_,S,y)}catch(T){M=!1,kT(a,T,{raisedBy:"predicate"})}M&&c(O,_,p,w)}}}finally{y=xT}return b},startListening:l,stopListening:u,clearListeners:d}};function Mn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var yq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},YD=Pn({name:"chartLayout",initialState:yq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:_q,setLayout:wq,setChartSize:Eq,setScale:bq}=YD.actions,Sq=YD.reducer;function XD(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function CT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(n),!0).forEach(function(r){Pq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pq(e,t,n){return(t=Tq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tq(e){var t=Aq(e,"string");return typeof t=="symbol"?t:t+""}function Aq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yt(e,t,n){return bt(e)||bt(t)?n:Ur(t)?Kp(e,t,n):typeof t=="function"?t(e):n}var xq=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:s}=t;if((s==="vertical"||s==="horizontal"&&a==="middle")&&o!=="center"&&ee(e[o]))return ns(ns({},e),{},{[o]:e[o]+(r||0)});if((s==="horizontal"||s==="vertical"&&o==="center")&&a!=="middle"&&ee(e[a]))return ns(ns({},e),{},{[a]:e[a]+(i||0)})}return e},Io=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",JD=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var i,o,a=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===n&&(o=!0),s.coordinate));return i||a.push(t),o||a.push(n),a},ZD=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:a,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:h,axisType:p}=e;if(!a)return null;var g=s==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,_=(t||n)&&i==="category"&&a.bandwidth?a.bandwidth()/g:0;if(_=p==="angleAxis"&&o&&o.length>=2?qn(o[0]-o[1])*2*_:_,t&&(d||h)){var y=(d||h||[]).map((w,b)=>{var S=r?r.indexOf(w):w;return{coordinate:a(S)+_,value:w,offset:_,index:b}});return y.filter(w=>!$r(w.coordinate))}return l&&u?u.map((w,b)=>({coordinate:a(w)+_,value:w,index:b,offset:_})):a.ticks&&!n&&c!=null?a.ticks(c).map((w,b)=>({coordinate:a(w)+_,value:w,offset:_,index:b})):a.domain().map((w,b)=>({coordinate:a(w)+_,value:r?r[w]:w,index:b,offset:_}))},OT=1e-4,Iq=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-OT,o=Math.max(r[0],r[1])+OT,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}},kq=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=$r(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},Cq=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=$r(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Oq={sign:kq,expand:fH,none:Rs,silhouette:dH,wiggle:hH,positive:Cq},Rq=(e,t,n)=>{var r=Oq[n],i=cH().keys(t).value((o,a)=>Number(Yt(o,a,0))).order(Ny).offset(r);return i(e)};function RT(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:a}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!bt(i[t.dataKey])){var s=zN(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Yt(i,bt(a)?t.dataKey:a);return bt(l)?null:t.scale(l)}var Nq=e=>{var t=e.flat(2).filter(ee);return[Math.min(...t),Math.max(...t)]},Dq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Mq=(e,t,n)=>{if(e!=null)return Dq(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:a}=o,s=a.reduce((l,u)=>{var c=XD(u,t,n),d=Nq(c);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},NT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yh=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Qp(t,c=>c.coordinate),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],u=i[a-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function MT(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return ns(ns({},t),{},{dataKey:n,payload:r,value:i,name:o})}function e2(e,t){if(e)return String(e);if(typeof t=="string")return t}var Lq=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},jq=(e,t)=>t==="centric"?e.angle:e.radius,Ai=e=>e.layout.width,xi=e=>e.layout.height,Vq=e=>e.layout.scale,t2=e=>e.layout.margin,im=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),om=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),$q="data-recharts-item-index",Uq="data-recharts-item-data-key",Sc=60;function LT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Df(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(n),!0).forEach(function(r){Fq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fq(e,t,n){return(t=zq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zq(e){var t=Bq(e,"string");return typeof t=="symbol"?t:t+""}function Bq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wq=e=>e.brush.height;function Hq(e){var t=om(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Sc;return n+i}return n},0)}function Kq(e){var t=om(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Sc;return n+i}return n},0)}function qq(e){var t=im(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Gq(e){var t=im(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var jt=V([Ai,xi,t2,Wq,Hq,Kq,qq,Gq,wD,wK],(e,t,n,r,i,o,a,s,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+o},d={top:(n.top||0)+a,bottom:(n.bottom||0)+s},h=Df(Df({},d),c),p=h.bottom;h.bottom+=r,h=xq(h,l,u);var g=e-h.left-h.right,_=t-h.top-h.bottom;return Df(Df({brushBottom:p},h),{},{width:Math.max(g,0),height:Math.max(_,0)})}),Qq=V(jt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),n2=V(Ai,xi,(e,t)=>({x:0,y:0,width:e,height:t})),Yq=v.createContext(null),Tn=()=>v.useContext(Yq)!=null,am=e=>e.brush,sm=V([am,jt,t2],(e,t,n)=>({height:e.height,x:ee(e.x)?e.x:t.left,y:ee(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ee(e.width)?e.width:t.width})),r2={},i2={},o2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let a,s=null;const l=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),c=()=>{s!==null&&(n.apply(a,s),a=void 0,s=null)},d=()=>{u&&c(),_()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},r)},g=()=>{h!==null&&(clearTimeout(h),h=null)},_=()=>{g(),a=void 0,s=null},y=()=>{c()},w=function(...b){if(i!=null&&i.aborted)return;a=this,s=b;const S=h==null;p(),l&&S&&c()};return w.schedule=p,w.cancel=_,w.flush=y,i==null||i.addEventListener("abort",_,{once:!0}),w}e.debounce=t})(o2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o2;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:s=!0,maxWait:l}=o,u=Array(2);a&&(u[0]="leading"),s&&(u[1]="trailing");let c,d=null;const h=t.debounce(function(..._){c=r.apply(this,_),d=null},i,{edges:u}),p=function(..._){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=r.apply(this,_),d=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,_),c)},g=()=>(h.flush(),c);return p.cancel=h.cancel,p.flush=g,p}e.debounce=n})(i2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i2;function n(r,i=0,o={}){const{leading:a=!0,trailing:s=!0}=o;return t.debounce(r,i,{leading:a,maxWait:i,trailing:s})}e.throttle=n})(r2);var Xq=r2.throttle;const Jq=Si(Xq);var _h=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},a2=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:a}=n,s=vi(r)?e:Number(r),l=vi(i)?t:Number(i);return o&&o>0&&(s?l=s/o:l&&(s=l*o),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:s,calculatedHeight:l}},Zq={width:0,height:0,overflow:"visible"},e7={width:0,overflowX:"visible"},t7={height:0,overflowY:"visible"},n7={},r7=e=>{var{width:t,height:n}=e,r=vi(t),i=vi(n);return r&&i?Zq:r?e7:i?t7:n7};function i7(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function St(e){return Number.isFinite(e)}function Fr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hy.apply(null,arguments)}function jT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(n),!0).forEach(function(r){o7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o7(e,t,n){return(t=a7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a7(e){var t=s7(e,"string");return typeof t=="symbol"?t:t+""}function s7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s2=v.createContext({width:-1,height:-1});function l7(e){return Fr(e.width)&&Fr(e.height)}function l2(e){var{children:t,width:n,height:r}=e,i=v.useMemo(()=>({width:n,height:r}),[n,r]);return l7(i)?v.createElement(s2.Provider,{value:i},t):null}var eE=()=>v.useContext(s2),u7=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:a=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:d,className:h,onResize:p,style:g={}}=e,_=v.useRef(null),y=v.useRef();y.current=p,v.useImperativeHandle(t,()=>_.current);var[w,b]=v.useState({containerWidth:r.width,containerHeight:r.height}),S=v.useCallback((P,x)=>{b(R=>{var C=Math.round(P),D=Math.round(x);return R.containerWidth===C&&R.containerHeight===D?R:{containerWidth:C,containerHeight:D}})},[]);v.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return _c;var P=D=>{var N,{width:Z,height:ce}=D[0].contentRect;S(Z,ce),(N=y.current)===null||N===void 0||N.call(y,Z,ce)};c>0&&(P=Jq(P,c,{trailing:!0,leading:!1}));var x=new ResizeObserver(P),{width:R,height:C}=_.current.getBoundingClientRect();return S(R,C),x.observe(_.current),()=>{x.disconnect()}},[S,c]);var{containerWidth:I,containerHeight:O}=w;_h(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:T}=a2(I,O,{width:i,height:o,aspect:n,maxHeight:l});return _h(M!=null&&M>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,T,i,o,a,s,n),v.createElement("div",{id:d?"".concat(d):void 0,className:Ae("recharts-responsive-container",h),style:VT(VT({},g),{},{width:i,height:o,minWidth:a,minHeight:s,maxHeight:l}),ref:_},v.createElement("div",{style:r7({width:i,height:o})},v.createElement(l2,{width:M,height:T},u)))}),u2=v.forwardRef((e,t)=>{var n=eE();if(Fr(n.width)&&Fr(n.height))return e.children;var{width:r,height:i}=i7({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:a}=a2(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ee(o)&&ee(a)?v.createElement(l2,{width:o,height:a},e.children):v.createElement(u7,Hy({},e,{width:r,height:i,ref:t}))});function c2(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var lm=()=>{var e,t=Tn(),n=J(Qq),r=J(sm),i=(e=J(am))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},c7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},f2=()=>{var e;return(e=J(jt))!==null&&e!==void 0?e:c7},tE=()=>J(Ai),nE=()=>J(xi),f7=()=>J(e=>e.layout.margin),je=e=>e.layout.layoutType,um=()=>J(je),d7=()=>{var e=um();return e!==void 0},cm=e=>{var t=at(),n=Tn(),{width:r,height:i}=e,o=eE(),a=r,s=i;return o&&(a=o.width>0?o.width:r,s=o.height>0?o.height:i),v.useEffect(()=>{!n&&Fr(a)&&Fr(s)&&t(Eq({width:a,height:s}))},[t,n,a,s]),null},d2=Symbol.for("immer-nothing"),$T=Symbol.for("immer-draftable"),jn=Symbol.for("immer-state");function ur(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var zu=Object.getPrototypeOf;function Ls(e){return!!e&&!!e[jn]}function ma(e){var t;return e?h2(e)||Array.isArray(e)||!!e[$T]||!!((t=e.constructor)!=null&&t[$T])||Pc(e)||dm(e):!1}var h7=Object.prototype.constructor.toString(),UT=new WeakMap;function h2(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=UT.get(n);return r===void 0&&(r=Function.toString.call(n),UT.set(n,r)),r===h7}function wh(e,t,n=!0){fm(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function fm(e){const t=e[jn];return t?t.type_:Array.isArray(e)?1:Pc(e)?2:dm(e)?3:0}function Ky(e,t){return fm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function p2(e,t,n){const r=fm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function p7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Pc(e){return e instanceof Map}function dm(e){return e instanceof Set}function Uo(e){return e.copy_||e.base_}function qy(e,t){if(Pc(e))return new Map(e);if(dm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=h2(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[jn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(zu(e),r)}else{const r=zu(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function rE(e,t=!1){return hm(e)||Ls(e)||!ma(e)||(fm(e)>1&&Object.defineProperties(e,{set:Mf,add:Mf,clear:Mf,delete:Mf}),Object.freeze(e),t&&Object.values(e).forEach(n=>rE(n,!0))),e}function m7(){ur(2)}var Mf={value:m7};function hm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var g7={};function ga(e){const t=g7[e];return t||ur(0,e),t}var Bu;function m2(){return Bu}function v7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FT(e,t){t&&(ga("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Gy(e){Qy(e),e.drafts_.forEach(y7),e.drafts_=null}function Qy(e){e===Bu&&(Bu=e.parent_)}function zT(e){return Bu=v7(Bu,e)}function y7(e){const t=e[jn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function BT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[jn].modified_&&(Gy(t),ur(4)),ma(e)&&(e=Eh(t,e),t.parent_||bh(t,e)),t.patches_&&ga("Patches").generateReplacementPatches_(n[jn].base_,e,t.patches_,t.inversePatches_)):e=Eh(t,n,[]),Gy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==d2?e:void 0}function Eh(e,t,n){if(hm(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[jn];if(!i)return wh(t,(o,a)=>WT(e,i,t,o,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return bh(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,s=!1;i.type_===3&&(a=new Set(o),o.clear(),s=!0),wh(a,(l,u)=>WT(e,i,o,l,u,n,s),r),bh(e,o,!1),n&&e.patches_&&ga("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function WT(e,t,n,r,i,o,a){if(i==null||typeof i!="object"&&!a)return;const s=hm(i);if(!(s&&!a)){if(Ls(i)){const l=o&&t&&t.type_!==3&&!Ky(t.assigned_,r)?o.concat(r):void 0,u=Eh(e,i,l);if(p2(n,r,u),Ls(u))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(ma(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&s)return;Eh(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Pc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&bh(e,i)}}}function bh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rE(t,n)}function _7(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:m2(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=iE;n&&(i=[r],o=Wu);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}var iE={get(e,t){if(t===jn)return e;const n=Uo(e);if(!Ky(n,t))return w7(e,n,t);const r=n[t];return e.finalized_||!ma(r)?r:r===zg(e.base_,t)?(Bg(e),e.copy_[t]=Xy(r,e)):r},has(e,t){return t in Uo(e)},ownKeys(e){return Reflect.ownKeys(Uo(e))},set(e,t,n){const r=g2(Uo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=zg(Uo(e),t),o=i==null?void 0:i[jn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(p7(n,i)&&(n!==void 0||Ky(e.base_,t)))return!0;Bg(e),Yy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return zg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Bg(e),Yy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Uo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ur(11)},getPrototypeOf(e){return zu(e.base_)},setPrototypeOf(){ur(12)}},Wu={};wh(iE,(e,t)=>{Wu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Wu.deleteProperty=function(e,t){return Wu.set.call(this,e,t,void 0)};Wu.set=function(e,t,n){return iE.set.call(this,e[0],t,n,e[0])};function zg(e,t){const n=e[jn];return(n?Uo(n):e)[t]}function w7(e,t,n){var i;const r=g2(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function g2(e,t){if(!(t in e))return;let n=zu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=zu(n)}}function Yy(e){e.modified_||(e.modified_=!0,e.parent_&&Yy(e.parent_))}function Bg(e){e.copy_||(e.copy_=qy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var E7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const a=this;return function(l=o,...u){return a.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&ur(6),r!==void 0&&typeof r!="function"&&ur(7);let i;if(ma(t)){const o=zT(this),a=Xy(t,void 0);let s=!0;try{i=n(a),s=!1}finally{s?Gy(o):Qy(o)}return FT(o,r),BT(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===d2&&(i=void 0),this.autoFreeze_&&rE(i,!0),r){const o=[],a=[];ga("Patches").generateReplacementPatches_(t,i,o,a),r(o,a)}return i}else ur(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...s)=>this.produceWithPatches(a,l=>t(l,...s));let r,i;return[this.produce(t,n,(a,s)=>{r=a,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ma(e)||ur(8),Ls(e)&&(e=b7(e));const t=zT(this),n=Xy(e,void 0);return n[jn].isManual_=!0,Qy(t),n}finishDraft(e,t){const n=e&&e[jn];(!n||!n.isManual_)&&ur(9);const{scope_:r}=n;return FT(r,t),BT(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=ga("Patches").applyPatches_;return Ls(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Xy(e,t){const n=Pc(e)?ga("MapSet").proxyMap_(e,t):dm(e)?ga("MapSet").proxySet_(e,t):_7(e,t);return(t?t.scope_:m2()).drafts_.push(n),n}function b7(e){return Ls(e)||ur(10,e),v2(e)}function v2(e){if(!ma(e)||hm(e))return e;const t=e[jn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=qy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=qy(e,!0);return wh(n,(i,o)=>{p2(n,i,v2(o))},r),t&&(t.finalized_=!1),n}var S7=new E7;S7.produce;var P7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},y2=Pn({name:"legend",initialState:P7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ve()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=pr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Ve()},removeLegendPayload:{reducer(e,t){var n=pr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Ve()}}}),{setLegendSize:HT,setLegendSettings:T7,addLegendPayload:A7,replaceLegendPayload:x7,removeLegendPayload:I7}=y2.actions,k7=y2.reducer,C7=["contextPayload"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jy.apply(null,arguments)}function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function js(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(r){O7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O7(e,t,n){return(t=R7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R7(e){var t=N7(e,"string");return typeof t=="symbol"?t:t+""}function N7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D7(e,t){if(e==null)return{};var n,r,i=M7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function M7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function L7(e){return e.value}function j7(e){var{contextPayload:t}=e,n=D7(e,C7),r=uD(t,e.payloadUniqBy,L7),i=js(js({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement($H,i)}function V7(e,t,n,r,i,o){var{layout:a,align:s,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&a==="vertical"?u={left:((r||0)-o.width)/2}:u=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-o.height)/2}:c=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),js(js({},u),c)}function $7(e){var t=at();return v.useEffect(()=>{t(T7(e))},[t,e]),null}function U7(e){var t=at();return v.useEffect(()=>(t(HT(e)),()=>{t(HT({width:0,height:0}))}),[t,e]),null}function F7(e,t,n,r){return e==="vertical"&&ee(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var z7={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function oE(e){var t=Zt(e,z7),n=SK(),r=D8(),i=f7(),{width:o,height:a,wrapperStyle:s,portal:l}=t,[u,c]=ED([n]),d=tE(),h=nE();if(d==null||h==null)return null;var p=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=F7(t.layout,a,o,p),_=l?s:js(js({position:"absolute",width:(g==null?void 0:g.width)||o||"auto",height:(g==null?void 0:g.height)||a||"auto"},V7(s,t,i,d,h,u)),s),y=l??r;if(y==null||n==null)return null;var w=v.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:c},v.createElement($7,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(U7,{width:u.width,height:u.height}),v.createElement(j7,Jy({},t,g,{margin:i,chartWidth:d,chartHeight:h,contextPayload:n})));return cp.createPortal(w,y)}oE.displayName="Legend";function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zy.apply(null,arguments)}function qT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(n),!0).forEach(function(r){B7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B7(e,t,n){return(t=W7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W7(e){var t=H7(e,"string");return typeof t=="symbol"?t:t+""}function H7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K7(e){return Array.isArray(e)&&Ur(e[0])&&Ur(e[1])?e.join(" ~ "):e}var q7=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:h=!1}=e,p=()=>{if(o&&o.length){var O={padding:0,margin:0},M=(s?Qp(o,s):o).map((T,P)=>{if(T.type==="none")return null;var x=T.formatter||a||K7,{value:R,name:C}=T,D=R,N=C;if(x){var Z=x(R,C,T,P,o);if(Array.isArray(Z))[D,N]=Z;else if(Z!=null)D=Z;else return null}var ce=Wg({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:ce},Ur(N)?v.createElement("span",{className:"recharts-tooltip-item-name"},N):null,Ur(N)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},D),v.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:O},M)}return null},g=Wg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=Wg({margin:0},i),y=!bt(c),w=y?c:"",b=Ae("recharts-default-tooltip",l),S=Ae("recharts-tooltip-label",u);y&&d&&o!==void 0&&o!==null&&(w=d(c,o));var I=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Zy({className:b,style:g},I),v.createElement("p",{className:S,style:_},v.isValidElement(w)?w:"".concat(w)),p())},kl="recharts-tooltip-wrapper",G7={visibility:"hidden"};function Q7(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ae(kl,{["".concat(kl,"-right")]:ee(n)&&t&&ee(t.x)&&n>=t.x,["".concat(kl,"-left")]:ee(n)&&t&&ee(t.x)&&n<t.x,["".concat(kl,"-bottom")]:ee(r)&&t&&ee(t.y)&&r>=t.y,["".concat(kl,"-top")]:ee(r)&&t&&ee(t.y)&&r<t.y})}function GT(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(o&&ee(o[r]))return o[r];var c=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return a[r]?c:d;var h=l[r];if(h==null)return 0;if(a[r]){var p=c,g=h;return p<g?Math.max(d,h):Math.max(c,h)}if(u==null)return 0;var _=d+s,y=h+u;return _>y?Math.max(c,h):Math.max(d,h)}function Y7(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function X7(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:a,useTranslate3d:s,viewBox:l}=e,u,c,d;return a.height>0&&a.width>0&&n?(c=GT({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=GT({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Y7({translateX:c,translateY:d,useTranslate3d:s})):u=G7,{cssProperties:u,cssClasses:Q7({translateX:c,translateY:d,coordinate:n})}}function QT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(n),!0).forEach(function(r){e0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e0(e,t,n){return(t=J7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J7(e){var t=Z7(e,"string");return typeof t=="symbol"?t:t+""}function Z7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class eG extends v.PureComponent{constructor(){super(...arguments),e0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),e0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:_,innerRef:y,hasPortalFromProps:w}=this.props,{cssClasses:b,cssProperties:S}=X7({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:_.height,width:_.width},useTranslate3d:h,viewBox:p}),I=w?{}:Lf(Lf({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),O=Lf(Lf({},I),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},g);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:O,ref:y},o)}}var _2=()=>{var e;return(e=J(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t0.apply(null,arguments)}function YT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(n),!0).forEach(function(r){tG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tG(e,t,n){return(t=nG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nG(e){var t=rG(e,"string");return typeof t=="symbol"?t:t+""}function rG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JT={curveBasisClosed:Z8,curveBasisOpen:eH,curveBasis:J8,curveBumpX:V8,curveBumpY:$8,curveLinearClosed:tH,curveLinear:Fp,curveMonotoneX:nH,curveMonotoneY:rH,curveNatural:iH,curveStep:oH,curveStepAfter:sH,curveStepBefore:aH},Sh=e=>St(e.x)&&St(e.y),ZT=e=>e.base!=null&&Sh(e.base)&&Sh(e),Cl=e=>e.x,Ol=e=>e.y,iG=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(yc(e));return(n==="curveMonotone"||n==="curveBump")&&t?JT["".concat(n).concat(t==="vertical"?"Y":"X")]:JT[n]||Fp},oG=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,a=iG(t,i),s=o?n.filter(Sh):n,l;if(Array.isArray(r)){var u=n.map((p,g)=>XT(XT({},p),{},{base:r[g]}));i==="vertical"?l=If().y(Ol).x1(Cl).x0(p=>p.base.x):l=If().x(Cl).y1(Ol).y0(p=>p.base.y);var c=l.defined(ZT).curve(a),d=o?u.filter(ZT):u;return c(d)}i==="vertical"&&ee(r)?l=If().y(Ol).x1(Cl).x0(r):ee(r)?l=If().x(Cl).y1(Ol).y0(r):l=IN().x(Cl).y(Ol);var h=l.defined(Sh).curve(a);return h(s)},w2=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?oG(e):r;return v.createElement("path",t0({},Vr(e),Nw(e),{className:Ae("recharts-curve",t),d:o===null?void 0:o,ref:i}))},aG=["x","y","top","left","width","height","className"];function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(null,arguments)}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){lG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lG(e,t,n){return(t=uG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uG(e){var t=cG(e,"string");return typeof t=="symbol"?t:t+""}function cG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fG(e,t){if(e==null)return{};var n,r,i=dG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hG=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),pG=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:s}=e,l=fG(e,aG),u=sG({x:t,y:n,top:r,left:i,width:o,height:a},l);return!ee(t)||!ee(n)||!ee(o)||!ee(a)||!ee(r)||!ee(i)?null:v.createElement("path",n0({},cn(u),{className:Ae("recharts-cross",s),d:hG(t,n,o,a,r,i)}))};function mG(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(r){gG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gG(e,t,n){return(t=vG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vG(e){var t=yG(e,"string");return typeof t=="symbol"?t:t+""}function yG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _G=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),E2=(e,t,n)=>e.map(r=>"".concat(_G(r)," ").concat(t,"ms ").concat(n)).join(","),wG=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Hu=(e,t)=>Object.keys(t).reduce((n,r)=>nA(nA({},n),{},{[r]:e(r,t[r])}),{});function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){EG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EG(e,t,n){return(t=bG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bG(e){var t=SG(e,"string");return typeof t=="symbol"?t:t+""}function SG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ph=(e,t,n)=>e+(t-e)*n,r0=e=>{var{from:t,to:n}=e;return t!==n},b2=(e,t,n)=>{var r=Hu((i,o)=>{if(r0(o)){var[a,s]=e(o.from,o.to,o.velocity);return lt(lt({},o),{},{from:a,velocity:s})}return o},t);return n<1?Hu((i,o)=>r0(o)?lt(lt({},o),{},{velocity:Ph(o.velocity,r[i].velocity,n),from:Ph(o.from,r[i].from,n)}):o,t):b2(e,r,n-1)};function PG(e,t,n,r,i,o){var a,s=r.reduce((h,p)=>lt(lt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>Hu((h,p)=>p.from,s),u=()=>!Object.values(s).filter(r0).length,c=null,d=h=>{a||(a=h);var p=h-a,g=p/n.dt;s=b2(n,s,g),i(lt(lt(lt({},e),t),l())),a=h,u()||(c=o.setTimeout(d))};return()=>(c=o.setTimeout(d),()=>{var h;(h=c)===null||h===void 0||h()})}function TG(e,t,n,r,i,o,a){var s=null,l=i.reduce((d,h)=>lt(lt({},d),{},{[h]:[e[h],t[h]]}),{}),u,c=d=>{u||(u=d);var h=(d-u)/r,p=Hu((_,y)=>Ph(...y,n(h)),l);if(o(lt(lt(lt({},e),t),p)),h<1)s=a.setTimeout(c);else{var g=Hu((_,y)=>Ph(...y,n(1)),l);o(lt(lt(lt({},e),t),g))}};return()=>(s=a.setTimeout(c),()=>{var d;(d=s)===null||d===void 0||d()})}const AG=(e,t,n,r,i,o)=>{var a=wG(e,t);return n==null?()=>(i(lt(lt({},e),t)),()=>{}):n.isStepper===!0?PG(e,t,n,a,i,o):TG(e,t,n,r,a,i,o)};var Th=1e-4,S2=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],P2=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),iA=(e,t)=>n=>{var r=S2(e,t);return P2(r,n)},xG=(e,t)=>n=>{var r=S2(e,t),i=[...r.map((o,a)=>o*a).slice(1),0];return P2(i,n)},IG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=o[1].split(")")[0].split(",").map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]}}}return n.length===4?n:[0,0,1,1]},kG=(e,t,n,r)=>{var i=iA(e,n),o=iA(t,r),a=xG(e,n),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,h=0;h<8;++h){var p=i(d)-c,g=a(d);if(Math.abs(p-c)<Th||g<Th)return o(d);d=s(d-p/g)}return o(d)};return l.isStepper=!1,l},oA=function(){return kG(...IG(...arguments))},CG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(a,s,l)=>{var u=-(a-s)*n,c=l*r,d=l+(u-c)*i/1e3,h=l*i/1e3+a;return Math.abs(h-s)<Th&&Math.abs(d)<Th?[s,0]:[h,d]};return o.isStepper=!0,o.dt=i,o},OG=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oA(e);case"spring":return CG();default:if(e.split("(")[0]==="cubic-bezier")return oA(e)}return typeof e=="function"?e:null};function RG(e){var t,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(o.bind(null,u),l);return}o(l),i=e.setTimeout(o.bind(null,u));return}typeof a=="string"&&(t=a,n(t)),typeof a=="object"&&(t=a,n(t)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>e}}class NG{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function DG(){return RG(new NG)}var MG=v.createContext(DG);function LG(e,t){var n=v.useContext(MG);return v.useMemo(()=>t??n(e),[e,t,n])}var jG=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Tc={devToolsEnabled:!1,isSsr:jG()},VG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},aA={t:0},Hg={t:1};function aE(e){var t=Zt(e,VG),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:s,onAnimationStart:l,children:u}=t,c=n==="auto"?!Tc.isSsr:n,d=LG(t.animationId,t.animationManager),[h,p]=v.useState(c?aA:Hg),g=v.useRef(null);return v.useEffect(()=>{c||p(Hg)},[c]),v.useEffect(()=>{if(!c||!r)return _c;var _=AG(aA,Hg,OG(o),i,p,d.getTimeoutController()),y=()=>{g.current=_()};return d.start([l,a,y,i,s]),()=>{d.stop(),g.current&&g.current(),s()}},[c,r,i,o,a,l,s,d]),u(h.t)}function sE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Vu(t)),r=v.useRef(e);return r.current!==e&&(n.current=Vu(t),r.current=e),n.current}var $G=["radius"],UG=["radius"];function sA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(n),!0).forEach(function(r){FG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FG(e,t,n){return(t=zG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zG(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ah.apply(null,arguments)}function uA(e,t){if(e==null)return{};var n,r,i=WG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cA=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,s=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,h=4;d<h;d++)c[d]=i[d]>o?o:i[d];u="M".concat(e,",").concat(t+a*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(e+s*c[0],",").concat(t)),u+="L ".concat(e+n-s*c[1],",").concat(t),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(t+a*c[1])),u+="L ".concat(e+n,",").concat(t+r-a*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(e+n-s*c[2],",").concat(t+r)),u+="L ".concat(e+s*c[3],",").concat(t+r),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+r-a*c[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);u="M ".concat(e,",").concat(t+a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+s*p,",").concat(t,`
            L `).concat(e+n-s*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n,",").concat(t+a*p,`
            L `).concat(e+n,",").concat(t+r-a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n-s*p,",").concat(t+r,`
            L `).concat(e+s*p,",").concat(t+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+r-a*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},fA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T2=e=>{var t=Zt(e,fA),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var fe=n.current.getTotalLength();fe&&i(fe)}catch{}},[]);var{x:o,y:a,width:s,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:_}=t,y=v.useRef(s),w=v.useRef(l),b=v.useRef(o),S=v.useRef(a),I=v.useMemo(()=>({x:o,y:a,width:s,height:l,radius:u}),[o,a,s,l,u]),O=sE(I,"rectangle-");if(o!==+o||a!==+a||s!==+s||l!==+l||s===0||l===0)return null;var M=Ae("recharts-rectangle",c);if(!_){var T=cn(t),P=uA(T,$G);return v.createElement("path",Ah({},P,{radius:typeof u=="number"?u:void 0,className:M,d:cA(o,a,s,l,u)}))}var x=y.current,R=w.current,C=b.current,D=S.current,N="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),ce=E2(["strokeDasharray"],h,typeof d=="string"?d:fA.animationEasing);return v.createElement(aE,{animationId:O,key:O,canBegin:r>0,duration:h,easing:d,isActive:_,begin:p},fe=>{var se=yn(x,s,fe),z=yn(R,l,fe),B=yn(C,o,fe),X=yn(D,a,fe);n.current&&(y.current=se,w.current=z,b.current=B,S.current=X);var le;g?fe>0?le={transition:ce,strokeDasharray:Z}:le={strokeDasharray:N}:le={strokeDasharray:Z};var ue=cn(t),Ee=uA(ue,UG);return v.createElement("path",Ah({},Ee,{radius:typeof u=="number"?u:void 0,className:M,d:cA(B,X,se,z,u),ref:n,style:lA(lA({},le),t.style)}))})};function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(r){HG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HG(e,t,n){return(t=KG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KG(e){var t=qG(e,"string");return typeof t=="symbol"?t:t+""}function qG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xh=Math.PI/180,GG=e=>e*180/Math.PI,Ot=(e,t,n,r)=>({x:e+Math.cos(-xh*r)*n,y:t+Math.sin(-xh*r)*n}),QG=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},YG=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},XG=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,a=YG({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:GG(l),angleInRadian:l}},JG=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},ZG=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return e+a*360},eQ=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=XG({x:n,y:r},t),{innerRadius:a,outerRadius:s}=t;if(i<a||i>s||i===0)return null;var{startAngle:l,endAngle:u}=JG(t),c=o,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?hA(hA({},t),{},{radius:i,angle:ZG(c,t)}):null};function A2(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,a=Ot(t,n,r,i),s=Ot(t,n,r,o);return{points:[a,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i0.apply(null,arguments)}var tQ=(e,t)=>{var n=qn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},jf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:s,cornerIsExternal:l}=e,u=s*(a?1:-1)+r,c=Math.asin(s/u)/xh,d=l?i:i+o*c,h=Ot(t,n,u,d),p=Ot(t,n,r,d),g=l?i-o*c:i,_=Ot(t,n,u*Math.cos(c*xh),g);return{center:h,circleTangency:p,lineTangency:_,theta:c}},x2=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=e,s=tQ(o,a),l=o+s,u=Ot(t,n,i,o),c=Ot(t,n,i,l),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(o>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var h=Ot(t,n,r,o),p=Ot(t,n,r,l);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(o<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},nQ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=qn(u-l),{circleTangency:d,lineTangency:h,theta:p}=jf({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:s}),{circleTangency:g,lineTangency:_,theta:y}=jf({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:s}),w=s?Math.abs(l-u):Math.abs(l-u)-p-y;if(w<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):x2({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:S,lineTangency:I,theta:O}=jf({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),{circleTangency:M,lineTangency:T,theta:P}=jf({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),x=s?Math.abs(l-u):Math.abs(l-u)-O-P;if(x<0&&o===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(x>180),",").concat(+(c>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(I.x,",").concat(I.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b},rQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},I2=e=>{var t=Zt(e,rQ),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(o<i||u===c)return null;var h=Ae("recharts-sector",d),p=o-i,g=bo(a,p,0,!0),_;return g>0&&Math.abs(u-c)<360?_=nQ({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):_=x2({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),v.createElement("path",i0({},cn(t),{className:h,d:_}))};function iQ(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(WN(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:a,angle:s}=t,l=Ot(r,i,o,s),u=Ot(r,i,a,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return A2(t)}}var k2={},C2={},O2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ww;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(O2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O2;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(C2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hw,n=C2;function r(i,o,a){a&&typeof a!="number"&&t.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const s=Math.max(Math.ceil((o-i)/(a||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=a;return l}e.range=r})(k2);var oQ=k2.range;const R2=Si(oQ);function ho(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lE(e){let t,n,r;e.length!==2?(t=ho,n=(s,l)=>ho(e(s),l),r=(s,l)=>e(s)-l):(t=e===ho||e===aQ?e:sQ,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function sQ(){return 0}function N2(e){return e===null?NaN:+e}function*lQ(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const uQ=lE(ho),cQ=uQ.right;lE(N2).center;const Ac=cQ;class pA extends Map{constructor(t,n=hQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(mA(this,t))}has(t){return super.has(mA(this,t))}set(t,n){return super.set(fQ(this,t),n)}delete(t){return super.delete(dQ(this,t))}}function mA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function fQ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function dQ({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function hQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pQ(e=ho){if(e===ho)return D2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function D2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mQ=Math.sqrt(50),gQ=Math.sqrt(10),vQ=Math.sqrt(2);function Ih(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=mQ?10:o>=gQ?5:o>=vQ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?Ih(e,t,n*2):[s,l,u]}function o0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?Ih(t,e,n):Ih(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function a0(e,t,n){return t=+t,e=+e,n=+n,Ih(e,t,n)[2]}function s0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?a0(t,e,n):a0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function gA(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function vA(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function M2(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?D2:pQ(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*d/l+h)),g=Math.min(r,Math.floor(t+(l-u)*d/l+h));M2(e,t,p,g,i)}const o=e[t];let a=n,s=r;for(Rl(e,n,t),i(e[r],o)>0&&Rl(e,n,r);a<s;){for(Rl(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?Rl(e,n,s):(++s,Rl(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Rl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function yQ(e,t,n){if(e=Float64Array.from(lQ(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return vA(e);if(t>=1)return gA(e);var r,i=(r-1)*t,o=Math.floor(i),a=gA(M2(e,o).subarray(0,o+1)),s=vA(e.subarray(o+1));return a+(s-a)*(i-o)}}function _Q(e,t,n=N2){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function wQ(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function tr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ii(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const l0=Symbol("implicit");function uE(){var e=new pA,t=[],n=[],r=l0;function i(o){let a=e.get(o);if(a===void 0){if(r!==l0)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new pA;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return uE(t,n).unknown(r)},tr.apply(i,arguments),i}function cE(){var e=uE().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var h=t().length,p=i<r,g=p?i:r,_=p?r:i;o=(_-g)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),g+=(_-g-o*(h-l))*c,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var y=wQ(h).map(function(w){return g+o*w});return n(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return cE(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},tr.apply(d(),arguments)}function L2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return L2(t())},e}function EQ(){return L2(cE.apply(null,arguments).paddingInner(1))}function fE(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function j2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function xc(){}var Ku=.7,kh=1/Ku,ms="\\s*([+-]?\\d+)\\s*",qu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bQ=/^#([0-9a-f]{3,8})$/,SQ=new RegExp(`^rgb\\(${ms},${ms},${ms}\\)$`),PQ=new RegExp(`^rgb\\(${Mr},${Mr},${Mr}\\)$`),TQ=new RegExp(`^rgba\\(${ms},${ms},${ms},${qu}\\)$`),AQ=new RegExp(`^rgba\\(${Mr},${Mr},${Mr},${qu}\\)$`),xQ=new RegExp(`^hsl\\(${qu},${Mr},${Mr}\\)$`),IQ=new RegExp(`^hsla\\(${qu},${Mr},${Mr},${qu}\\)$`),yA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fE(xc,Gu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_A,formatHex:_A,formatHex8:kQ,formatHsl:CQ,formatRgb:wA,toString:wA});function _A(){return this.rgb().formatHex()}function kQ(){return this.rgb().formatHex8()}function CQ(){return V2(this).formatHsl()}function wA(){return this.rgb().formatRgb()}function Gu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bQ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?EA(t):n===3?new wn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Vf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Vf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=SQ.exec(e))?new wn(t[1],t[2],t[3],1):(t=PQ.exec(e))?new wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=TQ.exec(e))?Vf(t[1],t[2],t[3],t[4]):(t=AQ.exec(e))?Vf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xQ.exec(e))?PA(t[1],t[2]/100,t[3]/100,1):(t=IQ.exec(e))?PA(t[1],t[2]/100,t[3]/100,t[4]):yA.hasOwnProperty(e)?EA(yA[e]):e==="transparent"?new wn(NaN,NaN,NaN,0):null}function EA(e){return new wn(e>>16&255,e>>8&255,e&255,1)}function Vf(e,t,n,r){return r<=0&&(e=t=n=NaN),new wn(e,t,n,r)}function OQ(e){return e instanceof xc||(e=Gu(e)),e?(e=e.rgb(),new wn(e.r,e.g,e.b,e.opacity)):new wn}function u0(e,t,n,r){return arguments.length===1?OQ(e):new wn(e,t,n,r??1)}function wn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}fE(wn,u0,j2(xc,{brighter(e){return e=e==null?kh:Math.pow(kh,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ku:Math.pow(Ku,e),new wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wn(ta(this.r),ta(this.g),ta(this.b),Ch(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bA,formatHex:bA,formatHex8:RQ,formatRgb:SA,toString:SA}));function bA(){return`#${qo(this.r)}${qo(this.g)}${qo(this.b)}`}function RQ(){return`#${qo(this.r)}${qo(this.g)}${qo(this.b)}${qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function SA(){const e=Ch(this.opacity);return`${e===1?"rgb(":"rgba("}${ta(this.r)}, ${ta(this.g)}, ${ta(this.b)}${e===1?")":`, ${e})`}`}function Ch(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ta(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qo(e){return e=ta(e),(e<16?"0":"")+e.toString(16)}function PA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cr(e,t,n,r)}function V2(e){if(e instanceof cr)return new cr(e.h,e.s,e.l,e.opacity);if(e instanceof xc||(e=Gu(e)),!e)return new cr;if(e instanceof cr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new cr(a,s,l,e.opacity)}function NQ(e,t,n,r){return arguments.length===1?V2(e):new cr(e,t,n,r??1)}function cr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}fE(cr,NQ,j2(xc,{brighter(e){return e=e==null?kh:Math.pow(kh,e),new cr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ku:Math.pow(Ku,e),new cr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new wn(Kg(e>=240?e-240:e+120,i,r),Kg(e,i,r),Kg(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new cr(TA(this.h),$f(this.s),$f(this.l),Ch(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ch(this.opacity);return`${e===1?"hsl(":"hsla("}${TA(this.h)}, ${$f(this.s)*100}%, ${$f(this.l)*100}%${e===1?")":`, ${e})`}`}}));function TA(e){return e=(e||0)%360,e<0?e+360:e}function $f(e){return Math.max(0,Math.min(1,e||0))}function Kg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const dE=e=>()=>e;function DQ(e,t){return function(n){return e+n*t}}function MQ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function LQ(e){return(e=+e)==1?$2:function(t,n){return n-t?MQ(t,n,e):dE(isNaN(t)?n:t)}}function $2(e,t){var n=t-e;return n?DQ(e,n):dE(isNaN(e)?t:e)}const AA=function e(t){var n=LQ(t);function r(i,o){var a=n((i=u0(i)).r,(o=u0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=$2(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function jQ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function VQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $Q(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Xs(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function UQ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Oh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function FQ(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Xs(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var c0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qg=new RegExp(c0.source,"g");function zQ(e){return function(){return e}}function BQ(e){return function(t){return e(t)+""}}function WQ(e,t){var n=c0.lastIndex=qg.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=c0.exec(e))&&(i=qg.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Oh(r,i)})),n=qg.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?BQ(l[0].x):zQ(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function Xs(e,t){var n=typeof t,r;return t==null||n==="boolean"?dE(t):(n==="number"?Oh:n==="string"?(r=Gu(t))?(t=r,AA):WQ:t instanceof Gu?AA:t instanceof Date?UQ:VQ(t)?jQ:Array.isArray(t)?$Q:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FQ:Oh)(e,t)}function hE(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function HQ(e,t){t===void 0&&(t=e,e=Xs);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function KQ(e){return function(){return e}}function Rh(e){return+e}var xA=[0,1];function sn(e){return e}function f0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:KQ(isNaN(t)?NaN:.5)}function qQ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function GQ(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=f0(i,r),o=n(a,o)):(r=f0(r,i),o=n(o,a)),function(s){return o(r(s))}}function QQ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=f0(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=Ac(e,s,1,r)-1;return o[l](i[l](s))}}function Ic(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function pm(){var e=xA,t=xA,n=Xs,r,i,o,a=sn,s,l,u;function c(){var h=Math.min(e.length,t.length);return a!==sn&&(a=qQ(e[0],e[h-1])),s=h>2?QQ:GQ,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(r),t,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(t,e.map(r),Oh)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Rh),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=hE,c()},d.clamp=function(h){return arguments.length?(a=h?!0:sn,c()):a!==sn},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return r=h,i=p,c()}}function pE(){return pm()(sn,sn)}function YQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Vs(e){return e=Nh(Math.abs(e)),e?e[1]:NaN}function XQ(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function JQ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ZQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qu(e){if(!(t=ZQ.exec(e)))throw new Error("invalid format: "+e);var t;return new mE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qu.prototype=mE.prototype;function mE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eY(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var U2;function tY(e,t){var n=Nh(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(U2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Nh(e,Math.max(0,t+o-1))[0]}function IA(e,t){var n=Nh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const kA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:YQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>IA(e*100,t),r:IA,s:tY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function CA(e){return e}var OA=Array.prototype.map,RA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nY(e){var t=e.grouping===void 0||e.thousands===void 0?CA:XQ(OA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?CA:JQ(OA.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Qu(d);var h=d.fill,p=d.align,g=d.sign,_=d.symbol,y=d.zero,w=d.width,b=d.comma,S=d.precision,I=d.trim,O=d.type;O==="n"?(b=!0,O="g"):kA[O]||(S===void 0&&(S=12),I=!0,O="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var M=_==="$"?n:_==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",T=_==="$"?r:/[%p]/.test(O)?a:"",P=kA[O],x=/[defgprs%]/.test(O);S=S===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function R(C){var D=M,N=T,Z,ce,fe;if(O==="c")N=P(C)+N,C="";else{C=+C;var se=C<0||1/C<0;if(C=isNaN(C)?l:P(Math.abs(C),S),I&&(C=eY(C)),se&&+C==0&&g!=="+"&&(se=!1),D=(se?g==="("?g:s:g==="-"||g==="("?"":g)+D,N=(O==="s"?RA[8+U2/3]:"")+N+(se&&g==="("?")":""),x){for(Z=-1,ce=C.length;++Z<ce;)if(fe=C.charCodeAt(Z),48>fe||fe>57){N=(fe===46?i+C.slice(Z+1):C.slice(Z))+N,C=C.slice(0,Z);break}}}b&&!y&&(C=t(C,1/0));var z=D.length+C.length+N.length,B=z<w?new Array(w-z+1).join(h):"";switch(b&&y&&(C=t(B+C,B.length?w-N.length:1/0),B=""),p){case"<":C=D+C+N+B;break;case"=":C=D+B+C+N;break;case"^":C=B.slice(0,z=B.length>>1)+D+C+N+B.slice(z);break;default:C=B+D+C+N;break}return o(C)}return R.toString=function(){return d+""},R}function c(d,h){var p=u((d=Qu(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Vs(h)/3)))*3,_=Math.pow(10,-g),y=RA[8+g/3];return function(w){return p(_*w)+y}}return{format:u,formatPrefix:c}}var Uf,gE,F2;rY({thousands:",",grouping:[3],currency:["$",""]});function rY(e){return Uf=nY(e),gE=Uf.format,F2=Uf.formatPrefix,Uf}function iY(e){return Math.max(0,-Vs(Math.abs(e)))}function oY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vs(t)/3)))*3-Vs(Math.abs(e)))}function aY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vs(t)-Vs(e))+1}function z2(e,t,n,r){var i=s0(e,t,n),o;switch(r=Qu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=oY(i,a))&&(r.precision=o),F2(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=aY(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=iY(i))&&(r.precision=o-(r.type==="%")*2);break}}return gE(r)}function ko(e){var t=e.domain;return e.ticks=function(n){var r=t();return o0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return z2(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=a0(a,s,n),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function B2(){var e=pE();return e.copy=function(){return Ic(e,B2())},tr.apply(e,arguments),ko(e)}function W2(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Rh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return W2(e).unknown(t)},e=arguments.length?Array.from(e,Rh):[0,1],ko(n)}function H2(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function NA(e){return Math.log(e)}function DA(e){return Math.exp(e)}function sY(e){return-Math.log(-e)}function lY(e){return-Math.exp(-e)}function uY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cY(e){return e===10?uY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function MA(e){return(t,n)=>-e(-t,n)}function vE(e){const t=e(NA,DA),n=t.domain;let r=10,i,o;function a(){return i=fY(r),o=cY(r),n()[0]<0?(i=MA(i),o=MA(o),e(sY,lY)):e(NA,DA),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),p=i(c),g,_;const y=s==null?10:+s;let w=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<r;++g)if(_=h<0?g/o(-h):g*o(h),!(_<u)){if(_>c)break;w.push(_)}}else for(;h<=p;++h)for(g=r-1;g>=1;--g)if(_=h>0?g/o(-h):g*o(h),!(_<u)){if(_>c)break;w.push(_)}w.length*2<y&&(w=o0(u,c,y))}else w=o0(h,p,Math.min(p-h,y)).map(o);return d?w.reverse():w},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Qu(l)).precision==null&&(l.trim=!0),l=gE(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(H2(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function K2(){const e=vE(pm()).domain([1,10]);return e.copy=()=>Ic(e,K2()).base(e.base()),tr.apply(e,arguments),e}function LA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yE(e){var t=1,n=e(LA(t),jA(t));return n.constant=function(r){return arguments.length?e(LA(t=+r),jA(t)):t},ko(n)}function q2(){var e=yE(pm());return e.copy=function(){return Ic(e,q2()).constant(e.constant())},tr.apply(e,arguments)}function VA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hY(e){return e<0?-e*e:e*e}function _E(e){var t=e(sn,sn),n=1;function r(){return n===1?e(sn,sn):n===.5?e(dY,hY):e(VA(n),VA(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ko(t)}function wE(){var e=_E(pm());return e.copy=function(){return Ic(e,wE()).exponent(e.exponent())},tr.apply(e,arguments),e}function pY(){return wE.apply(null,arguments).exponent(.5)}function $A(e){return Math.sign(e)*e*e}function mY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function G2(){var e=pE(),t=[0,1],n=!1,r;function i(o){var a=mY(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert($A(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Rh)).map($A)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return G2(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},tr.apply(i,arguments),ko(i)}function Q2(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=_Q(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[Ac(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ho),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Q2().domain(e).range(t).unknown(r)},tr.apply(o,arguments)}function Y2(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Ac(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Y2().domain([e,t]).range(i).unknown(o)},tr.apply(ko(a),arguments)}function X2(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Ac(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return X2().domain(e).range(t).unknown(n)},tr.apply(i,arguments)}const Gg=new Date,Qg=new Date;function ft(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return l},i.filter=o=>ft(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(Gg.setTime(+o),Qg.setTime(+a),e(Gg),e(Qg),Math.floor(n(Gg,Qg))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Dh=ft(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Dh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ft(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Dh);Dh.range;const ri=1e3,Gn=ri*60,ii=Gn*60,_i=ii*24,EE=_i*7,UA=_i*30,Yg=_i*365,Go=ft(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ri)},(e,t)=>(t-e)/ri,e=>e.getUTCSeconds());Go.range;const bE=ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ri)},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getMinutes());bE.range;const SE=ft(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getUTCMinutes());SE.range;const PE=ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ri-e.getMinutes()*Gn)},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getHours());PE.range;const TE=ft(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getUTCHours());TE.range;const kc=ft(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gn)/_i,e=>e.getDate()-1);kc.range;const mm=ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_i,e=>e.getUTCDate()-1);mm.range;const J2=ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_i,e=>Math.floor(e/_i));J2.range;function Ca(e){return ft(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Gn)/EE)}const gm=Ca(0),Mh=Ca(1),gY=Ca(2),vY=Ca(3),$s=Ca(4),yY=Ca(5),_Y=Ca(6);gm.range;Mh.range;gY.range;vY.range;$s.range;yY.range;_Y.range;function Oa(e){return ft(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/EE)}const vm=Oa(0),Lh=Oa(1),wY=Oa(2),EY=Oa(3),Us=Oa(4),bY=Oa(5),SY=Oa(6);vm.range;Lh.range;wY.range;EY.range;Us.range;bY.range;SY.range;const AE=ft(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());AE.range;const xE=ft(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xE.range;const wi=ft(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ft(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});wi.range;const Ei=ft(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ft(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ei.range;function Z2(e,t,n,r,i,o){const a=[[Go,1,ri],[Go,5,5*ri],[Go,15,15*ri],[Go,30,30*ri],[o,1,Gn],[o,5,5*Gn],[o,15,15*Gn],[o,30,30*Gn],[i,1,ii],[i,3,3*ii],[i,6,6*ii],[i,12,12*ii],[r,1,_i],[r,2,2*_i],[n,1,EE],[t,1,UA],[t,3,3*UA],[e,1,Yg]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),g=p?p.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,d){const h=Math.abs(c-u)/d,p=lE(([,,y])=>y).right(a,h);if(p===a.length)return e.every(s0(u/Yg,c/Yg,d));if(p===0)return Dh.every(Math.max(s0(u,c,d),1));const[g,_]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return g.every(_)}return[s,l]}const[PY,TY]=Z2(Ei,xE,vm,J2,TE,SE),[AY,xY]=Z2(wi,AE,gm,kc,PE,bE);function Xg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function IY(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=Dl(i),c=Ml(i),d=Dl(o),h=Ml(o),p=Dl(a),g=Ml(a),_=Dl(s),y=Ml(s),w=Dl(l),b=Ml(l),S={a:se,A:z,b:B,B:X,c:null,d:KA,e:KA,f:XY,g:sX,G:uX,H:GY,I:QY,j:YY,L:eM,m:JY,M:ZY,p:le,q:ue,Q:QA,s:YA,S:eX,u:tX,U:nX,V:rX,w:iX,W:oX,x:null,X:null,y:aX,Y:lX,Z:cX,"%":GA},I={a:Ee,A:Qe,b:en,B:tn,c:null,d:qA,e:qA,f:pX,g:PX,G:AX,H:fX,I:dX,j:hX,L:nM,m:mX,M:gX,p:Oe,q:ol,Q:QA,s:YA,S:vX,u:yX,U:_X,V:wX,w:EX,W:bX,x:null,X:null,y:SX,Y:TX,Z:xX,"%":GA},O={a:R,A:C,b:D,B:N,c:Z,d:WA,e:WA,f:WY,g:BA,G:zA,H:HA,I:HA,j:UY,L:BY,m:$Y,M:FY,p:x,q:VY,Q:KY,s:qY,S:zY,u:NY,U:DY,V:MY,w:RY,W:LY,x:ce,X:fe,y:BA,Y:zA,Z:jY,"%":HY};S.x=M(n,S),S.X=M(r,S),S.c=M(t,S),I.x=M(n,I),I.X=M(r,I),I.c=M(t,I);function M(U,ae){return function(de){var W=[],mt=-1,be=0,Tt=U.length,Vt,wr,Uc;for(de instanceof Date||(de=new Date(+de));++mt<Tt;)U.charCodeAt(mt)===37&&(W.push(U.slice(be,mt)),(wr=FA[Vt=U.charAt(++mt)])!=null?Vt=U.charAt(++mt):wr=Vt==="e"?" ":"0",(Uc=ae[Vt])&&(Vt=Uc(de,wr)),W.push(Vt),be=mt+1);return W.push(U.slice(be,mt)),W.join("")}}function T(U,ae){return function(de){var W=Nl(1900,void 0,1),mt=P(W,U,de+="",0),be,Tt;if(mt!=de.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ae&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(be=Jg(Nl(W.y,0,1)),Tt=be.getUTCDay(),be=Tt>4||Tt===0?Lh.ceil(be):Lh(be),be=mm.offset(be,(W.V-1)*7),W.y=be.getUTCFullYear(),W.m=be.getUTCMonth(),W.d=be.getUTCDate()+(W.w+6)%7):(be=Xg(Nl(W.y,0,1)),Tt=be.getDay(),be=Tt>4||Tt===0?Mh.ceil(be):Mh(be),be=kc.offset(be,(W.V-1)*7),W.y=be.getFullYear(),W.m=be.getMonth(),W.d=be.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Tt="Z"in W?Jg(Nl(W.y,0,1)).getUTCDay():Xg(Nl(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Tt+5)%7:W.w+W.U*7-(Tt+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Jg(W)):Xg(W)}}function P(U,ae,de,W){for(var mt=0,be=ae.length,Tt=de.length,Vt,wr;mt<be;){if(W>=Tt)return-1;if(Vt=ae.charCodeAt(mt++),Vt===37){if(Vt=ae.charAt(mt++),wr=O[Vt in FA?ae.charAt(mt++):Vt],!wr||(W=wr(U,de,W))<0)return-1}else if(Vt!=de.charCodeAt(W++))return-1}return W}function x(U,ae,de){var W=u.exec(ae.slice(de));return W?(U.p=c.get(W[0].toLowerCase()),de+W[0].length):-1}function R(U,ae,de){var W=p.exec(ae.slice(de));return W?(U.w=g.get(W[0].toLowerCase()),de+W[0].length):-1}function C(U,ae,de){var W=d.exec(ae.slice(de));return W?(U.w=h.get(W[0].toLowerCase()),de+W[0].length):-1}function D(U,ae,de){var W=w.exec(ae.slice(de));return W?(U.m=b.get(W[0].toLowerCase()),de+W[0].length):-1}function N(U,ae,de){var W=_.exec(ae.slice(de));return W?(U.m=y.get(W[0].toLowerCase()),de+W[0].length):-1}function Z(U,ae,de){return P(U,t,ae,de)}function ce(U,ae,de){return P(U,n,ae,de)}function fe(U,ae,de){return P(U,r,ae,de)}function se(U){return a[U.getDay()]}function z(U){return o[U.getDay()]}function B(U){return l[U.getMonth()]}function X(U){return s[U.getMonth()]}function le(U){return i[+(U.getHours()>=12)]}function ue(U){return 1+~~(U.getMonth()/3)}function Ee(U){return a[U.getUTCDay()]}function Qe(U){return o[U.getUTCDay()]}function en(U){return l[U.getUTCMonth()]}function tn(U){return s[U.getUTCMonth()]}function Oe(U){return i[+(U.getUTCHours()>=12)]}function ol(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var ae=M(U+="",S);return ae.toString=function(){return U},ae},parse:function(U){var ae=T(U+="",!1);return ae.toString=function(){return U},ae},utcFormat:function(U){var ae=M(U+="",I);return ae.toString=function(){return U},ae},utcParse:function(U){var ae=T(U+="",!0);return ae.toString=function(){return U},ae}}}var FA={"-":"",_:" ",0:"0"},Pt=/^\s*\d+/,kY=/^%/,CY=/[\\^$*+?|[\]().{}]/g;function we(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function OY(e){return e.replace(CY,"\\$&")}function Dl(e){return new RegExp("^(?:"+e.map(OY).join("|")+")","i")}function Ml(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function RY(e,t,n){var r=Pt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function NY(e,t,n){var r=Pt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function DY(e,t,n){var r=Pt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function MY(e,t,n){var r=Pt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function LY(e,t,n){var r=Pt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function zA(e,t,n){var r=Pt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function BA(e,t,n){var r=Pt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function VY(e,t,n){var r=Pt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function $Y(e,t,n){var r=Pt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function WA(e,t,n){var r=Pt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function UY(e,t,n){var r=Pt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function HA(e,t,n){var r=Pt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function FY(e,t,n){var r=Pt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function zY(e,t,n){var r=Pt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function BY(e,t,n){var r=Pt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function WY(e,t,n){var r=Pt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function HY(e,t,n){var r=kY.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function KY(e,t,n){var r=Pt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function qY(e,t,n){var r=Pt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function KA(e,t){return we(e.getDate(),t,2)}function GY(e,t){return we(e.getHours(),t,2)}function QY(e,t){return we(e.getHours()%12||12,t,2)}function YY(e,t){return we(1+kc.count(wi(e),e),t,3)}function eM(e,t){return we(e.getMilliseconds(),t,3)}function XY(e,t){return eM(e,t)+"000"}function JY(e,t){return we(e.getMonth()+1,t,2)}function ZY(e,t){return we(e.getMinutes(),t,2)}function eX(e,t){return we(e.getSeconds(),t,2)}function tX(e){var t=e.getDay();return t===0?7:t}function nX(e,t){return we(gm.count(wi(e)-1,e),t,2)}function tM(e){var t=e.getDay();return t>=4||t===0?$s(e):$s.ceil(e)}function rX(e,t){return e=tM(e),we($s.count(wi(e),e)+(wi(e).getDay()===4),t,2)}function iX(e){return e.getDay()}function oX(e,t){return we(Mh.count(wi(e)-1,e),t,2)}function aX(e,t){return we(e.getFullYear()%100,t,2)}function sX(e,t){return e=tM(e),we(e.getFullYear()%100,t,2)}function lX(e,t){return we(e.getFullYear()%1e4,t,4)}function uX(e,t){var n=e.getDay();return e=n>=4||n===0?$s(e):$s.ceil(e),we(e.getFullYear()%1e4,t,4)}function cX(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+we(t/60|0,"0",2)+we(t%60,"0",2)}function qA(e,t){return we(e.getUTCDate(),t,2)}function fX(e,t){return we(e.getUTCHours(),t,2)}function dX(e,t){return we(e.getUTCHours()%12||12,t,2)}function hX(e,t){return we(1+mm.count(Ei(e),e),t,3)}function nM(e,t){return we(e.getUTCMilliseconds(),t,3)}function pX(e,t){return nM(e,t)+"000"}function mX(e,t){return we(e.getUTCMonth()+1,t,2)}function gX(e,t){return we(e.getUTCMinutes(),t,2)}function vX(e,t){return we(e.getUTCSeconds(),t,2)}function yX(e){var t=e.getUTCDay();return t===0?7:t}function _X(e,t){return we(vm.count(Ei(e)-1,e),t,2)}function rM(e){var t=e.getUTCDay();return t>=4||t===0?Us(e):Us.ceil(e)}function wX(e,t){return e=rM(e),we(Us.count(Ei(e),e)+(Ei(e).getUTCDay()===4),t,2)}function EX(e){return e.getUTCDay()}function bX(e,t){return we(Lh.count(Ei(e)-1,e),t,2)}function SX(e,t){return we(e.getUTCFullYear()%100,t,2)}function PX(e,t){return e=rM(e),we(e.getUTCFullYear()%100,t,2)}function TX(e,t){return we(e.getUTCFullYear()%1e4,t,4)}function AX(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Us(e):Us.ceil(e),we(e.getUTCFullYear()%1e4,t,4)}function xX(){return"+0000"}function GA(){return"%"}function QA(e){return+e}function YA(e){return Math.floor(+e/1e3)}var ja,iM,oM;IX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function IX(e){return ja=IY(e),iM=ja.format,ja.parse,oM=ja.utcFormat,ja.utcParse,ja}function kX(e){return new Date(e)}function CX(e){return e instanceof Date?+e:+new Date(+e)}function IE(e,t,n,r,i,o,a,s,l,u){var c=pE(),d=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),_=u("%I:%M"),y=u("%I %p"),w=u("%a %d"),b=u("%b %d"),S=u("%B"),I=u("%Y");function O(M){return(l(M)<M?p:s(M)<M?g:a(M)<M?_:o(M)<M?y:r(M)<M?i(M)<M?w:b:n(M)<M?S:I)(M)}return c.invert=function(M){return new Date(d(M))},c.domain=function(M){return arguments.length?h(Array.from(M,CX)):h().map(kX)},c.ticks=function(M){var T=h();return e(T[0],T[T.length-1],M??10)},c.tickFormat=function(M,T){return T==null?O:u(T)},c.nice=function(M){var T=h();return(!M||typeof M.range!="function")&&(M=t(T[0],T[T.length-1],M??10)),M?h(H2(T,M)):c},c.copy=function(){return Ic(c,IE(e,t,n,r,i,o,a,s,l,u))},c}function OX(){return tr.apply(IE(AY,xY,wi,AE,gm,kc,PE,bE,Go,iM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function RX(){return tr.apply(IE(PY,TY,Ei,xE,vm,mm,TE,SE,Go,oM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ym(){var e=0,t=1,n,r,i,o,a=sn,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var p,g;return arguments.length?([p,g]=h,a=d(p,g),u):[a(0),a(1)]}}return u.range=c(Xs),u.rangeRound=c(hE),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function Co(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function aM(){var e=ko(ym()(sn));return e.copy=function(){return Co(e,aM())},Ii.apply(e,arguments)}function sM(){var e=vE(ym()).domain([1,10]);return e.copy=function(){return Co(e,sM()).base(e.base())},Ii.apply(e,arguments)}function lM(){var e=yE(ym());return e.copy=function(){return Co(e,lM()).constant(e.constant())},Ii.apply(e,arguments)}function kE(){var e=_E(ym());return e.copy=function(){return Co(e,kE()).exponent(e.exponent())},Ii.apply(e,arguments)}function NX(){return kE.apply(null,arguments).exponent(.5)}function uM(){var e=[],t=sn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ac(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ho),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>yQ(e,o/r))},n.copy=function(){return uM(t).domain(e)},Ii.apply(n,arguments)}function _m(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,u=sn,c,d=!1,h;function p(_){return isNaN(_=+_)?h:(_=.5+((_=+c(_))-o)*(r*_<r*o?s:l),u(d?Math.max(0,Math.min(1,_)):_))}p.domain=function(_){return arguments.length?([e,t,n]=_,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[e,t,n]},p.clamp=function(_){return arguments.length?(d=!!_,p):d},p.interpolator=function(_){return arguments.length?(u=_,p):u};function g(_){return function(y){var w,b,S;return arguments.length?([w,b,S]=y,u=HQ(_,[w,b,S]),p):[u(0),u(.5),u(1)]}}return p.range=g(Xs),p.rangeRound=g(hE),p.unknown=function(_){return arguments.length?(h=_,p):h},function(_){return c=_,i=_(e),o=_(t),a=_(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function cM(){var e=ko(_m()(sn));return e.copy=function(){return Co(e,cM())},Ii.apply(e,arguments)}function fM(){var e=vE(_m()).domain([.1,1,10]);return e.copy=function(){return Co(e,fM()).base(e.base())},Ii.apply(e,arguments)}function dM(){var e=yE(_m());return e.copy=function(){return Co(e,dM()).constant(e.constant())},Ii.apply(e,arguments)}function CE(){var e=_E(_m());return e.copy=function(){return Co(e,CE()).exponent(e.exponent())},Ii.apply(e,arguments)}function DX(){return CE.apply(null,arguments).exponent(.5)}const Hl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:cE,scaleDiverging:cM,scaleDivergingLog:fM,scaleDivergingPow:CE,scaleDivergingSqrt:DX,scaleDivergingSymlog:dM,scaleIdentity:W2,scaleImplicit:l0,scaleLinear:B2,scaleLog:K2,scaleOrdinal:uE,scalePoint:EQ,scalePow:wE,scaleQuantile:Q2,scaleQuantize:Y2,scaleRadial:G2,scaleSequential:aM,scaleSequentialLog:sM,scaleSequentialPow:kE,scaleSequentialQuantile:uM,scaleSequentialSqrt:NX,scaleSequentialSymlog:lM,scaleSqrt:pY,scaleSymlog:q2,scaleThreshold:X2,scaleTime:OX,scaleUtc:RX,tickFormat:z2},Symbol.toStringTag,{value:"Module"}));var Oo=e=>e.chartData,MX=V([Oo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),OE=(e,t,n,r)=>r?MX(e):Oo(e);function So(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(St(t)&&St(n))return!0}return!1}function XA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function hM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(St(n))i=n;else if(typeof n=="function")return;if(St(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(So(a))return a}}function LX(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(So(r))return XA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,a,s;if(i==="auto")t!=null&&(a=Math.min(...t));else if(ee(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&NT.test(i)){var l=NT.exec(i);if(l==null||t==null)a=void 0;else{var u=+l[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(o==="auto")t!=null&&(s=Math.max(...t));else if(ee(o))s=o;else if(typeof o=="function")try{t!=null&&(s=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&DT.test(o)){var c=DT.exec(o);if(c==null||t==null)s=void 0;else{var d=+c[1];s=t[1]+d}}else s=t==null?void 0:t[1];var h=[a,s];if(So(h))return t==null?h:XA(h,t,n)}}}var Js=1e9,jX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},NE,Ue=!0,er="[DecimalError] ",na=er+"Invalid argument: ",RE=er+"Exponent out of range: ",Zs=Math.floor,Fo=Math.pow,VX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kn,_t=1e7,De=7,pM=9007199254740991,jh=Zs(pM/De),Q={};Q.absoluteValue=Q.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Q.comparedTo=Q.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Q.decimalPlaces=Q.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*De;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Q.dividedBy=Q.div=function(e){return si(this,new this.constructor(e))};Q.dividedToIntegerBy=Q.idiv=function(e){var t=this,n=t.constructor;return Ie(si(t,new n(e),0,1),n.precision)};Q.equals=Q.eq=function(e){return!this.cmp(e)};Q.exponent=function(){return ot(this)};Q.greaterThan=Q.gt=function(e){return this.cmp(e)>0};Q.greaterThanOrEqualTo=Q.gte=function(e){return this.cmp(e)>=0};Q.isInteger=Q.isint=function(){return this.e>this.d.length-2};Q.isNegative=Q.isneg=function(){return this.s<0};Q.isPositive=Q.ispos=function(){return this.s>0};Q.isZero=function(){return this.s===0};Q.lessThan=Q.lt=function(e){return this.cmp(e)<0};Q.lessThanOrEqualTo=Q.lte=function(e){return this.cmp(e)<1};Q.logarithm=Q.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(kn))throw Error(er+"NaN");if(n.s<1)throw Error(er+(n.s?"NaN":"-Infinity"));return n.eq(kn)?new r(0):(Ue=!1,t=si(Yu(n,o),Yu(e,o),o),Ue=!0,Ie(t,i))};Q.minus=Q.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vM(t,e):mM(t,(e.s=-e.s,e))};Q.modulo=Q.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(er+"NaN");return n.s?(Ue=!1,t=si(n,e,0,1).times(e),Ue=!0,n.minus(t)):Ie(new r(n),i)};Q.naturalExponential=Q.exp=function(){return gM(this)};Q.naturalLogarithm=Q.ln=function(){return Yu(this)};Q.negated=Q.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Q.plus=Q.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mM(t,e):vM(t,(e.s=-e.s,e))};Q.precision=Q.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(na+e);if(t=ot(i)+1,r=i.d.length-1,n=r*De+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Q.squareRoot=Q.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(er+"NaN")}for(e=ot(s),Ue=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Ir(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Zs((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(si(s,o,a+2)).times(.5),Ir(o.d).slice(0,a)===(t=Ir(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Ie(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return Ue=!0,Ie(r,n)};Q.times=Q.mul=function(e){var t,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,p=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,n=c.e+e.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+p[r]*h[i-r-1]+t,o[i--]=s%_t|0,t=s/_t|0;o[i]=(o[i]+t)%_t|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Ue?Ie(e,d.precision):e};Q.toDecimalPlaces=Q.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(zr(e,0,Js),t===void 0?t=r.rounding:zr(t,0,8),Ie(n,e+ot(n)+1,t))};Q.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=va(r,!0):(zr(e,0,Js),t===void 0?t=i.rounding:zr(t,0,8),r=Ie(new i(r),e+1,t),n=va(r,!0,e+1)),n};Q.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?va(i):(zr(e,0,Js),t===void 0?t=o.rounding:zr(t,0,8),r=Ie(new o(i),e+ot(i)+1,t),n=va(r.abs(),!1,e+ot(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Q.toInteger=Q.toint=function(){var e=this,t=e.constructor;return Ie(new t(e),ot(e)+1,t.rounding)};Q.toNumber=function(){return+this};Q.toPower=Q.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(kn);if(s=new l(s),!s.s){if(e.s<1)throw Error(er+"Infinity");return s}if(s.eq(kn))return s;if(r=l.precision,e.eq(kn))return Ie(s,r);if(t=e.e,n=e.d.length-1,a=t>=n,o=s.s,a){if((n=c<0?-c:c)<=pM){for(i=new l(kn),t=Math.ceil(r/De+4),Ue=!1;n%2&&(i=i.times(s),ZA(i.d,t)),n=Zs(n/2),n!==0;)s=s.times(s),ZA(s.d,t);return Ue=!0,e.s<0?new l(kn).div(i):Ie(i,r)}}else if(o<0)throw Error(er+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,Ue=!1,i=e.times(Yu(s,r+u)),Ue=!0,i=gM(i),i.s=o,i};Q.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=ot(i),r=va(i,n<=o.toExpNeg||n>=o.toExpPos)):(zr(e,1,Js),t===void 0?t=o.rounding:zr(t,0,8),i=Ie(new o(i),e,t),n=ot(i),r=va(i,e<=n||n<=o.toExpNeg,e)),r};Q.toSignificantDigits=Q.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(zr(e,1,Js),t===void 0?t=r.rounding:zr(t,0,8)),Ie(new r(n),e,t)};Q.toString=Q.valueOf=Q.val=Q.toJSON=Q[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ot(e),n=e.constructor;return va(e,t<=n.toExpNeg||t>=n.toExpPos)};function mM(e,t){var n,r,i,o,a,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),Ue?Ie(t,d):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/De),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/_t|0,l[o]%=_t;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Ue?Ie(t,d):t}function zr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(na+e)}function Ir(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",n=De-r.length,n&&(o+=Ui(n)),o+=r;a=e[t],r=a+"",n=De-r.length,n&&(o+=Ui(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var si=function(){function e(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%_t|0,a=o/_t|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*_t+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,p,g,_,y,w,b,S,I,O,M,T,P,x=r.constructor,R=r.s==i.s?1:-1,C=r.d,D=i.d;if(!r.s)return new x(r);if(!i.s)throw Error(er+"Division by zero");for(l=r.e-i.e,T=D.length,O=C.length,p=new x(R),g=p.d=[],u=0;D[u]==(C[u]||0);)++u;if(D[u]>(C[u]||0)&&--l,o==null?b=o=x.precision:a?b=o+(ot(r)-ot(i))+1:b=o,b<0)return new x(0);if(b=b/De+2|0,u=0,T==1)for(c=0,D=D[0],b++;(u<O||c)&&b--;u++)S=c*_t+(C[u]||0),g[u]=S/D|0,c=S%D|0;else{for(c=_t/(D[0]+1)|0,c>1&&(D=e(D,c),C=e(C,c),T=D.length,O=C.length),I=T,_=C.slice(0,T),y=_.length;y<T;)_[y++]=0;P=D.slice(),P.unshift(0),M=D[0],D[1]>=_t/2&&++M;do c=0,s=t(D,_,T,y),s<0?(w=_[0],T!=y&&(w=w*_t+(_[1]||0)),c=w/M|0,c>1?(c>=_t&&(c=_t-1),d=e(D,c),h=d.length,y=_.length,s=t(d,_,h,y),s==1&&(c--,n(d,T<h?P:D,h))):(c==0&&(s=c=1),d=D.slice()),h=d.length,h<y&&d.unshift(0),n(_,d,y),s==-1&&(y=_.length,s=t(D,_,T,y),s<1&&(c++,n(_,T<y?P:D,y))),y=_.length):s===0&&(c++,_=[0]),g[u++]=c,s&&_[0]?_[y++]=C[I]||0:(_=[C[I]],y=1);while((I++<O||_[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=l,Ie(p,a?o+ot(p)+1:o)}}();function gM(e,t){var n,r,i,o,a,s,l=0,u=0,c=e.constructor,d=c.precision;if(ot(e)>16)throw Error(RE+ot(e));if(!e.s)return new c(kn);for(t==null?(Ue=!1,s=d):s=t,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(r=Math.log(Fo(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(kn),c.precision=s;;){if(i=Ie(i.times(e),s),n=n.times(++l),a=o.plus(si(i,n,s)),Ir(a.d).slice(0,s)===Ir(o.d).slice(0,s)){for(;u--;)o=Ie(o.times(o),s);return c.precision=d,t==null?(Ue=!0,Ie(o,d)):o}o=a}}function ot(e){for(var t=e.e*De,n=e.d[0];n>=10;n/=10)t++;return t}function Zg(e,t,n){if(t>e.LN10.sd())throw Ue=!0,n&&(e.precision=n),Error(er+"LN10 precision limit exceeded");return Ie(new e(e.LN10),t)}function Ui(e){for(var t="";e--;)t+="0";return t}function Yu(e,t){var n,r,i,o,a,s,l,u,c,d=1,h=10,p=e,g=p.d,_=p.constructor,y=_.precision;if(p.s<1)throw Error(er+(p.s?"NaN":"-Infinity"));if(p.eq(kn))return new _(0);if(t==null?(Ue=!1,u=y):u=t,p.eq(10))return t==null&&(Ue=!0),Zg(_,u);if(u+=h,_.precision=u,n=Ir(g),r=n.charAt(0),o=ot(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Ir(p.d),r=n.charAt(0),d++;o=ot(p),r>1?(p=new _("0."+n),o++):p=new _(r+"."+n.slice(1))}else return l=Zg(_,u+2,y).times(o+""),p=Yu(new _(r+"."+n.slice(1)),u-h).plus(l),_.precision=y,t==null?(Ue=!0,Ie(p,y)):p;for(s=a=p=si(p.minus(kn),p.plus(kn),u),c=Ie(p.times(p),u),i=3;;){if(a=Ie(a.times(c),u),l=s.plus(si(a,new _(i),u)),Ir(l.d).slice(0,u)===Ir(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Zg(_,u+2,y).times(o+""))),s=si(s,new _(d),u),_.precision=y,t==null?(Ue=!0,Ie(s,y)):s;s=l,i+=2}}function JA(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Zs(n/De),e.d=[],r=(n+1)%De,n<0&&(r+=De),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=De;r<i;)e.d.push(+t.slice(r,r+=De));t=t.slice(r),r=De-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Ue&&(e.e>jh||e.e<-jh))throw Error(RE+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ie(e,t,n){var r,i,o,a,s,l,u,c,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=De,i=t,u=d[c=0];else{if(c=Math.ceil((r+1)/De),o=d.length,c>=o)return e;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=De,i=r-De+a}if(n!==void 0&&(o=Fo(10,a-i-1),s=u/o%10|0,l=t<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Fo(10,a-i):0:d[c-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=ot(e),d.length=1,t=t-o-1,d[0]=Fo(10,(De-t%De)%De),e.e=Zs(-t/De)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=Fo(10,De-r),d[c]=i>0?(u/Fo(10,a-i)%Fo(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==_t&&(d[0]=1,++e.e);break}else{if(d[c]+=o,d[c]!=_t)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Ue&&(e.e>jh||e.e<-jh))throw Error(RE+ot(e));return e}function vM(e,t){var n,r,i,o,a,s,l,u,c,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ue?Ie(t,p):t;if(l=e.d,d=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(p/De),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=_t-1;--l[o],l[i]+=_t}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Ue?Ie(t,p):t):new h(0)}function va(e,t,n){var r,i=ot(e),o=Ir(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ui(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ui(-i-1)+o,n&&(r=n-a)>0&&(o+=Ui(r))):i>=a?(o+=Ui(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ui(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ui(r))),e.s<0?"-"+o:o}function ZA(e,t){if(e.length>t)return e.length=t,!0}function yM(e){var t,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(na+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return JA(a,o.toString())}else if(typeof o!="string")throw Error(na+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,VX.test(o))JA(a,o);else throw Error(na+o)}if(i.prototype=Q,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=yM,i.config=i.set=$X,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function $X(e){if(!e||typeof e!="object")throw Error(er+"Object expected");var t,n,r,i=["precision",1,Js,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Zs(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(na+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(na+n+": "+r);return this}var NE=yM(jX);kn=new NE(1);const Se=NE;var UX=e=>e,_M={"@@functional/placeholder":!0},wM=e=>e===_M,ex=e=>function t(){return arguments.length===0||arguments.length===1&&wM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},EM=(e,t)=>e===1?t:ex(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(a=>a!==_M).length;return o>=e?t(...r):EM(e-o,ex(function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var u=r.map(c=>wM(c)?s.shift():c);return t(...u,...s)}))}),FX=e=>EM(e.length,e),d0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},zX=FX((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),BX=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return UX;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce((s,l)=>l(s),o(...arguments))}},h0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function bM(e){var t;return e===0?t=1:t=Math.floor(new Se(e).abs().log(10).toNumber())+1,t}function SM(e,t,n){for(var r=new Se(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var PM=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},TM=(e,t,n)=>{if(e.lte(0))return new Se(0);var r=bM(e.toNumber()),i=new Se(10).pow(r),o=e.div(i),a=r!==1?.05:.1,s=new Se(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return t?new Se(l.toNumber()):new Se(Math.ceil(l.toNumber()))},WX=(e,t,n)=>{var r=new Se(1),i=new Se(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Se(10).pow(bM(e)-1),i=new Se(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Se(Math.floor(e)))}else e===0?i=new Se(Math.floor((t-1)/2)):n||(i=new Se(Math.floor(e)));var a=Math.floor((t-1)/2),s=BX(zX(l=>i.add(new Se(l-a).mul(r)).toNumber()),d0);return s(0,t)},AM=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Se(0),tickMin:new Se(0),tickMax:new Se(0)};var a=TM(new Se(n).sub(t).div(r-1),i,o),s;t<=0&&n>=0?s=new Se(0):(s=new Se(t).add(n).div(2),s=s.sub(new Se(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),u=Math.ceil(new Se(n).sub(s).div(a).toNumber()),c=l+u+1;return c>r?AM(t,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:a,tickMin:s.sub(new Se(l).mul(a)),tickMax:s.add(new Se(u).mul(a))})},HX=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[s,l]=PM([n,r]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...d0(0,i-1).map(()=>1/0)]:[...d0(0,i-1).map(()=>-1/0),l];return n>r?h0(u):u}if(s===l)return WX(s,i,o);var{step:c,tickMin:d,tickMax:h}=AM(s,l,a,o,0),p=SM(d,h.add(new Se(.1).mul(c)),c);return n>r?h0(p):p},KX=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=PM([r,i]);if(a===-1/0||s===1/0)return[r,i];if(a===s)return[a];var l=Math.max(n,2),u=TM(new Se(s).sub(a).div(l-1),o,0),c=[...SM(new Se(a),new Se(s),u),s];return o===!1&&(c=c.map(d=>Math.round(d))),r>i?h0(c):c},qX=e=>e.rootProps.barCategoryGap,wm=e=>e.rootProps.stackOffset,xM=e=>e.rootProps.reverseStackOrder,DE=e=>e.options.chartName,ME=e=>e.rootProps.syncId,IM=e=>e.rootProps.syncMethod,LE=e=>e.options.eventEmitter,Rt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Yr={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:Rt.axis},In={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:Rt.axis},Em=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},GX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Yr.angleAxisId,includeHidden:!1,name:void 0,reversed:Yr.reversed,scale:Yr.scale,tick:Yr.tick,tickCount:void 0,ticks:void 0,type:Yr.type,unit:void 0},QX={allowDataOverflow:In.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:In.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:In.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:In.scale,tick:In.tick,tickCount:In.tickCount,ticks:void 0,type:In.type,unit:void 0},YX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Yr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yr.scale,tick:Yr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},XX={allowDataOverflow:In.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:In.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:In.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:In.scale,tick:In.tick,tickCount:In.tickCount,ticks:void 0,type:"category",unit:void 0},jE=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?YX:GX,VE=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?XX:QX,bm=e=>e.polarOptions,$E=V([Ai,xi,jt],QG),kM=V([bm,$E],(e,t)=>{if(e!=null)return bo(e.innerRadius,t,0)}),CM=V([bm,$E],(e,t)=>{if(e!=null)return bo(e.outerRadius,t,t*.8)}),JX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},OM=V([bm],JX);V([jE,OM],Em);var RM=V([$E,kM,CM],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});V([VE,RM],Em);var NM=V([je,bm,kM,CM,Ai,xi],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:a,cy:s,startAngle:l,endAngle:u}=t;return{cx:bo(a,i,i/2),cy:bo(s,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),dt=(e,t)=>t,Sm=(e,t,n)=>n;function DM(e){return e==null?void 0:e.id}function MM(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=DM(s);u.forEach((d,h)=>{var p=o==null||i?h:String(Yt(d,o,null)),g=Yt(d,s.dataKey,0),_;a.has(p)?_=a.get(p):_={},Object.assign(_,{[c]:g}),a.set(p,_)})}}),Array.from(a.values())}function UE(e){return e.stackId!=null&&e.dataKey!=null}var Pm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Tm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function ZX(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var ht=e=>{var t=je(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},el=e=>e.tooltip.settings.axisId;function tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tx(Object(n),!0).forEach(function(r){eJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eJ(e,t,n){return(t=tJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tJ(e){var t=nJ(e,"string");return typeof t=="symbol"?t:t+""}function nJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p0=[0,"auto"],gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},LM=(e,t)=>e.cartesianAxis.xAxis[t],ki=(e,t)=>{var n=LM(e,t);return n??gt},vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:p0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Sc},jM=(e,t)=>e.cartesianAxis.yAxis[t],Ci=(e,t)=>{var n=jM(e,t);return n??vt},rJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},FE=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??rJ},pn=(e,t,n)=>{switch(t){case"xAxis":return ki(e,n);case"yAxis":return Ci(e,n);case"zAxis":return FE(e,n);case"angleAxis":return jE(e,n);case"radiusAxis":return VE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},iJ=(e,t,n)=>{switch(t){case"xAxis":return ki(e,n);case"yAxis":return Ci(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Cc=(e,t,n)=>{switch(t){case"xAxis":return ki(e,n);case"yAxis":return Ci(e,n);case"angleAxis":return jE(e,n);case"radiusAxis":return VE(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},VM=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function $M(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var UM=e=>e.graphicalItems.cartesianItems,oJ=V([dt,Sm],$M),FM=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Oc=V([UM,pn,oJ],FM,{memoizeOptions:{resultEqualityCheck:Tm}}),zM=V([Oc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(UE)),BM=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),aJ=V([Oc],BM),WM=e=>e.map(t=>t.data).filter(Boolean).flat(1),sJ=V([Oc],WM,{memoizeOptions:{resultEqualityCheck:Tm}}),HM=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},zE=V([sJ,OE],HM),KM=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Yt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Yt(i,r)}))):e.map(r=>({value:r})),Am=V([zE,pn,Oc],KM);function qM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function pd(e){if(Ur(e)||e instanceof Date){var t=Number(e);if(St(t))return t}}function nx(e){if(Array.isArray(e)){var t=[pd(e[0]),pd(e[1])];return So(t)?t:void 0}var n=pd(e);if(n!=null)return[n,n]}function bi(e){return e.map(pd).filter(gH)}function lJ(e,t,n){return!n||typeof t!="number"||$r(t)?[]:n.length?bi(n.flatMap(r=>{var i=Yt(e,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!St(o)||!St(a)))return[t-o,t+a]})):[]}var pt=e=>{var t=ht(e),n=el(e);return Cc(e,t,n)},Rc=V([pt],e=>e==null?void 0:e.dataKey),uJ=V([zM,OE,pt],MM),GM=(e,t,n,r)=>{var i={},o=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),i);return Object.fromEntries(Object.entries(o).map(a=>{var[s,l]=a,u=r?[...l].reverse():l,c=u.map(DM);return[s,{stackedData:Rq(e,c,n),graphicalItems:u}]}))},cJ=V([uJ,zM,wm,xM],GM),QM=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var a=Mq(e,i,o);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},fJ=V([pn],e=>e.allowDataOverflow),BE=e=>{var t;if(e==null||!("domain"in e))return p0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=bi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:p0},YM=V([pn],BE),XM=V([YM,fJ],hM),dJ=V([cJ,Oo,dt,XM],QM,{memoizeOptions:{resultEqualityCheck:Pm}}),WE=e=>e.errorBars,hJ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>qM(n,r)),$h=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),s=Math.max(...o);return[a,s]}},JM=(e,t,n,r,i)=>{var o,a;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var u,c,d=(u=r[l.id])===null||u===void 0?void 0:u.filter(w=>qM(i,w)),h=Yt(s,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),p=lJ(s,h,d);if(p.length>=2){var g=Math.min(...p),_=Math.max(...p);(o==null||g<o)&&(o=g),(a==null||_>a)&&(a=_)}var y=nx(h);y!=null&&(o=o==null?y[0]:Math.min(o,y[0]),a=a==null?y[1]:Math.max(a,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=nx(Yt(s,t.dataKey));l!=null&&(o=o==null?l[0]:Math.min(o,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),St(o)&&St(a))return[o,a]},pJ=V([zE,pn,aJ,WE,dt],JM,{memoizeOptions:{resultEqualityCheck:Pm}});function mJ(e){var{value:t}=e;if(Ur(t)||t instanceof Date)return t}var gJ=(e,t,n)=>{var r=e.map(mJ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&FN(r))?R2(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},ZM=e=>e.referenceElements.dots,tl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),vJ=V([ZM,dt,Sm],tl),eL=e=>e.referenceElements.areas,yJ=V([eL,dt,Sm],tl),tL=e=>e.referenceElements.lines,_J=V([tL,dt,Sm],tl),nL=(e,t)=>{var n=bi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wJ=V(vJ,dt,nL),rL=(e,t)=>{var n=bi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},EJ=V([yJ,dt],rL);function bJ(e){var t;if(e.x!=null)return bi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:bi(n)}function SJ(e){var t;if(e.y!=null)return bi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:bi(n)}var iL=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?bJ(r):SJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},PJ=V([_J,dt],iL),TJ=V(wJ,PJ,EJ,(e,t,n)=>$h(e,n,t)),oL=(e,t,n,r,i,o,a,s)=>{if(n!=null)return n;var l=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",u=l?$h(r,o,i):$h(o,i);return LX(t,u,e.allowDataOverflow)},AJ=V([pn,YM,XM,dJ,pJ,TJ,je,dt],oL,{memoizeOptions:{resultEqualityCheck:Pm}}),xJ=[0,1],aL=(e,t,n,r,i,o,a)=>{if(!((e==null||n==null||n.length===0)&&a===void 0)){var{dataKey:s,type:l}=e,u=Io(t,o);if(u&&s==null){var c;return R2(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?gJ(r,e,u):i==="expand"?xJ:a}},HE=V([pn,je,zE,Am,wm,dt,AJ],aL),sL=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:a}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof o=="string"){var s="scale".concat(yc(o));return s in Hl?s:"point"}}},Nc=V([pn,je,VM,DE,dt],sL);function IJ(e){if(e!=null){if(e in Hl)return Hl[e]();var t="scale".concat(yc(e));if(t in Hl)return Hl[t]()}}function KE(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=IJ(t);if(i!=null){var o=i.domain(n).range(r);return Iq(o),o}}}var lL=(e,t,n)=>{var r=BE(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&So(e))return HX(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&So(e))return KX(e,t.tickCount,t.allowDecimals)}},qE=V([HE,Cc,Nc],lL),uL=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&So(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],a=t[1],s=n[n.length-1];return[Math.min(i,o),Math.max(a,s)]}return t},kJ=V([pn,HE,qE,dt],uL),CJ=V(Am,pn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(bi(e.map(s=>s.value))).sort((s,l)=>s-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var a=r[o+1]-r[o];n=Math.min(n,a)}return n/i}}),cL=V(CJ,je,qX,jt,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!St(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var a=bo(n,e*o),s=e*o/2;return s-a-(s-a)/o*a}return 0}),OJ=(e,t)=>{var n=ki(e,t);return n==null||typeof n.padding!="string"?0:cL(e,"xAxis",t,n.padding)},RJ=(e,t)=>{var n=Ci(e,t);return n==null||typeof n.padding!="string"?0:cL(e,"yAxis",t,n.padding)},NJ=V(ki,OJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),DJ=V(Ci,RJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),MJ=V([jt,NJ,sm,am,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),LJ=V([jt,je,DJ,sm,am,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Dc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return MJ(e,n,r);case"yAxis":return LJ(e,n,r);case"zAxis":return(i=FE(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return OM(e);case"radiusAxis":return RM(e,n);default:return}},fL=V([pn,Dc],Em),nl=V([pn,Nc,kJ,fL],KE);V([Oc,WE,dt],hJ);function dL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var xm=(e,t)=>t,Im=(e,t,n)=>n,jJ=V(im,xm,Im,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(dL)),VJ=V(om,xm,Im,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(dL)),hL=(e,t)=>({width:e.width,height:t.height}),$J=(e,t)=>{var n=typeof t.width=="number"?t.width:Sc;return{width:n,height:e.height}},UJ=V(jt,ki,hL),FJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},zJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},BJ=V(xi,jt,jJ,xm,Im,(e,t,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=hL(t,s);a==null&&(a=FJ(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;o[s.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),o}),WJ=V(Ai,jt,VJ,xm,Im,(e,t,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=$J(t,s);a==null&&(a=zJ(t,r,e));var u=r==="left"&&!i||r==="right"&&i;o[s.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),o}),HJ=(e,t)=>{var n=ki(e,t);if(n!=null)return BJ(e,n.orientation,n.mirror)},KJ=V([jt,ki,HJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),qJ=(e,t)=>{var n=Ci(e,t);if(n!=null)return WJ(e,n.orientation,n.mirror)},GJ=V([jt,Ci,qJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),QJ=V(jt,Ci,(e,t)=>{var n=typeof t.width=="number"?t.width:Sc;return{width:n,height:e.height}}),pL=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,s=Io(e,r),l=t.map(u=>u.value);if(a&&s&&o==="category"&&i&&FN(l))return l}},GE=V([je,Am,pn,dt],pL),mL=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=Io(e,r);if(a&&(i==="number"||o!=="auto"))return t.map(s=>s.value)}},QE=V([je,Am,Cc,dt],mL),rx=V([je,iJ,Nc,nl,GE,QE,Dc,qE,dt],(e,t,n,r,i,o,a,s,l)=>{if(t!=null){var u=Io(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:s,range:a,realScaleType:n,scale:r}}}),YJ=(e,t,n,r,i,o,a,s,l)=>{if(!(t==null||r==null)){var u=Io(e,l),{type:c,ticks:d,tickCount:h}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/p:0;g=l==="angleAxis"&&o!=null&&o.length>=2?qn(o[0]-o[1])*2*g:g;var _=d||i;if(_){var y=_.map((w,b)=>{var S=a?a.indexOf(w):w;return{index:b,coordinate:r(S)+g,value:w,offset:g}});return y.filter(w=>St(w.coordinate))}return u&&s?s.map((w,b)=>({coordinate:r(w)+g,value:w,index:b,offset:g})).filter(w=>St(w.coordinate)):r.ticks?r.ticks(h).map(w=>({coordinate:r(w)+g,value:w,offset:g})):r.domain().map((w,b)=>({coordinate:r(w)+g,value:a?a[w]:w,index:b,offset:g}))}},gL=V([je,Cc,Nc,nl,qE,Dc,GE,QE,dt],YJ),XJ=(e,t,n,r,i,o,a)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=Io(e,a),{tickCount:l}=t,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?qn(r[0]-r[1])*2*u:u,s&&o?o.map((c,d)=>({coordinate:n(c)+u,value:c,index:d,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,d)=>({coordinate:n(c)+u,value:i?i[c]:c,index:d,offset:u}))}},vL=V([je,Cc,nl,Dc,GE,QE,dt],XJ),yL=V(pn,nl,(e,t)=>{if(!(e==null||t==null))return Vh(Vh({},e),{},{scale:t})}),JJ=V([pn,Nc,HE,fL],KE);V((e,t,n)=>FE(e,n),JJ,(e,t)=>{if(!(e==null||t==null))return Vh(Vh({},e),{},{scale:t})});var ZJ=V([je,im,om],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_L=e=>e.options.defaultTooltipEventType,wL=e=>e.options.validateTooltipEventTypes;function EL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function YE(e,t){var n=_L(e),r=wL(e);return EL(t,n,r)}function eZ(e){return J(t=>YE(t,e))}var bL=(e,t)=>{var n,r=Number(t);if(!($r(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},tZ=e=>e.tooltip.settings,Gi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},nZ={itemInteraction:{click:Gi,hover:Gi},axisInteraction:{click:Gi,hover:Gi},keyboardInteraction:Gi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},SL=Pn({name:"tooltip",initialState:nZ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ve()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=pr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Ve()},removeTooltipEntrySettings:{reducer(e,t){var n=pr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Ve()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:rZ,replaceTooltipEntrySettings:iZ,removeTooltipEntrySettings:oZ,setTooltipSettingsState:aZ,setActiveMouseOverItemIndex:sZ,mouseLeaveItem:zae,mouseLeaveChart:PL,setActiveClickItemIndex:Bae,setMouseOverAxisIndex:TL,setMouseClickAxisIndex:lZ,setSyncInteraction:m0,setKeyboardInteraction:g0}=SL.actions,uZ=SL.reducer;function ix(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ff(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ix(Object(n),!0).forEach(function(r){cZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ix(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cZ(e,t,n){return(t=fZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fZ(e){var t=dZ(e,"string");return typeof t=="symbol"?t:t+""}function dZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hZ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function pZ(e){return e.index!=null}var AL=(e,t,n,r)=>{if(t==null)return Gi;var i=hZ(e,t,n);if(i==null)return Gi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(pZ(i)){if(o)return Ff(Ff({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ff(Ff({},Gi),{},{coordinate:i.coordinate})};function mZ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function gZ(e,t){var n=mZ(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),a=Math.max(r,i);return n>=o&&n<=a}function vZ(e,t,n){if(n==null||t==null)return!0;var r=Yt(e,t);return r==null||!So(n)?!0:gZ(r,n)}var XE=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!St(o))return i;var a=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(a,Math.min(o,s)),u=t[l];return u==null||vZ(u,n,r)?String(l):null},xL=(e,t,n,r,i,o,a,s)=>{if(!(o==null||s==null)){var l=a[0],u=l==null?void 0:s(l.positions,o);if(u!=null)return u;var c=i==null?void 0:i[Number(o)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:c.coordinate}}}},IL=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var a;return((a=o.settings)===null||a===void 0?void 0:a.dataKey)===i})},Mc=e=>e.options.tooltipPayloadSearcher,rl=e=>e.tooltip;function ox(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ax(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ox(Object(n),!0).forEach(function(r){yZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ox(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yZ(e,t,n){return(t=_Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Z(e){var t=wZ(e,"string");return typeof t=="symbol"?t:t+""}function wZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EZ(e,t){return e??t}var kL=(e,t,n,r,i,o,a)=>{if(!(t==null||o==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,d=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:_,settings:y}=p,w=EZ(_,s),b=Array.isArray(w)?XD(w,u,c):w,S=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:r,I=y==null?void 0:y.nameKey,O;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&a==="axis"?O=zN(b,r,i):O=o(b,t,l,I),Array.isArray(O))O.forEach(T=>{var P=ax(ax({},y),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});h.push(MT({tooltipEntrySettings:P,dataKey:T.dataKey,payload:T.payload,value:Yt(T.payload,T.dataKey),name:T.name}))});else{var M;h.push(MT({tooltipEntrySettings:y,dataKey:S,payload:O,value:Yt(O,S),name:(M=Yt(O,I))!==null&&M!==void 0?M:y==null?void 0:y.name}))}return h},d)}},JE=V([pt,je,VM,DE,ht],sL),bZ=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),SZ=V([ht,el],$M),Lc=V([bZ,pt,SZ],FM,{memoizeOptions:{resultEqualityCheck:Tm}}),PZ=V([Lc],e=>e.filter(UE)),TZ=V([Lc],WM,{memoizeOptions:{resultEqualityCheck:Tm}}),il=V([TZ,Oo],HM),AZ=V([PZ,Oo,pt],MM),ZE=V([il,pt,Lc],KM),CL=V([pt],BE),xZ=V([pt],e=>e.allowDataOverflow),OL=V([CL,xZ],hM),IZ=V([Lc],e=>e.filter(UE)),kZ=V([AZ,IZ,wm,xM],GM),CZ=V([kZ,Oo,ht,OL],QM),OZ=V([Lc],BM),RZ=V([il,pt,OZ,WE,ht],JM,{memoizeOptions:{resultEqualityCheck:Pm}}),NZ=V([ZM,ht,el],tl),DZ=V([NZ,ht],nL),MZ=V([eL,ht,el],tl),LZ=V([MZ,ht],rL),jZ=V([tL,ht,el],tl),VZ=V([jZ,ht],iL),$Z=V([DZ,VZ,LZ],$h),UZ=V([pt,CL,OL,CZ,RZ,$Z,je,ht],oL),jc=V([pt,je,il,ZE,wm,ht,UZ],aL),FZ=V([jc,pt,JE],lL),zZ=V([pt,jc,FZ,ht],uL),RL=e=>{var t=ht(e),n=el(e),r=!1;return Dc(e,t,n,r)},NL=V([pt,RL],Em),DL=V([pt,JE,zZ,NL],KE),BZ=V([je,ZE,pt,ht],pL),WZ=V([je,ZE,pt,ht],mL),HZ=(e,t,n,r,i,o,a,s)=>{if(t){var{type:l}=t,u=Io(e,s);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?qn(i[0]-i[1])*2*d:d,u&&a?a.map((h,p)=>({coordinate:r(h)+d,value:h,index:p,offset:d})):r.domain().map((h,p)=>({coordinate:r(h)+d,value:o?o[h]:h,index:p,offset:d}))}}},Oi=V([je,pt,JE,DL,RL,BZ,WZ,ht],HZ),e1=V([_L,wL,tZ],(e,t,n)=>EL(n.shared,e,t)),ML=e=>e.tooltip.settings.trigger,t1=e=>e.tooltip.settings.defaultIndex,Vc=V([rl,e1,ML,t1],AL),Xu=V([Vc,il,Rc,jc],XE),LL=V([Oi,Xu],bL),KZ=V([Vc],e=>{if(e)return e.dataKey});V([Vc],e=>{if(e)return e.graphicalItemId});var jL=V([rl,e1,ML,t1],IL),qZ=V([Ai,xi,je,jt,Oi,t1,jL,Mc],xL),GZ=V([Vc,qZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),QZ=V([Vc],e=>e.active),YZ=V([jL,Xu,Oo,Rc,LL,Mc,e1],kL),XZ=V([YZ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function sx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sx(Object(n),!0).forEach(function(r){JZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JZ(e,t,n){return(t=ZZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZZ(e){var t=eee(e,"string");return typeof t=="symbol"?t:t+""}function eee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tee=()=>J(pt),nee=()=>{var e=tee(),t=J(Oi),n=J(DL);return yh(!e||!n?void 0:lx(lx({},e),{},{scale:n}),t)};function ux(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ux(Object(n),!0).forEach(function(r){ree(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ux(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ree(e,t,n){return(t=iee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iee(e){var t=oee(e,"string");return typeof t=="symbol"?t:t+""}function oee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aee=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},see=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:a}=r;return Va(Va(Va({},r),Ot(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,{angle:l}=r;return Va(Va(Va({},r),Ot(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function lee(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var VL=(e,t,n,r,i)=>{var o,a=-1,s=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var u=l>0?n[l-1].coordinate:n[s-1].coordinate,c=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(qn(c-u)!==qn(d-c)){var p=[];if(qn(d-c)===qn(i[1]-i[0])){h=d;var g=c+i[1]-i[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{h=u;var _=d+i[1]-i[0];p[0]=Math.min(c,(_+c)/2),p[1]=Math.max(c,(_+c)/2)}var y=[Math.min(c,(h+c)/2),Math.max(c,(h+c)/2)];if(e>y[0]&&e<=y[1]||e>=p[0]&&e<=p[1]){({index:a}=n[l]);break}}else{var w=Math.min(u,d),b=Math.max(u,d);if(e>(w+c)/2&&e<=(b+c)/2){({index:a}=n[l]);break}}}else if(t){for(var S=0;S<s;S++)if(S===0&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S>0&&S<s-1&&e>(t[S].coordinate+t[S-1].coordinate)/2&&e<=(t[S].coordinate+t[S+1].coordinate)/2||S===s-1&&e>(t[S].coordinate+t[S-1].coordinate)/2){({index:a}=t[S]);break}}return a},uee=()=>J(DE),n1=(e,t)=>t,$L=(e,t,n)=>n,r1=(e,t,n,r)=>r,cee=V(Oi,e=>Qp(e,t=>t.coordinate)),i1=V([rl,n1,$L,r1],AL),o1=V([i1,il,Rc,jc],XE),fee=(e,t,n)=>{if(t!=null){var r=rl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},UL=V([rl,n1,$L,r1],IL),Uh=V([Ai,xi,je,jt,Oi,r1,UL,Mc],xL),dee=V([i1,Uh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),FL=V([Oi,o1],bL),hee=V([UL,o1,Oo,Rc,FL,Mc,n1],kL),pee=V([i1,o1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),mee=(e,t,n,r,i,o,a)=>{if(!(!e||!n||!r||!i)&&lee(e,a)){var s=Lq(e,t),l=VL(s,o,i,n,r),u=aee(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},gee=(e,t,n,r,i,o,a)=>{if(!(!e||!r||!i||!o||!n)){var s=eQ(e,n);if(s){var l=jq(s,t),u=VL(l,a,o,r,i),c=see(t,o,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},vee=(e,t,n,r,i,o,a,s)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?mee(e,t,r,i,o,a,s):gee(e,t,n,r,i,o,a)},yee=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),_ee=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Rt)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:ZX}});function cx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cx(Object(n),!0).forEach(function(r){wee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wee(e,t,n){return(t=Eee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eee(e){var t=bee(e,"string");return typeof t=="symbol"?t:t+""}function bee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var See={},Pee={zIndexMap:Object.values(Rt).reduce((e,t)=>fx(fx({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),See)},Tee=new Set(Object.values(Rt));function Aee(e){return Tee.has(e)}var zL=Pn({name:"zIndex",initialState:Pee,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ve()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Aee(n)&&delete e.zIndexMap[n])},prepare:Ve()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Ve()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:Ve()}}}),{registerZIndexPortal:xee,unregisterZIndexPortal:Iee,registerZIndexPortalId:kee,unregisterZIndexPortalId:Cee}=zL.actions,Oee=zL.reducer;function Ri(e){var{zIndex:t,children:n}=e,r=d7(),i=r&&t!==void 0&&t!==0,o=Tn(),a=at();v.useLayoutEffect(()=>i?(a(xee({zIndex:t})),()=>{a(Iee({zIndex:t}))}):_c,[a,t,i]);var s=J(u=>yee(u,t,o));if(!i)return n;if(!s)return null;var l=document.getElementById(s);return l?cp.createPortal(n,l):null}function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v0.apply(null,arguments)}function dx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dx(Object(n),!0).forEach(function(r){Ree(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ree(e,t,n){return(t=Nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mee(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function Lee(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:a,layout:s,cursor:l,tooltipEventType:u,chartName:c}=e,d=n,h=r,p=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var g,_,y;if(c==="ScatterChart")g=d,_=pG,y=Rt.cursorLine;else if(c==="BarChart")g=mG(s,d,o,a),_=T2,y=Rt.cursorRectangle;else if(s==="radial"&&WN(d)){var{cx:w,cy:b,radius:S,startAngle:I,endAngle:O}=A2(d);g={cx:w,cy:b,startAngle:I,endAngle:O,innerRadius:S,outerRadius:S},_=I2,y=Rt.cursorLine}else g={points:iQ(s,d,o)},_=w2,y=Rt.cursorLine;var M=typeof l=="object"&&"className"in l?l.className:void 0,T=zf(zf(zf(zf({stroke:"#ccc",pointerEvents:"none"},o),g),$p(l)),{},{payload:h,payloadIndex:p,className:Ae("recharts-tooltip-cursor",M)});return v.createElement(Ri,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},v.createElement(Mee,{cursor:l,cursorComp:_,cursorProps:T}))}function jee(e){var t=nee(),n=f2(),r=um(),i=uee();return t==null||n==null||r==null||i==null?null:v.createElement(Lee,v0({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var BL=v.createContext(null),Vee=()=>v.useContext(BL),WL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,p,g){var _=n?n+u:u;if(!this._events[_])return!1;var y=this._events[_],w=arguments.length,b,S;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,h),!0;case 5:return y.fn.call(y.context,c,d,h,p),!0;case 6:return y.fn.call(y.context,c,d,h,p,g),!0}for(S=1,b=new Array(w-1);S<w;S++)b[S-1]=arguments[S];y.fn.apply(y.context,b)}else{var I=y.length,O;for(S=0;S<I;S++)switch(y[S].once&&this.removeListener(u,y[S].fn,void 0,!0),w){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,c);break;case 3:y[S].fn.call(y[S].context,c,d);break;case 4:y[S].fn.call(y[S].context,c,d,h);break;default:if(!b)for(O=1,b=new Array(w-1);O<w;O++)b[O-1]=arguments[O];y[S].fn.apply(y[S].context,b)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!d||g.context===d)&&a(this,p);else{for(var _=0,y=[],w=g.length;_<w;_++)(g[_].fn!==c||h&&!g[_].once||d&&g[_].context!==d)&&y.push(g[_]);y.length?this._events[p]=y.length===1?y[0]:y:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(WL);var $ee=WL.exports;const Uee=Si($ee);var Ju=new Uee,y0="recharts.syncEvent.tooltip",hx="recharts.syncEvent.brush";function Fee(e,t){if(t){var n=Number.parseInt(t,10);if(!$r(n))return e==null?void 0:e[n]}}var zee={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},HL=Pn({name:"options",initialState:zee,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Bee=HL.reducer,{createEventEmitter:Wee}=HL.actions;function Hee(e){return e.tooltip.syncInteraction}var Kee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},KL=Pn({name:"chartData",initialState:Kee,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:px,setDataStartEndIndexes:qee,setComputedData:Wae}=KL.actions,Gee=KL.reducer,Qee=["x","y"];function mx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mx(Object(n),!0).forEach(function(r){Yee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yee(e,t,n){return(t=Xee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xee(e){var t=Jee(e,"string");return typeof t=="symbol"?t:t+""}function Jee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zee(e,t){if(e==null)return{};var n,r,i=ete(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ete(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tte(){var e=J(ME),t=J(LE),n=at(),r=J(IM),i=J(Oi),o=um(),a=lm(),s=J(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return _c;var l=(u,c,d)=>{if(t!==d&&e===u){if(r==="index"){var h;if(a&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:g,y:_}=p,y=Zee(p,Qee),{x:w,y:b,width:S,height:I}=c.payload.sourceViewBox,O=$a($a({},y),{},{x:a.x+(S?(g-w)/S:0)*a.width,y:a.y+(I?(_-b)/I:0)*a.height});n($a($a({},c),{},{payload:$a($a({},c.payload),{},{coordinate:O})}))}else n(c);return}if(i!=null){var M;if(typeof r=="function"){var T={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},P=r(i,T);M=i[P]}else r==="value"&&(M=i.find(fe=>String(fe.value)===c.payload.label));var{coordinate:x}=c.payload;if(M==null||c.payload.active===!1||x==null||a==null){n(m0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:C}=x,D=Math.min(R,a.x+a.width),N=Math.min(C,a.y+a.height),Z={x:o==="horizontal"?M.coordinate:D,y:o==="horizontal"?N:M.coordinate},ce=m0({active:c.payload.active,coordinate:Z,dataKey:c.payload.dataKey,index:String(M.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(ce)}}};return Ju.on(y0,l),()=>{Ju.off(y0,l)}},[s,n,t,e,r,i,o,a])}function nte(){var e=J(ME),t=J(LE),n=at();v.useEffect(()=>{if(e==null)return _c;var r=(i,o,a)=>{t!==a&&e===i&&n(qee(o))};return Ju.on(hx,r),()=>{Ju.off(hx,r)}},[n,t,e])}function rte(){var e=at();v.useEffect(()=>{e(Wee())},[e]),tte(),nte()}function ite(e,t,n,r,i,o){var a=J(p=>fee(p,e,t)),s=J(LE),l=J(ME),u=J(IM),c=J(Hee),d=c==null?void 0:c.active,h=lm();v.useEffect(()=>{if(!d&&l!=null&&s!=null){var p=m0({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});Ju.emit(y0,l,p,s)}},[d,n,a,i,r,s,l,u,o,h])}function gx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gx(Object(n),!0).forEach(function(r){ote(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ote(e,t,n){return(t=ate(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ate(e){var t=ste(e,"string");return typeof t=="symbol"?t:t+""}function ste(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lte(e){return e.dataKey}function ute(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(q7,t)}var yx=[],cte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function qL(e){var t,n,r=Zt(e,cte),{active:i,allowEscapeViewBox:o,animationDuration:a,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:_,wrapperStyle:y,cursor:w,shared:b,trigger:S,defaultIndex:I,portal:O,axisId:M}=r,T=at(),P=typeof I=="number"?String(I):I;v.useEffect(()=>{T(aZ({shared:b,trigger:S,axisId:M,active:i,defaultIndex:P}))},[T,b,S,M,i,P]);var x=lm(),R=_2(),C=eZ(b),{activeIndex:D,isActive:N}=(t=J(Oe=>pee(Oe,C,S,P)))!==null&&t!==void 0?t:{},Z=J(Oe=>hee(Oe,C,S,P)),ce=J(Oe=>FL(Oe,C,S,P)),fe=J(Oe=>dee(Oe,C,S,P)),se=Z,z=Vee(),B=(n=i??N)!==null&&n!==void 0?n:!1,[X,le]=ED([se,B]),ue=C==="axis"?ce:void 0;ite(C,S,fe,ue,D,B);var Ee=O??z;if(Ee==null||x==null||C==null)return null;var Qe=se??yx;B||(Qe=yx),u&&Qe.length&&(Qe=uD(Qe.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||r.includeHidden)),h,lte));var en=Qe.length>0,tn=v.createElement(eG,{allowEscapeViewBox:o,animationDuration:a,animationEasing:s,isAnimationActive:c,active:B,coordinate:fe,hasPayload:en,offset:d,position:p,reverseDirection:g,useTranslate3d:_,viewBox:x,wrapperStyle:y,lastBoundingBox:X,innerRef:le,hasPortalFromProps:!!O},ute(l,vx(vx({},r),{},{payload:Qe,label:ue,active:B,activeIndex:D,coordinate:fe,accessibilityLayer:R})));return v.createElement(v.Fragment,null,cp.createPortal(tn,Ee),B&&v.createElement(jee,{cursor:w,tooltipEventType:C,coordinate:fe,payload:Qe,index:D}))}function fte(e,t,n){return(t=dte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pte{constructor(t){fte(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function _x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_x(Object(n),!0).forEach(function(r){gte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_x(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gte(e,t,n){return(t=vte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vte(e){var t=yte(e,"string");return typeof t=="symbol"?t:t+""}function yte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _te={cacheSize:2e3,enableCache:!0},GL=mte({},_te),wx=new pte(GL.cacheSize),wte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ex="recharts_measurement_span";function Ete(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",a=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(s)}var bx=(e,t)=>{try{var n=document.getElementById(Ex);n||(n=document.createElement("span"),n.setAttribute("id",Ex),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,wte,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},su=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Tc.isSsr)return{width:0,height:0};if(!GL.enableCache)return bx(t,n);var r=Ete(t,n),i=wx.get(r);if(i)return i;var o=bx(t,n);return wx.set(r,o),o},Sx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Px=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ste=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Pte=Object.keys(QL),rs="NaN";function Tte(e,t){return e*QL[t]}class mn{static parse(t){var n,[,r,i]=(n=Ste.exec(t))!==null&&n!==void 0?n:[];return new mn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,$r(t)&&(this.unit=""),n!==""&&!bte.test(n)&&(this.num=NaN,this.unit=""),Pte.includes(n)&&(this.num=Tte(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new mn(NaN,""):new mn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new mn(NaN,""):new mn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new mn(NaN,""):new mn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new mn(NaN,""):new mn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $r(this.num)}}function YL(e){if(e.includes(rs))return rs;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=Sx.exec(t))!==null&&n!==void 0?n:[],a=mn.parse(r??""),s=mn.parse(o??""),l=i==="*"?a.multiply(s):a.divide(s);if(l.isNaN())return rs;t=t.replace(Sx,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,h]=(u=Px.exec(t))!==null&&u!==void 0?u:[],p=mn.parse(c??""),g=mn.parse(h??""),_=d==="+"?p.add(g):p.subtract(g);if(_.isNaN())return rs;t=t.replace(Px,_.toString())}return t}var Tx=/\(([^()]*)\)/;function Ate(e){for(var t=e,n;(n=Tx.exec(t))!=null;){var[,r]=n;t=t.replace(Tx,YL(r))}return t}function xte(e){var t=e.replace(/\s+/g,"");return t=Ate(t),t=YL(t),t}function Ite(e){try{return xte(e)}catch{return rs}}function ev(e){var t=Ite(e.slice(5,-1));return t===rs?"":t}var kte=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Cte=["dx","dy","angle","className","breakAll"];function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_0.apply(null,arguments)}function Ax(e,t){if(e==null)return{};var n,r,i=Ote(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ote(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XL=/[ \f\n\r\t\v\u2028\u2029]+/,JL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];bt(t)||(n?i=t.toString().split(""):i=t.toString().split(XL));var o=i.map(s=>({word:s,width:su(s,r).width})),a=n?0:su("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}};function Rte(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var ZL=(e,t,n,r)=>e.reduce((i,o)=>{var{word:a,width:s}=o,l=i[i.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(a),l.width+=s+n;else{var u={words:[a],width:s};i.push(u)}return i},[]),ej=e=>e.reduce((t,n)=>t.width>n.width?t:n),Nte="",xx=(e,t,n,r,i,o,a,s)=>{var l=e.slice(0,t),u=JL({breakAll:n,style:r,children:l+Nte});if(!u)return[!1,[]];var c=ZL(u.wordsWithComputedWidth,o,a,s),d=c.length>i||ej(c).width>Number(o);return[d,c]},Dte=(e,t,n,r,i)=>{var{maxLines:o,children:a,style:s,breakAll:l}=e,u=ee(o),c=String(a),d=ZL(t,r,n,i);if(!u||i)return d;var h=d.length>o||ej(d).width>Number(r);if(!h)return d;for(var p=0,g=c.length-1,_=0,y;p<=g&&_<=c.length-1;){var w=Math.floor((p+g)/2),b=w-1,[S,I]=xx(c,b,l,s,o,r,n,i),[O]=xx(c,w,l,s,o,r,n,i);if(!S&&!O&&(p=w+1),S&&O&&(g=w-1),!S&&O){y=I;break}_++}return y||d},Ix=e=>{var t=bt(e)?[]:e.toString().split(XL);return[{words:t,width:void 0}]},Mte=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=e;if((t||n)&&!Tc.isSsr){var s,l,u=JL({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return Ix(r);return Dte({breakAll:o,children:r,maxLines:a,style:i},s,l,t,!!n)}return Ix(r)},tj="#808080",Lte={angle:0,breakAll:!1,capHeight:"0.71em",fill:tj,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},a1=v.forwardRef((e,t)=>{var n=Zt(e,Lte),{x:r,y:i,lineHeight:o,capHeight:a,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,d=Ax(n,kte),h=v.useMemo(()=>Mte({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:p,dy:g,angle:_,className:y,breakAll:w}=d,b=Ax(d,Cte);if(!Ur(r)||!Ur(i)||h.length===0)return null;var S=Number(r)+(ee(p)?p:0),I=Number(i)+(ee(g)?g:0);if(!St(S)||!St(I))return null;var O;switch(c){case"start":O=ev("calc(".concat(a,")"));break;case"middle":O=ev("calc(".concat((h.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:O=ev("calc(".concat(h.length-1," * -").concat(o,")"));break}var M=[];if(l){var T=h[0].width,{width:P}=d;M.push("scale(".concat(ee(P)&&ee(T)?P/T:1,")"))}return _&&M.push("rotate(".concat(_,", ").concat(S,", ").concat(I,")")),M.length&&(b.transform=M.join(" ")),v.createElement("text",_0({},cn(b),{ref:t,x:S,y:I,className:Ae("recharts-text",y),textAnchor:u,fill:s.includes("url")?tj:s}),h.map((x,R)=>{var C=x.words.join(w?"":" ");return v.createElement("tspan",{x:S,dy:R===0?O:o,key:"".concat(C,"-").concat(R)},C)}))});a1.displayName="Text";var jte=["labelRef"];function Vte(e,t){if(e==null)return{};var n,r,i=$te(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $te(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kx(Object(n),!0).forEach(function(r){Ute(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ute(e,t,n){return(t=Fte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fte(e){var t=zte(e,"string");return typeof t=="symbol"?t:t+""}function zte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xr(){return Xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xr.apply(null,arguments)}var nj=v.createContext(null),Bte=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:a,children:s}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:a}),[t,n,r,i,o,a]);return v.createElement(nj.Provider,{value:l},s)},rj=()=>{var e=v.useContext(nj),t=lm();return e||c2(t)},Wte=v.createContext(null),Hte=()=>{var e=v.useContext(Wte),t=J(NM);return e||t},Kte=e=>{var{value:t,formatter:n}=e,r=bt(e.children)?t:e.children;return typeof n=="function"?n(r):r},s1=e=>e!=null&&typeof e=="function",qte=(e,t)=>{var n=qn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Gte=(e,t,n,r,i)=>{var{offset:o,className:a}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:h,clockWise:p}=i,g=(u+c)/2,_=qte(d,h),y=_>=0?1:-1,w,b;switch(t){case"insideStart":w=d+y*o,b=p;break;case"insideEnd":w=h-y*o,b=!p;break;case"end":w=h+y*o,b=p;break;default:throw new Error("Unsupported position ".concat(t))}b=_<=0?b:!b;var S=Ot(s,l,g,w),I=Ot(s,l,g,w+(b?1:-1)*359),O="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(I.x,",").concat(I.y),M=bt(e.id)?Vu("recharts-radial-line-"):e.id;return v.createElement("text",Xr({},r,{dominantBaseline:"central",className:Ae("recharts-radial-bar-label",a)}),v.createElement("defs",null,v.createElement("path",{id:M,d:O})),v.createElement("textPath",{xlinkHref:"#".concat(M)},n))},Qte=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(n==="outside"){var{x:c,y:d}=Ot(r,i,a+t,u);return{x:c,y:d,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(o+a)/2,{x:p,y:g}=Ot(r,i,h,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},w0=e=>"cx"in e&&ee(e.cx),Yte=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!w0(n)&&(o=n);var{x:a,y:s,upperWidth:l,lowerWidth:u,height:c}=t,d=a,h=a+(l-u)/2,p=(d+h)/2,g=(l+u)/2,_=d+l/2,y=c>=0?1:-1,w=y*r,b=y>0?"end":"start",S=y>0?"start":"end",I=l>=0?1:-1,O=I*r,M=I>0?"end":"start",T=I>0?"start":"end";if(i==="top"){var P={x:d+l/2,y:s-w,textAnchor:"middle",verticalAnchor:b};return Ye(Ye({},P),o?{height:Math.max(s-o.y,0),width:l}:{})}if(i==="bottom"){var x={x:h+u/2,y:s+c+w,textAnchor:"middle",verticalAnchor:S};return Ye(Ye({},x),o?{height:Math.max(o.y+o.height-(s+c),0),width:u}:{})}if(i==="left"){var R={x:p-O,y:s+c/2,textAnchor:M,verticalAnchor:"middle"};return Ye(Ye({},R),o?{width:Math.max(R.x-o.x,0),height:c}:{})}if(i==="right"){var C={x:p+g+O,y:s+c/2,textAnchor:T,verticalAnchor:"middle"};return Ye(Ye({},C),o?{width:Math.max(o.x+o.width-C.x,0),height:c}:{})}var D=o?{width:g,height:c}:{};return i==="insideLeft"?Ye({x:p+O,y:s+c/2,textAnchor:T,verticalAnchor:"middle"},D):i==="insideRight"?Ye({x:p+g-O,y:s+c/2,textAnchor:M,verticalAnchor:"middle"},D):i==="insideTop"?Ye({x:d+l/2,y:s+w,textAnchor:"middle",verticalAnchor:S},D):i==="insideBottom"?Ye({x:h+u/2,y:s+c-w,textAnchor:"middle",verticalAnchor:b},D):i==="insideTopLeft"?Ye({x:d+O,y:s+w,textAnchor:T,verticalAnchor:S},D):i==="insideTopRight"?Ye({x:d+l-O,y:s+w,textAnchor:M,verticalAnchor:S},D):i==="insideBottomLeft"?Ye({x:h+O,y:s+c-w,textAnchor:T,verticalAnchor:b},D):i==="insideBottomRight"?Ye({x:h+u-O,y:s+c-w,textAnchor:M,verticalAnchor:b},D):i&&typeof i=="object"&&(ee(i.x)||vi(i.x))&&(ee(i.y)||vi(i.y))?Ye({x:a+bo(i.x,g),y:s+bo(i.y,c),textAnchor:"end",verticalAnchor:"end"},D):Ye({x:_,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},D)},Xte={angle:0,offset:5,zIndex:Rt.label,position:"middle",textBreakAll:!1};function Fi(e){var t=Zt(e,Xte),{viewBox:n,position:r,value:i,children:o,content:a,className:s="",textBreakAll:l,labelRef:u}=t,c=Hte(),d=rj(),h=r==="center"?d:c??d,p,g,_;if(n==null?p=h:w0(n)?p=n:p=c2(n),!p||bt(i)&&bt(o)&&!v.isValidElement(a)&&typeof a!="function")return null;var y=Ye(Ye({},t),{},{viewBox:p});if(v.isValidElement(a)){var w=Vte(y,jte);return v.cloneElement(a,w)}if(typeof a=="function"){if(g=v.createElement(a,y),v.isValidElement(g))return g}else g=Kte(t);var b=cn(t);if(w0(p)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Gte(t,r,g,b,p);_=Qte(p,t.offset,t.position)}else _=Yte(t,p);return v.createElement(Ri,{zIndex:t.zIndex},v.createElement(a1,Xr({ref:u,className:Ae("recharts-label",s)},b,_,{textAnchor:Rte(b.textAnchor)?b.textAnchor:_.textAnchor,breakAll:l}),g))}Fi.displayName="Label";var Jte=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(Fi,Xr({key:"label-implicit"},r)):Ur(e)?v.createElement(Fi,Xr({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===Fi?v.cloneElement(e,Ye({key:"label-implicit"},r)):v.createElement(Fi,Xr({key:"label-implicit",content:e},r)):s1(e)?v.createElement(Fi,Xr({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(Fi,Xr({},e,{key:"label-implicit"},r)):null};function Zte(e){var{label:t,labelRef:n}=e,r=rj();return Jte(t,r,n)||null}var ij={},oj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(oj);var aj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(aj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oj,n=aj,r=qp;function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(ij);var ene=ij.last;const tne=Si(ene);var nne=["valueAccessor"],rne=["dataKey","clockWise","id","textBreakAll","zIndex"];function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fh.apply(null,arguments)}function Cx(e,t){if(e==null)return{};var n,r,i=ine(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ine(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var one=e=>Array.isArray(e.value)?tne(e.value):e.value,sj=v.createContext(void 0),ane=sj.Provider,lj=v.createContext(void 0);lj.Provider;function sne(){return v.useContext(sj)}function lne(){return v.useContext(lj)}function md(e){var{valueAccessor:t=one}=e,n=Cx(e,nne),{dataKey:r,clockWise:i,id:o,textBreakAll:a,zIndex:s}=n,l=Cx(n,rne),u=sne(),c=lne(),d=u||c;return!d||!d.length?null:v.createElement(Ri,{zIndex:s??Rt.label},v.createElement(Eo,{className:"recharts-label-list"},d.map((h,p)=>{var g,_=bt(r)?t(h,p):Yt(h&&h.payload,r),y=bt(o)?{}:{id:"".concat(o,"-").concat(p)};return v.createElement(Fi,Fh({key:"label-".concat(p)},cn(h),l,y,{fill:(g=n.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:_,textBreakAll:a,viewBox:h.viewBox,index:p,zIndex:0}))})))}md.displayName="LabelList";function une(e){var{label:t}=e;return t?t===!0?v.createElement(md,{key:"labelList-implicit"}):v.isValidElement(t)||s1(t)?v.createElement(md,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(md,Fh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E0.apply(null,arguments)}var uj=e=>{var{cx:t,cy:n,r,className:i}=e,o=Ae("recharts-dot",i);return ee(t)&&ee(n)&&ee(r)?v.createElement("circle",E0({},Vr(e),Nw(e),{className:o,cx:t,cy:n,r})):null},cne={radiusAxis:{},angleAxis:{}},cj=Pn({name:"polarAxis",initialState:cne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}});cj.actions;var fne=cj.reducer,fj=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,dj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(dj);var dne=dj.isPlainObject;const hne=Si(dne);function Ox(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ox(Object(n),!0).forEach(function(r){pne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ox(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pne(e,t,n){return(t=mne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mne(e){var t=gne(e,"string");return typeof t=="symbol"?t:t+""}function gne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zh.apply(null,arguments)}var Nx=(e,t,n,r,i)=>{var o=n-r,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-o/2,",").concat(t+i),a+="L ".concat(e+n-o/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},vne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yne=e=>{var t=Zt(e,vne),{x:n,y:r,upperWidth:i,lowerWidth:o,height:a,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,h=v.useRef(null),[p,g]=v.useState(-1),_=v.useRef(i),y=v.useRef(o),w=v.useRef(a),b=v.useRef(n),S=v.useRef(r),I=sE(e,"trapezoid-");if(v.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var Z=h.current.getTotalLength();Z&&g(Z)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||a!==+a||i===0&&o===0||a===0)return null;var O=Ae("recharts-trapezoid",s);if(!d)return v.createElement("g",null,v.createElement("path",zh({},cn(t),{className:O,d:Nx(n,r,i,o,a)})));var M=_.current,T=y.current,P=w.current,x=b.current,R=S.current,C="0px ".concat(p===-1?1:p,"px"),D="".concat(p,"px 0px"),N=E2(["strokeDasharray"],u,l);return v.createElement(aE,{animationId:I,key:I,canBegin:p>0,duration:u,easing:l,isActive:d,begin:c},Z=>{var ce=yn(M,i,Z),fe=yn(T,o,Z),se=yn(P,a,Z),z=yn(x,n,Z),B=yn(R,r,Z);h.current&&(_.current=ce,y.current=fe,w.current=se,b.current=z,S.current=B);var X=Z>0?{transition:N,strokeDasharray:D}:{strokeDasharray:C};return v.createElement("path",zh({},cn(t),{className:O,d:Nx(z,B,ce,fe,se),ref:h,style:Rx(Rx({},X),t.style)}))})},_ne=["option","shapeType","propTransformer","activeClassName"];function wne(e,t){if(e==null)return{};var n,r,i=Ene(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ene(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Dx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dx(Object(n),!0).forEach(function(r){bne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bne(e,t,n){return(t=Sne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sne(e){var t=Pne(e,"string");return typeof t=="symbol"?t:t+""}function Pne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tne(e,t){return Bh(Bh({},t),e)}function Ane(e,t){return e==="symbols"}function Mx(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(T2,n);case"trapezoid":return v.createElement(yne,n);case"sector":return v.createElement(I2,n);case"symbols":if(Ane(t))return v.createElement(Rw,n);break;case"curve":return v.createElement(w2,n);default:return null}}function xne(e){return v.isValidElement(e)?e.props:e}function Ine(e){var{option:t,shapeType:n,propTransformer:r=Tne,activeClassName:i="recharts-active-shape"}=e,o=wne(e,_ne),a;if(v.isValidElement(t))a=v.cloneElement(t,Bh(Bh({},o),xne(t)));else if(typeof t=="function")a=t(o,o.index);else if(hne(t)&&typeof t!="boolean"){var s=r(t,o);a=v.createElement(Mx,{shapeType:n,elementProps:s})}else{var l=o;a=v.createElement(Mx,{shapeType:n,elementProps:l})}return o.isActive?v.createElement(Eo,{className:i},a):a}function kne(e){var{tooltipEntrySettings:t}=e,n=at(),r=Tn(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(rZ(t)):i.current!==t&&n(iZ({prev:i.current,next:t})),i.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{i.current&&(n(oZ(i.current)),i.current=null)},[n]),null}function Cne(e){var{legendPayload:t}=e,n=at(),r=Tn(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(A7(t)):i.current!==t&&n(x7({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(I7(i.current)),i.current=null)},[n]),null}var tv,One=()=>{var[e]=v.useState(()=>Vu("uid-"));return e},Rne=(tv=dI["useId".toString()])!==null&&tv!==void 0?tv:One;function hj(e,t){var n=Rne();return t||(e?"".concat(e,"-").concat(n):n)}var Nne=v.createContext(void 0),Dne=e=>{var{id:t,type:n,children:r}=e,i=hj("recharts-".concat(n),t);return v.createElement(Nne.Provider,{value:i},r(i))},Mne={cartesianItems:[],polarItems:[]},pj=Pn({name:"graphicalItems",initialState:Mne,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ve()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=pr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Ve()},removeCartesianGraphicalItem:{reducer(e,t){var n=pr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Ve()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ve()},removePolarGraphicalItem:{reducer(e,t){var n=pr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Ve()}}}),{addCartesianGraphicalItem:Lne,replaceCartesianGraphicalItem:jne,removeCartesianGraphicalItem:Vne,addPolarGraphicalItem:Hae,removePolarGraphicalItem:Kae}=pj.actions,$ne=pj.reducer,Une=e=>{var t=at(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Lne(e)):n.current!==e&&t(jne({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(Vne(n.current)),n.current=null)},[t]),null},Fne=v.memo(Une),zne=["points"];function Lx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lx(Object(n),!0).forEach(function(r){Bne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bne(e,t,n){return(t=Wne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wne(e){var t=Hne(e,"string");return typeof t=="symbol"?t:t+""}function Hne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wh.apply(null,arguments)}function Kne(e,t){if(e==null)return{};var n,r,i=qne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Gne(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Ae(r,typeof t!="boolean"?t.className:""),o=n??{},a=Kne(o,zne);return v.createElement(uj,Wh({},a,{className:i}))}function Qne(e,t){return e==null?!1:t?!0:e.length===1}function Yne(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:a,needClip:s,clipPathId:l,zIndex:u=Rt.scatter}=e;if(!Qne(t,n))return null;var c=fj(n),d=x8(n),h=t.map((g,_)=>{var y,w,b=nv(nv(nv({r:3},a),d),{},{index:_,cx:(y=g.x)!==null&&y!==void 0?y:void 0,cy:(w=g.y)!==null&&w!==void 0?w:void 0,dataKey:o,value:g.value,payload:g.payload,points:t});return v.createElement(Gne,{key:"dot-".concat(_),option:n,dotProps:b,className:i})}),p={};return s&&l!=null&&(p.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),v.createElement(Ri,{zIndex:u},v.createElement(Eo,Wh({className:r},p),h))}function jx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jx(Object(n),!0).forEach(function(r){Xne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xne(e,t,n){return(t=Jne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jne(e){var t=Zne(e,"string");return typeof t=="symbol"?t:t+""}function Zne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ere={xAxis:{},yAxis:{},zAxis:{}},mj=Pn({name:"cartesianAxis",initialState:ere,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ve()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Ve()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ve()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ve()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Ve()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ve()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ve()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Ve()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ve()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var a=[...o,r].slice(-3);e.yAxis[n]=Vx(Vx({},e.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:tre,replaceXAxis:nre,removeXAxis:rre,addYAxis:ire,replaceYAxis:ore,removeYAxis:are,addZAxis:qae,replaceZAxis:Gae,removeZAxis:Qae,updateYAxisWidth:sre}=mj.actions,lre=mj.reducer,ure=V([jt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),cre=V([ure,Ai,xi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),l1=()=>J(cre),fre=()=>J(XZ);function $x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$x(Object(n),!0).forEach(function(r){dre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$x(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dre(e,t,n){return(t=hre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hre(e){var t=pre(e,"string");return typeof t=="symbol"?t:t+""}function pre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mre=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=rv(rv(rv({},s),$p(i)),Nw(i)),u;return v.isValidElement(i)?u=v.cloneElement(i,l):typeof i=="function"?u=i(l):u=v.createElement(uj,l),v.createElement(Eo,{className:"recharts-active-dot",clipPath:a},u)};function gre(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:a=Rt.activeDot}=e,s=J(Xu),l=fre();if(t==null||l==null)return null;var u=t.find(c=>l.includes(c.payload));return bt(u)?null:v.createElement(Ri,{zIndex:a},v.createElement(mre,{point:u,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var vre={},gj=Pn({name:"errorBars",initialState:vre,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}});gj.actions;var yre=gj.reducer,_re=["children"];function wre(e,t){if(e==null)return{};var n,r,i=Ere(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ere(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Sre=v.createContext(bre);function Pre(e){var{children:t}=e,n=wre(e,_re);return v.createElement(Sre.Provider,{value:n},t)}function vj(e,t){var n,r,i=J(u=>ki(u,e)),o=J(u=>Ci(u,t)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:gt.allowDataOverflow,s=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:vt.allowDataOverflow,l=a||s;return{needClip:l,needClipX:a,needClipY:s}}function Tre(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=l1(),{needClipX:o,needClipY:a,needClip:s}=vj(t,n);if(!s||!i)return null;var{x:l,y:u,width:c,height:d}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:o?l:l-c/2,y:a?u:u-d/2,width:o?c:c*2,height:a?d:d*2}))}var Are={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c=v;function xre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ire=typeof Object.is=="function"?Object.is:xre,kre=$c.useSyncExternalStore,Cre=$c.useRef,Ore=$c.useEffect,Rre=$c.useMemo,Nre=$c.useDebugValue;Are.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Cre(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=Rre(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return d=g}return d=p}if(g=d,Ire(c,p))return g;var _=r(p);return i!==void 0&&i(g,_)?(c=p,g):(c=p,d=_)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=kre(e,o[0],o[1]);return Ore(function(){a.hasValue=!0,a.value=s},[s]),Nre(s),s};function Dre(e){e()}function Mre(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Dre(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Ux={notify(){},get:()=>[]};function Lre(e,t){let n,r=Ux,i=0,o=!1;function a(_){c();const y=r.subscribe(_);let w=!1;return()=>{w||(w=!0,y(),d())}}function s(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return o}function c(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=Mre())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Ux)}function h(){o||(o=!0,c())}function p(){o&&(o=!1,d())}const g={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return g}var jre=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vre=jre(),$re=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ure=$re(),Fre=()=>Vre||Ure?v.useLayoutEffect:v.useEffect,zre=Fre();function Fx(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Bre(e,t){if(Fx(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Fx(e[n[i]],t[n[i]]))return!1;return!0}var iv=Symbol.for("react-redux-context"),ov=typeof globalThis<"u"?globalThis:{};function Wre(){if(!v.createContext)return{};const e=ov[iv]??(ov[iv]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var Hre=Wre();function Kre(e){const{children:t,context:n,serverState:r,store:i}=e,o=v.useMemo(()=>{const l=Lre(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=v.useMemo(()=>i.getState(),[i]);zre(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const s=n||Hre;return v.createElement(s.Provider,{value:o},t)}var qre=Kre,Gre=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Qre(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function u1(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Gre.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Bre(e[r],t[r]))return!1}else if(!Qre(e[r],t[r]))return!1;return!0}var Yre=e=>{var{chartData:t}=e,n=at(),r=Tn();return v.useEffect(()=>r?()=>{}:(n(px(t)),()=>{n(px(void 0))}),[t,n,r]),null},zx={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yj=Pn({name:"brush",initialState:zx,reducers:{setBrushSettings(e,t){return t.payload==null?zx:t.payload}}});yj.actions;var Xre=yj.reducer;function Jre(e,t,n){return(t=Zre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zre(e){var t=eie(e,"string");return typeof t=="symbol"?t:t+""}function eie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class c1{static create(t){return new c1(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Jre(c1,"EPS",1e-4);function tie(e){return(e%180+180)%180}var nie=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=tie(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},rie={dots:[],areas:[],lines:[]},_j=Pn({name:"referenceElements",initialState:rie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=pr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=pr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=pr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}});_j.actions;var iie=_j.reducer,oie=v.createContext(void 0),aie=e=>{var{children:t}=e,[n]=v.useState("".concat(Vu("recharts"),"-clip")),r=l1();if(r==null)return null;var{x:i,y:o,width:a,height:s}=r;return v.createElement(oie.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:o,height:s,width:a}))),t)};function wj(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function sie(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return nie(r,n)}function lie(e,t,n){var r=n==="width",{x:i,y:o,width:a,height:s}=e;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Hh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function uie(e,t){return wj(e,t+1)}function cie(e,t,n,r,i){for(var o=(r||[]).slice(),{start:a,end:s}=t,l=0,u=1,c=a,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:wj(r,u)};var _=l,y,w=()=>(y===void 0&&(y=n(g,_)),y),b=g.coordinate,S=l===0||Hh(e,b,w,c,s);S||(l=0,c=a,u+=1),S&&(c=b+e*(w()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function Bx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bx(Object(n),!0).forEach(function(r){fie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fie(e,t,n){return(t=die(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function die(e){var t=hie(e,"string");return typeof t=="symbol"?t:t+""}function hie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pie(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:s}=t,{end:l}=t,u=function(h){var p=o[h],g,_=()=>(g===void 0&&(g=n(p,h)),g);if(h===a-1){var y=e*(p.coordinate+e*_()/2-l);o[h]=p=Ht(Ht({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else o[h]=p=Ht(Ht({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var w=Hh(e,p.tickCoord,_,s,l);w&&(l=p.tickCoord-e*(_()/2+i),o[h]=Ht(Ht({},p),{},{isShow:!0}))}},c=a-1;c>=0;c--)u(c);return o}function mie(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,{start:l,end:u}=t;if(o){var c=r[s-1],d=n(c,s-1),h=e*(c.coordinate+e*d/2-u);if(a[s-1]=c=Ht(Ht({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var p=Hh(e,c.tickCoord,()=>d,l,u);p&&(u=c.tickCoord-e*(d/2+i),a[s-1]=Ht(Ht({},c),{},{isShow:!0}))}}for(var g=o?s-1:s,_=function(b){var S=a[b],I,O=()=>(I===void 0&&(I=n(S,b)),I);if(b===0){var M=e*(S.coordinate-e*O()/2-l);a[b]=S=Ht(Ht({},S),{},{tickCoord:M<0?S.coordinate-M*e:S.coordinate})}else a[b]=S=Ht(Ht({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var T=Hh(e,S.tickCoord,O,l,u);T&&(l=S.tickCoord+e*(O()/2+i),a[b]=Ht(Ht({},S),{},{isShow:!0}))}},y=0;y<g;y++)_(y);return a}function f1(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!r)return[];if(ee(l)||Tc.isSsr){var h;return(h=uie(i,ee(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],g=s==="top"||s==="bottom"?"width":"height",_=c&&g==="width"?su(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(S,I)=>{var O=typeof u=="function"?u(S.value,I):S.value;return g==="width"?sie(su(O,{fontSize:t,letterSpacing:n}),_,d):su(O,{fontSize:t,letterSpacing:n})[g]},w=i.length>=2?qn(i[1].coordinate-i[0].coordinate):1,b=lie(o,w,g);return l==="equidistantPreserveStart"?cie(w,b,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=mie(w,b,y,i,a,l==="preserveStartEnd"):p=pie(w,b,y,i,a),p.filter(S=>S.isShow))}var gie=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,a=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>a&&(a=d.width)}});var s=n?n.getBoundingClientRect().width:0,l=i+o,u=a+l+s+(n?r:0);return Math.round(u)}return 0},vie=["axisLine","width","height","className","hide","ticks","axisType"];function yie(e,t){if(e==null)return{};var n,r,i=_ie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _ie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ya.apply(null,arguments)}function Wx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wx(Object(n),!0).forEach(function(r){wie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wie(e,t,n){return(t=Eie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eie(e){var t=bie(e,"string");return typeof t=="symbol"?t:t+""}function bie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var li={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Rt.axis};function Sie(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=tt(tt(tt({},l),Vr(s)),{},{fill:"none"});if(o==="top"||o==="bottom"){var c=+(o==="top"&&!a||o==="bottom"&&a);u=tt(tt({},u),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var d=+(o==="left"&&!a||o==="right"&&a);u=tt(tt({},u),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+i})}return v.createElement("line",ya({},u,{className:Ae("recharts-cartesian-axis-line",Kp(s,"className"))}))}function Pie(e,t,n,r,i,o,a,s,l){var u,c,d,h,p,g,_=s?-1:1,y=e.tickSize||a,w=ee(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":u=c=e.coordinate,h=n+ +!s*i,d=h-_*y,g=d-_*l,p=w;break;case"left":d=h=e.coordinate,c=t+ +!s*r,u=c-_*y,p=u-_*l,g=w;break;case"right":d=h=e.coordinate,c=t+ +s*r,u=c+_*y,p=u+_*l,g=w;break;default:u=c=e.coordinate,h=n+ +s*i,d=h+_*y,g=d+_*l,p=w;break}return{line:{x1:u,y1:d,x2:c,y2:h},tick:{x:p,y:g}}}function Tie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Aie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function xie(e){var{option:t,tickProps:n,value:r}=e,i,o=Ae(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,tt(tt({},n),{},{className:o}));else if(typeof t=="function")i=t(tt(tt({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=Ae(a,t==null?void 0:t.className)),i=v.createElement(a1,ya({},n,{className:a}),r)}return i}var Iie=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:a,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:d,x:h,y:p,width:g,height:_,tickSize:y,tickMargin:w,fontSize:b,letterSpacing:S,getTicksConfig:I,events:O,axisType:M}=e,T=f1(tt(tt({},I),{},{ticks:n}),b,S),P=Tie(c,d),x=Aie(c,d),R=Vr(I),C=$p(r),D={};typeof i=="object"&&(D=i);var N=tt(tt({},R),{},{fill:"none"},D),Z=T.map(se=>tt({entry:se},Pie(se,h,p,g,_,c,y,d,w))),ce=Z.map(se=>{var{entry:z,line:B}=se;return v.createElement(Eo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},i&&v.createElement("line",ya({},N,B,{className:Ae("recharts-cartesian-axis-tick-line",Kp(i,"className"))})))}),fe=Z.map((se,z)=>{var{entry:B,tick:X}=se,le=tt(tt(tt(tt({textAnchor:P,verticalAnchor:x},R),{},{stroke:"none",fill:o},C),X),{},{index:z,payload:B,visibleTicksCount:T.length,tickFormatter:a,padding:l},u);return v.createElement(Eo,ya({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},HN(O,B,z)),r&&v.createElement(xie,{option:r,tickProps:le,value:"".concat(typeof a=="function"?a(B.value,z):B.value).concat(s||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},fe.length>0&&v.createElement(Ri,{zIndex:Rt.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:t},fe)),ce.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},ce))}),kie=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:a,ticks:s,axisType:l}=e,u=yie(e,vie),[c,d]=v.useState(""),[h,p]=v.useState(""),g=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return gie({ticks:g.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=v.useCallback(y=>{if(y){var w=y.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=w;var b=w[0];if(b){var S=window.getComputedStyle(b),I=S.fontSize,O=S.letterSpacing;(I!==c||O!==h)&&(d(I),p(O))}}},[c,h]);return a||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(Ri,{zIndex:e.zIndex},v.createElement(Eo,{className:Ae("recharts-cartesian-axis",o)},v.createElement(Sie,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Vr(e)}),v.createElement(Iie,{ref:_,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(Bte,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(Zte,{label:e.label,labelRef:e.labelRef}),e.children)))}),d1=v.forwardRef((e,t)=>{var n=Zt(e,li);return v.createElement(kie,ya({},n,{ref:t}))});d1.displayName="CartesianAxis";var Cie=["x1","y1","x2","y2","key"],Oie=["offset"],Rie=["xAxisId","yAxisId"],Nie=["xAxisId","yAxisId"];function Hx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hx(Object(n),!0).forEach(function(r){Die(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Die(e,t,n){return(t=Mie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mie(e){var t=Lie(e,"string");return typeof t=="symbol"?t:t+""}function Lie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qo.apply(null,arguments)}function Kh(e,t){if(e==null)return{};var n,r,i=jie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:a,ry:s}=e;return v.createElement("rect",{x:r,y:i,ry:s,width:o,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Ej(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:a,x2:s,y2:l,key:u}=n,c=Kh(n,Cie),d=(i=Vr(c))!==null&&i!==void 0?i:{},h=Kh(d,Oie);r=v.createElement("line",Qo({},h,{x1:o,y1:a,x2:s,y2:l,fill:"none",key:u}))}return r}function $ie(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var o=Kh(e,Rie),a=i.map((s,l)=>{var u=Qt(Qt({},o),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return v.createElement(Ej,{key:"line-".concat(l),option:r,lineItemProps:u})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Uie(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var o=Kh(e,Nie),a=i.map((s,l)=>{var u=Qt(Qt({},o),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return v.createElement(Ej,{option:r,lineItemProps:u,key:"line-".concat(l)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Fie(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:a,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var u=s.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var p=!u[h+1],g=p?i+a-d:u[h+1]-d;if(g<=0)return null;var _=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:d,x:r,height:g,width:o,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function zie(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:a,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var p=!u[h+1],g=p?i+a-d:u[h+1]-d;if(g<=0)return null;var _=h%n.length;return v.createElement("rect",{key:"react-".concat(h),x:d,y:o,width:g,height:s,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Bie=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return JD(f1(Qt(Qt(Qt({},li),n),{},{ticks:ZD(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},Wie=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return JD(f1(Qt(Qt(Qt({},li),n),{},{ticks:ZD(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},Hie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Rt.grid};function h1(e){var t=tE(),n=nE(),r=f2(),i=Qt(Qt({},Zt(e,Hie)),{},{x:ee(e.x)?e.x:r.left,y:ee(e.y)?e.y:r.top,width:ee(e.width)?e.width:r.width,height:ee(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:a,x:s,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:h,verticalValues:p}=i,g=Tn(),_=J(x=>rx(x,"xAxis",o,g)),y=J(x=>rx(x,"yAxis",a,g));if(!Fr(u)||!Fr(c)||!ee(s)||!ee(l))return null;var w=i.verticalCoordinatesGenerator||Bie,b=i.horizontalCoordinatesGenerator||Wie,{horizontalPoints:S,verticalPoints:I}=i;if((!S||!S.length)&&typeof b=="function"){var O=h&&h.length,M=b({yAxis:y?Qt(Qt({},y),{},{ticks:O?h:y.ticks}):void 0,width:t??u,height:n??c,offset:r},O?!0:d);_h(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(S=M)}if((!I||!I.length)&&typeof w=="function"){var T=p&&p.length,P=w({xAxis:_?Qt(Qt({},_),{},{ticks:T?p:_.ticks}):void 0,width:t??u,height:n??c,offset:r},T?!0:d);_h(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(I=P)}return v.createElement(Ri,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Vie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(Fie,Qo({},i,{horizontalPoints:S})),v.createElement(zie,Qo({},i,{verticalPoints:I})),v.createElement($ie,Qo({},i,{offset:r,horizontalPoints:S,xAxis:_,yAxis:y})),v.createElement(Uie,Qo({},i,{offset:r,verticalPoints:I,xAxis:_,yAxis:y}))))}h1.displayName="CartesianGrid";var bj=(e,t,n,r)=>yL(e,"xAxis",t,r),Sj=(e,t,n,r)=>vL(e,"xAxis",t,r),Pj=(e,t,n,r)=>yL(e,"yAxis",n,r),Tj=(e,t,n,r)=>vL(e,"yAxis",n,r),Kie=V([je,bj,Pj,Sj,Tj],(e,t,n,r,i)=>Io(e,"xAxis")?yh(t,r,!1):yh(n,i,!1)),qie=(e,t,n,r,i)=>i;function Gie(e){return e.type==="line"}var Qie=V([UM,qie],(e,t)=>e.filter(Gie).find(n=>n.id===t)),Yie=V([je,bj,Pj,Sj,Tj,Qie,Kie,OE],(e,t,n,r,i,o,a,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=s;if(!(o==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:d,data:h}=o,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(u,c+1),p!=null)return voe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:d,bandSize:a,displayedData:p})}});function Xie(e){var t=$p(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,a=Number(i),s=Number(o);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(s)||s<0)&&(s=r),{r:a,strokeWidth:s}}return{r:n,strokeWidth:r}}var Jie=["id"],Zie=["type","layout","connectNulls","needClip","shape"],eoe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zu.apply(null,arguments)}function Kx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kx(Object(n),!0).forEach(function(r){toe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function toe(e,t,n){return(t=noe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function noe(e){var t=roe(e,"string");return typeof t=="symbol"?t:t+""}function roe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p1(e,t){if(e==null)return{};var n,r,i=ioe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ioe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ooe=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:e2(n,t),payload:e}]},aoe=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:a,hide:s,unit:l,tooltipType:u}=e,c={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:e2(a,t),hide:s,type:u,color:r,unit:l}};return v.createElement(kne,{tooltipEntrySettings:c})}),Aj=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function soe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var loe=(e,t,n)=>{var r=n.reduce((d,h)=>d+h);if(!r)return Aj(t,e);for(var i=Math.floor(e/r),o=e%r,a=t-e,s=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>o){s=[...n.slice(0,l),o-u];break}var c=s.length%2===0?[0,a]:[a];return[...soe(n,i),...s,...c].map(d=>"".concat(d,"px")).join(", ")};function uoe(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:o,needClip:a}=r,s=p1(r,Jie),l=Vr(s);return v.createElement(Yne,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:l,needClip:a,clipPathId:t})}function coe(e){var{showLabels:t,children:n,points:r}=e,i=v.useMemo(()=>r==null?void 0:r.map(o=>{var a,s,l={x:(a=o.x)!==null&&a!==void 0?a:0,y:(s=o.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Pr(Pr({},l),{},{value:o.value,payload:o.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(ane,{value:t?i:void 0},n)}function qx(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:o}=e,{type:a,layout:s,connectNulls:l,needClip:u,shape:c}=o,d=p1(o,Zie),h=Pr(Pr({},cn(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:a,layout:s,connectNulls:l,strokeDasharray:i??o.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(Ine,Zu({shapeType:"curve",option:c},h,{pathRef:n})),v.createElement(uoe,{points:r,clipPathId:t,props:o}))}function foe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function doe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:a,strokeDasharray:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,animateNewValues:h,width:p,height:g,onAnimationEnd:_,onAnimationStart:y}=n,w=i.current,b=sE(a,"recharts-line-"),S=v.useRef(b),[I,O]=v.useState(!1),M=!I,T=v.useCallback(()=>{typeof _=="function"&&_(),O(!1)},[_]),P=v.useCallback(()=>{typeof y=="function"&&y(),O(!0)},[y]),x=foe(r.current),R=v.useRef(0);S.current!==b&&(R.current=o.current,S.current=b);var C=R.current;return v.createElement(coe,{points:a,showLabels:M},n.children,v.createElement(aE,{animationId:b,begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:T,onAnimationStart:P,key:b},D=>{var N=yn(C,x+C,D),Z=Math.min(N,x),ce;if(l)if(s){var fe="".concat(s).split(/[,\s]+/gim).map(B=>parseFloat(B));ce=loe(Z,x,fe)}else ce=Aj(x,Z);else ce=s==null?void 0:String(s);if(D>0&&x>0&&(i.current=a,o.current=Math.max(o.current,Z)),w){var se=w.length/a.length,z=D===1?a:a.map((B,X)=>{var le=Math.floor(X*se);if(w[le]){var ue=w[le];return Pr(Pr({},B),{},{x:yn(ue.x,B.x,D),y:yn(ue.y,B.y,D)})}return h?Pr(Pr({},B),{},{x:yn(p*2,B.x,D),y:yn(g/2,B.y,D)}):Pr(Pr({},B),{},{x:B.x,y:B.y})});return i.current=z,v.createElement(qx,{props:n,points:z,clipPathId:t,pathRef:r,strokeDasharray:ce})}return v.createElement(qx,{props:n,points:a,clipPathId:t,pathRef:r,strokeDasharray:ce})}),v.createElement(une,{label:n.label}))}function hoe(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),i=v.useRef(0),o=v.useRef(null);return v.createElement(doe,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var poe=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Yt(e.payload,t)}};class moe extends v.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:o,yAxisId:a,top:s,left:l,width:u,height:c,id:d,needClip:h,zIndex:p}=this.props;if(t)return null;var g=Ae("recharts-line",i),_=d,{r:y,strokeWidth:w}=Xie(n),b=fj(n),S=y*2+w,I=h?"url(#clipPath-".concat(b?"":"dots-").concat(_,")"):void 0;return v.createElement(Ri,{zIndex:p},v.createElement(Eo,{className:g},h&&v.createElement("defs",null,v.createElement(Tre,{clipPathId:_,xAxisId:o,yAxisId:a}),!b&&v.createElement("clipPath",{id:"clipPath-dots-".concat(_)},v.createElement("rect",{x:l-S/2,y:s-S/2,width:u+S,height:c+S}))),v.createElement(Pre,{xAxisId:o,yAxisId:a,data:r,dataPointFormatter:poe,errorBarOffset:0},v.createElement(hoe,{props:this.props,clipPathId:_}))),v.createElement(gre,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:I}))}}var xj={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Rt.line,type:"linear"};function goe(e){var t=Zt(e,xj),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,connectNulls:s,dot:l,hide:u,isAnimationActive:c,label:d,legendType:h,xAxisId:p,yAxisId:g,id:_}=t,y=p1(t,eoe),{needClip:w}=vj(p,g),b=l1(),S=um(),I=Tn(),O=J(R=>Yie(R,p,g,I,_));if(S!=="horizontal"&&S!=="vertical"||O==null||b==null)return null;var{height:M,width:T,x:P,y:x}=b;return v.createElement(moe,Zu({},y,{id:_,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,isAnimationActive:c,hide:u,label:d,legendType:h,xAxisId:p,yAxisId:g,points:O,layout:S,height:M,width:T,left:P,top:x,needClip:w}))}function voe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:a,bandSize:s,displayedData:l}=e;return l.map((u,c)=>{var d=Yt(u,a);if(t==="horizontal"){var h=RT({axis:n,ticks:i,bandSize:s,entry:u,index:c}),p=bt(d)?null:r.scale(d);return{x:h,y:p,value:d,payload:u}}var g=bt(d)?null:n.scale(d),_=RT({axis:r,ticks:o,bandSize:s,entry:u,index:c});return g==null||_==null?null:{x:g,y:_,value:d,payload:u}}).filter(Boolean)}function yoe(e){var t=Zt(e,xj),n=Tn();return v.createElement(Dne,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(Cne,{legendPayload:ooe(t)}),v.createElement(aoe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),v.createElement(Fne,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(goe,Zu({},t,{id:r}))))}var m1=v.memo(yoe,u1);m1.displayName="Line";var _oe=["domain","range"],woe=["domain","range"];function Gx(e,t){if(e==null)return{};var n,r,i=Eoe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Eoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qx(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Ij(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=Gx(e,_oe),{domain:o,range:a}=t,s=Gx(t,woe);return!Qx(n,o)||!Qx(r,a)?!1:u1(i,s)}var boe=["dangerouslySetInnerHTML","ticks"],Soe=["id"];function b0(){return b0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b0.apply(null,arguments)}function Yx(e,t){if(e==null)return{};var n,r,i=Poe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Poe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Toe(e){var t=at(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(tre(e)):n.current!==e&&t(nre({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(rre(n.current)),n.current=null)},[t]),null}var Aoe=e=>{var{xAxisId:t,className:n}=e,r=J(n2),i=Tn(),o="xAxis",a=J(p=>nl(p,o,t,i)),s=J(p=>gL(p,o,t,i)),l=J(p=>UJ(p,t)),u=J(p=>KJ(p,t)),c=J(p=>LM(p,t));if(l==null||u==null||c==null)return null;var d=Yx(e,boe),h=Yx(c,Soe);return v.createElement(d1,b0({},d,h,{scale:a,x:u.x,y:u.y,width:l.width,height:l.height,className:Ae("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:s,axisType:o}))},xoe={allowDataOverflow:gt.allowDataOverflow,allowDecimals:gt.allowDecimals,allowDuplicatedCategory:gt.allowDuplicatedCategory,angle:gt.angle,axisLine:li.axisLine,height:gt.height,hide:!1,includeHidden:gt.includeHidden,interval:gt.interval,minTickGap:gt.minTickGap,mirror:gt.mirror,orientation:gt.orientation,padding:gt.padding,reversed:gt.reversed,scale:gt.scale,tick:gt.tick,tickCount:gt.tickCount,tickLine:li.tickLine,tickSize:li.tickSize,type:gt.type,xAxisId:0},Ioe=e=>{var t=Zt(e,xoe);return v.createElement(v.Fragment,null,v.createElement(Toe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(Aoe,t))},g1=v.memo(Ioe,Ij);g1.displayName="XAxis";var koe=["dangerouslySetInnerHTML","ticks"],Coe=["id"];function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(null,arguments)}function Xx(e,t){if(e==null)return{};var n,r,i=Ooe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ooe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Roe(e){var t=at(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(ire(e)):n.current!==e&&t(ore({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(are(n.current)),n.current=null)},[t]),null}var Noe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=v.useRef(null),a=v.useRef(null),s=J(n2),l=Tn(),u=at(),c="yAxis",d=J(b=>nl(b,c,t,l)),h=J(b=>QJ(b,t)),p=J(b=>GJ(b,t)),g=J(b=>gL(b,c,t,l)),_=J(b=>jM(b,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!h||s1(i)||v.isValidElement(i)||_==null)){var b=o.current;if(b){var S=b.getCalculatedWidth();Math.round(h.width)!==Math.round(S)&&u(sre({id:t,width:S}))}}},[g,h,u,i,t,r,_]),h==null||p==null||_==null)return null;var y=Xx(e,koe),w=Xx(_,Coe);return v.createElement(d1,S0({},y,w,{ref:o,labelRef:a,scale:d,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:Ae("recharts-".concat(c," ").concat(c),n),viewBox:s,ticks:g,axisType:c}))},Doe={allowDataOverflow:vt.allowDataOverflow,allowDecimals:vt.allowDecimals,allowDuplicatedCategory:vt.allowDuplicatedCategory,angle:vt.angle,axisLine:li.axisLine,hide:!1,includeHidden:vt.includeHidden,interval:vt.interval,minTickGap:vt.minTickGap,mirror:vt.mirror,orientation:vt.orientation,padding:vt.padding,reversed:vt.reversed,scale:vt.scale,tick:vt.tick,tickCount:vt.tickCount,tickLine:li.tickLine,tickSize:li.tickSize,type:vt.type,width:vt.width,yAxisId:0},Moe=e=>{var t=Zt(e,Doe);return v.createElement(v.Fragment,null,v.createElement(Roe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(Noe,t))},v1=v.memo(Moe,Ij);v1.displayName="YAxis";var Loe=(e,t)=>t,y1=V([Loe,je,NM,ht,NL,Oi,cee,jt],vee),_1=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},kj=Zn("mouseClick"),Cj=bc();Cj.startListening({actionCreator:kj,effect:(e,t)=>{var n=e.payload,r=y1(t.getState(),_1(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(lZ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var P0=Zn("mouseMove"),Oj=bc(),Bf=null;Oj.startListening({actionCreator:P0,effect:(e,t)=>{var n=e.payload;Bf!==null&&cancelAnimationFrame(Bf);var r=_1(n);Bf=requestAnimationFrame(()=>{var i=t.getState(),o=YE(i,i.tooltip.settings.shared);if(o==="axis"){var a=y1(i,r);(a==null?void 0:a.activeIndex)!=null?t.dispatch(TL({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(PL())}Bf=null})}});var Jx={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Rj=Pn({name:"rootProps",initialState:Jx,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:Jx.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),joe=Rj.reducer,{updateOptions:Voe}=Rj.actions,Nj=Pn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}});Nj.actions;var $oe=Nj.reducer,Dj=Zn("keyDown"),Mj=Zn("focus"),w1=bc();w1.startListening({actionCreator:Dj,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=XE(i,il(n),Rc(n),jc(n)),s=a==null?-1:Number(a);if(!(!Number.isFinite(s)||s<0)){var l=Oi(n);if(o==="Enter"){var u=Uh(n,"axis","hover",String(i.index));t.dispatch(g0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var c=ZJ(n),d=c==="left-to-right"?1:-1,h=o==="ArrowRight"?1:-1,p=s+h*d;if(!(l==null||p>=l.length||p<0)){var g=Uh(n,"axis","hover",String(p));t.dispatch(g0({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});w1.startListening({actionCreator:Mj,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=Uh(n,"axis","hover",String(o));t.dispatch(g0({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:a}))}}}});var zn=Zn("externalEvent"),Lj=bc(),av=new Map;Lj.startListening({actionCreator:zn,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=av.get(i);o!==void 0&&cancelAnimationFrame(o);var a=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:GZ(s),activeDataKey:KZ(s),activeIndex:Xu(s),activeLabel:LL(s),activeTooltipIndex:Xu(s),isTooltipActive:QZ(s)};n(l,r)}finally{av.delete(i)}});av.set(i,a)}}});var Uoe=V([rl],e=>e.tooltipItemPayloads),Foe=V([Uoe,Mc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(s=>s.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var a=t(o,n);return a}}}),jj=Zn("touchMove"),Vj=bc();Vj.startListening({actionCreator:jj,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=YE(r,r.tooltip.settings.shared);if(i==="axis"){var o=y1(r,_1({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(TL({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var a,s=n.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute($q),c=(a=l.getAttribute(Uq))!==null&&a!==void 0?a:void 0,d=Foe(t.getState(),u,c);t.dispatch(sZ({activeDataKey:c,activeIndex:u,activeCoordinate:d}))}}}});var zoe=SD({brush:Xre,cartesianAxis:lre,chartData:Gee,errorBars:yre,graphicalItems:$ne,layout:Sq,legend:k7,options:Bee,polarAxis:fne,polarOptions:$oe,referenceElements:iie,rootProps:joe,tooltip:uZ,zIndex:Oee}),Boe=function(t){return GK({reducer:zoe,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Cj.middleware,Oj.middleware,w1.middleware,Lj.middleware,Vj.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(VD({type:"raf"}))},devTools:Tc.devToolsEnabled})};function Woe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Tn(),o=v.useRef(null);if(i)return n;o.current==null&&(o.current=Boe(t));var a=Bw;return v.createElement(qre,{context:a,store:o.current},n)}function Hoe(e){var{layout:t,margin:n}=e,r=at(),i=Tn();return v.useEffect(()=>{i||(r(wq(t)),r(_q(n)))},[r,i,t,n]),null}var Koe=v.memo(Hoe,u1);function qoe(e){var t=at();return v.useEffect(()=>{t(Voe(e))},[t,e]),null}function Zx(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=hj("".concat(r).concat(t)),o=at();return v.useLayoutEffect(()=>(o(kee({zIndex:t,elementId:i,isPanorama:n})),()=>{o(Cee({zIndex:t,isPanorama:n}))}),[o,t,i,n]),v.createElement("g",{tabIndex:-1,id:i})}function eI(e){var{children:t,isPanorama:n}=e,r=J(_ee);if(!r||r.length===0)return t;var i=r.filter(a=>a<0),o=r.filter(a=>a>0);return v.createElement(v.Fragment,null,i.map(a=>v.createElement(Zx,{key:a,zIndex:a,isPanorama:n})),t,o.map(a=>v.createElement(Zx,{key:a,zIndex:a,isPanorama:n})))}var Goe=["children"];function Qoe(e,t){if(e==null)return{};var n,r,i=Yoe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qh.apply(null,arguments)}var Xoe={width:"100%",height:"100%",display:"block"},Joe=v.forwardRef((e,t)=>{var n=tE(),r=nE(),i=_2();if(!Fr(n)||!Fr(r))return null;var{children:o,otherAttributes:a,title:s,desc:l}=e,u,c;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?c=a.role:c=i?"application":void 0),v.createElement(xw,qh({},a,{title:s,desc:l,role:c,tabIndex:u,width:n,height:r,style:Xoe,ref:t}),o)}),Zoe=e=>{var{children:t}=e,n=J(sm);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return v.createElement(xw,{width:r,height:i,x:a,y:o},t)},tI=v.forwardRef((e,t)=>{var{children:n}=e,r=Qoe(e,Goe),i=Tn();return i?v.createElement(Zoe,null,v.createElement(eI,{isPanorama:!0},n)):v.createElement(Joe,qh({ref:t},r),v.createElement(eI,{isPanorama:!1},n))});function eae(){var e=at(),[t,n]=v.useState(null),r=J(Vq);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;St(o)&&o!==r&&e(bq(o))}},[t,e,r]),n}function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(r){nae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nae(e,t,n){return(t=rae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rae(e){var t=iae(e,"string");return typeof t=="symbol"?t:t+""}function iae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_a.apply(null,arguments)}var oae=()=>(rte(),null);function Gh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var aae=v.forwardRef((e,t)=>{var n,r,i=v.useRef(null),[o,a]=v.useState({containerWidth:Gh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Gh((r=e.style)===null||r===void 0?void 0:r.height)}),s=v.useCallback((u,c)=>{a(d=>{var h=Math.round(u),p=Math.round(c);return d.containerWidth===h&&d.containerHeight===p?d:{containerWidth:h,containerHeight:p}})},[]),l=v.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();s(c,d);var h=g=>{var{width:_,height:y}=g[0].contentRect;s(_,y)},p=new ResizeObserver(h);p.observe(u),i.current=p}},[t,s]);return v.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),v.createElement(v.Fragment,null,v.createElement(cm,{width:o.containerWidth,height:o.containerHeight}),v.createElement("div",_a({ref:l},e)))}),sae=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=v.useState({containerWidth:Gh(n),containerHeight:Gh(r)}),a=v.useCallback((l,u)=>{o(c=>{var d=Math.round(l),h=Math.round(u);return c.containerWidth===d&&c.containerHeight===h?c:{containerWidth:d,containerHeight:h}})},[]),s=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();a(u,c)}},[t,a]);return v.createElement(v.Fragment,null,v.createElement(cm,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",_a({ref:s},e)))}),lae=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(cm,{width:n,height:r}),v.createElement("div",_a({ref:t},e)))}),uae=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return vi(n)||vi(r)?v.createElement(sae,_a({},e,{ref:t})):v.createElement(lae,_a({},e,{ref:t}))});function cae(e){return e===!0?aae:uae}var fae=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:_,style:y,width:w,responsive:b,dispatchTouchEvents:S=!0}=e,I=v.useRef(null),O=at(),[M,T]=v.useState(null),[P,x]=v.useState(null),R=eae(),C=eE(),D=(C==null?void 0:C.width)>0?C.width:w,N=(C==null?void 0:C.height)>0?C.height:i,Z=v.useCallback(U=>{R(U),typeof t=="function"&&t(U),T(U),x(U),U!=null&&(I.current=U)},[R,t,T,x]),ce=v.useCallback(U=>{O(kj(U)),O(zn({handler:o,reactEvent:U}))},[O,o]),fe=v.useCallback(U=>{O(P0(U)),O(zn({handler:u,reactEvent:U}))},[O,u]),se=v.useCallback(U=>{O(PL()),O(zn({handler:c,reactEvent:U}))},[O,c]),z=v.useCallback(U=>{O(P0(U)),O(zn({handler:d,reactEvent:U}))},[O,d]),B=v.useCallback(()=>{O(Mj())},[O]),X=v.useCallback(U=>{O(Dj(U.key))},[O]),le=v.useCallback(U=>{O(zn({handler:a,reactEvent:U}))},[O,a]),ue=v.useCallback(U=>{O(zn({handler:s,reactEvent:U}))},[O,s]),Ee=v.useCallback(U=>{O(zn({handler:l,reactEvent:U}))},[O,l]),Qe=v.useCallback(U=>{O(zn({handler:h,reactEvent:U}))},[O,h]),en=v.useCallback(U=>{O(zn({handler:_,reactEvent:U}))},[O,_]),tn=v.useCallback(U=>{S&&O(jj(U)),O(zn({handler:g,reactEvent:U}))},[O,S,g]),Oe=v.useCallback(U=>{O(zn({handler:p,reactEvent:U}))},[O,p]),ol=cae(b);return v.createElement(BL.Provider,{value:M},v.createElement(bN.Provider,{value:P},v.createElement(ol,{width:D??(y==null?void 0:y.width),height:N??(y==null?void 0:y.height),className:Ae("recharts-wrapper",r),style:tae({position:"relative",cursor:"default",width:D,height:N},y),onClick:ce,onContextMenu:le,onDoubleClick:ue,onFocus:B,onKeyDown:X,onMouseDown:Ee,onMouseEnter:fe,onMouseLeave:se,onMouseMove:z,onMouseUp:Qe,onTouchEnd:Oe,onTouchMove:tn,onTouchStart:en,ref:Z},v.createElement(oae,null),n)))}),dae=["width","height","responsive","children","className","style","compact","title","desc"];function hae(e,t){if(e==null)return{};var n,r,i=pae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mae=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:a,style:s,compact:l,title:u,desc:c}=e,d=hae(e,dae),h=Vr(d);return l?v.createElement(v.Fragment,null,v.createElement(cm,{width:n,height:r}),v.createElement(tI,{otherAttributes:h,title:u,desc:c},o)):v.createElement(fae,{className:a,style:s,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(tI,{otherAttributes:h,title:u,desc:c,ref:t},v.createElement(aie,null,o)))});function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T0.apply(null,arguments)}var gae={top:5,right:5,bottom:5,left:5},vae={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:gae,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},yae=v.forwardRef(function(t,n){var r,i=Zt(t.categoricalChartProps,vae),{chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return v.createElement(Woe,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:o},v.createElement(Yre,{chartData:u.data}),v.createElement(Koe,{layout:i.layout,margin:i.margin}),v.createElement(qoe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(mae,T0({},i,{ref:n})))}),_ae=["axis"],$j=v.forwardRef((e,t)=>v.createElement(yae,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_ae,tooltipPayloadSearcher:Fee,categoricalChartProps:e,ref:t}));function wae({user:e}){const[t,n]=v.useState([]),[r,i]=v.useState(!0);if(v.useEffect(()=>{if(!e)return;(async()=>{try{const s=await Vp(e.uid);n(s)}catch(s){console.error("Error fetching workouts:",s)}finally{i(!1)}})()},[e]),!e)return k.createElement("p",null,"Please sign in to see your charts.");if(r)return k.createElement("p",null,"Loading charts...");if(!t.length)return k.createElement("p",null,"No workouts found.");const o={};return t.forEach(a=>{a.exercises.forEach(s=>{o[s.name]||(o[s.name]=[]),s.sets.forEach((l,u)=>{o[s.name].push({set:u+1,weight:Number(l.weight)||0,reps:Number(l.reps)||0})})})}),k.createElement("div",{className:"space-y-6"},Object.keys(o).map(a=>k.createElement("div",{className:"bg-white p-4 rounded shadow"},k.createElement("h3",{className:"font-semibold mb-2"},a," Progress"),k.createElement("div",{style:{width:"100%",height:280}},k.createElement(u2,{width:"100%",height:"100%"},k.createElement($j,{data:o[a],margin:{top:5,right:20,bottom:5,left:0}},k.createElement(g1,{dataKey:"set",label:{value:"Set",position:"insideBottomRight",offset:-5}}),k.createElement(v1,{label:{value:"Weight (kg)",angle:-90,position:"insideLeft"}}),k.createElement(qL,null),k.createElement(oE,null),k.createElement(h1,{stroke:"#ccc",strokeDasharray:"5 5"}),k.createElement(m1,{type:"monotone",dataKey:"weight",stroke:"#3b82f6"})))))))}function Eae({user:e}){return k.createElement("div",{className:"px-4 py-6 md:px-8 md:py-8 min-h-screen bg-gray-100"},k.createElement("div",{className:"max-w-5xl mx-auto"},k.createElement("h2",{className:"text-2xl md:text-3xl font-semibold mb-6"},"Analytics Dashboard"),k.createElement("div",{className:"bg-white p-4 md:p-6 rounded-lg shadow-md"},k.createElement(wae,{user:e}))))}function bae(e){return Ap(pa,"users",e,"templates")}async function Sae(e){return(await sw(bae(e))).docs.map(n=>({id:n.id,...n.data()}))}async function Pae(e,t){const n=wo(pa,"users",e,"templates",t);await mR(n)}const Tae=[{name:"Chest + Triceps",exercises:[{name:"Bench Press",sets:[{reps:"10",weight:""}]},{name:"Incline Dumbbell Press",sets:[{reps:"12",weight:""}]},{name:"Chest Fly",sets:[{reps:"15",weight:""}]},{name:"Tricep Pushdown",sets:[{reps:"12",weight:""}]},{name:"Overhead Tricep Extension",sets:[{reps:"12",weight:""}]}]},{name:"Back + Biceps",exercises:[{name:"Deadlift",sets:[{reps:"5",weight:""}]},{name:"Lat Pulldown",sets:[{reps:"12",weight:""}]},{name:"Seated Row",sets:[{reps:"12",weight:""}]},{name:"Bicep Curl",sets:[{reps:"12",weight:""}]},{name:"Hammer Curl",sets:[{reps:"12",weight:""}]}]},{name:"Leg Day",exercises:[{name:"Squat",sets:[{reps:"5",weight:""}]},{name:"Leg Press",sets:[{reps:"12",weight:""}]},{name:"Leg Extension",sets:[{reps:"15",weight:""}]},{name:"Hamstring Curl",sets:[{reps:"12",weight:""}]},{name:"Calf Raise",sets:[{reps:"20",weight:""}]}]},{name:"Shoulders",exercises:[{name:"Overhead Press",sets:[{reps:"8",weight:""}]},{name:"Lateral Raise",sets:[{reps:"15",weight:""}]},{name:"Front Raise",sets:[{reps:"12",weight:""}]},{name:"Reverse Fly",sets:[{reps:"12",weight:""}]}]}];function Aae({user:e}){const[t,n]=v.useState([]),[r,i]=v.useState(!0),o=bC();async function a(){const l=await Sae(e.uid);n([...Tae,...l]),i(!1)}v.useEffect(()=>{e&&a()},[e]);function s(l){o("/add",{state:{template:l}})}return r?k.createElement("div",{className:"flex justify-center items-center pt-20"},k.createElement("p",{className:"text-gray-600 text-lg"},"Loading templates...")):k.createElement("div",{className:"pt-20 md:pt-10 px-6 md:px-12"},k.createElement("h2",{className:"text-3xl font-semibold mb-8"},"Workout Templates"),k.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6"},t.map((l,u)=>k.createElement("div",{key:u,className:`\r
              bg-white p-6 rounded-2xl shadow-md border border-gray-200\r
              hover:shadow-lg hover:-translate-y-1 transition-all duration-200\r
            `},k.createElement("h3",{className:"text-xl font-bold mb-3 text-gray-900"},l.name),k.createElement("div",{className:"mb-4"},k.createElement("p",{className:"text-gray-600 font-medium mb-1"},"Exercises:"),k.createElement("ul",{className:"list-disc ml-6 text-gray-700 space-y-1"},l.exercises.map((c,d)=>k.createElement("li",{key:d},c.name)))),k.createElement("div",{className:"mt-4 flex flex-wrap gap-3"},k.createElement("button",{onClick:()=>s(l),className:`\r
                  px-4 py-2 rounded-lg bg-blue-600 \r
                  text-white font-medium hover:bg-blue-700 \r
                  transition shadow-sm\r
                `},"Use Template"),l.id&&k.createElement("button",{onClick:async()=>{await Pae(e.uid,l.id),a()},className:`\r
                    px-4 py-2 rounded-lg bg-red-500 \r
                    text-white font-medium hover:bg-red-600 \r
                    transition shadow-sm\r
                  `},"Delete"))))))}function xae({user:e}){const[t,n]=v.useState([]),[r,i]=v.useState(!0);if(v.useEffect(()=>{if(!e)return;(async()=>{try{const s=await Vp(e.uid);n(s)}catch(s){console.error("Error fetching workouts:",s)}finally{i(!1)}})()},[e]),!e)return k.createElement("p",null,"Please sign in to see your PR charts.");if(r)return k.createElement("p",null,"Loading PR charts...");if(!t.length)return k.createElement("p",null,"No workouts found.");const o={};return t.forEach(a=>{a.exercises.forEach(s=>{o[s.name]||(o[s.name]=[]);const l=s.sets.reduce((u,c)=>Math.max(u,Number(c.weight)||0),0);o[s.name].push({date:a.date,weight:l})})}),k.createElement("div",{className:"space-y-6"},Object.keys(o).map(a=>k.createElement("div",{className:"bg-white p-4 rounded shadow"},k.createElement("h3",{className:"font-semibold mb-2"},a," Progress"),k.createElement("div",{style:{width:"100%",height:280}},k.createElement(u2,{width:"100%",height:"100%"},k.createElement($j,{data:chartData[a],margin:{top:5,right:20,bottom:5,left:0}},k.createElement(g1,{dataKey:"set",label:{value:"Set",position:"insideBottomRight",offset:-5}}),k.createElement(v1,{label:{value:"Weight (kg)",angle:-90,position:"insideLeft"}}),k.createElement(qL,null),k.createElement(oE,null),k.createElement(h1,{stroke:"#ccc",strokeDasharray:"5 5"}),k.createElement(m1,{type:"monotone",dataKey:"weight",stroke:"#3b82f6"})))))))}function Iae({user:e}){return k.createElement("div",{className:"p-8 bg-gray-100 min-h-screen"},k.createElement("h2",{className:"text-3xl font-semibold mb-6"},"Personal Records"),k.createElement(xae,{user:e}))}function kae({user:e,setUser:t}){const[n,r]=v.useState({displayName:(e==null?void 0:e.displayName)||"",email:(e==null?void 0:e.email)||"",photoURL:""}),[i,o]=v.useState(!1);v.useEffect(()=>{c5(Os).then(l=>{l!=null&&l.user&&(console.log("Mobile Google Login Success:",l.user),t(l.user))}).catch(console.error)},[]),v.useEffect(()=>{if(!e)return;(async()=>{const u=wo(pa,"users",e.uid),c=await aw(u);c.exists()?r(d=>({...d,...c.data()})):await LP(u,{displayName:e.displayName,email:e.email,photoURL:e.photoURL||""})})()},[e]);const a=async l=>{if(!e)return alert("Please sign in first!");const u=l.target.files[0];if(u){o(!0);try{const c=i8(c8,`users/${e.uid}/profile.jpg`);await n8(c,u);const d=await r8(c);await LP(wo(pa,"users",e.uid),{photoURL:d},{merge:!0}),r(h=>({...h,photoURL:d})),alert("Profile picture updated successfully!")}catch(c){console.error(c),alert("Failed to upload profile picture")}o(!1)}},s=n.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(n.displayName||"User")}&rounded=true&background=E0F2FE&color=0284C7`;return k.createElement("div",{className:"p-8"},k.createElement("h2",{className:"text-3xl font-semibold mb-6"},"Your Profile"),!e&&k.createElement("div",{className:"bg-white p-6 rounded-xl shadow-md text-center"},k.createElement("p",{className:"mb-4 text-gray-600 text-lg"},"You are not signed in."),k.createElement("button",{onClick:mN,className:"px-4 py-2 bg-blue-600 text-white rounded-lg"},"Sign In with Google")),e&&k.createElement(k.Fragment,null,k.createElement("div",{className:"mb-6 flex items-center gap-4"},k.createElement("img",{src:s,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border"}),k.createElement("div",null,k.createElement("label",{className:"cursor-pointer px-4 py-2 bg-blue-600 text-white rounded"},i?"Uploading...":"Change Photo",k.createElement("input",{type:"file",accept:"image/*",onChange:a,className:"hidden"})))),k.createElement("div",{className:"bg-white p-6 rounded-xl shadow-md space-y-3"},k.createElement("p",null,k.createElement("strong",null,"Name:")," ",n.displayName),k.createElement("p",null,k.createElement("strong",null,"Email:")," ",n.email)),k.createElement("div",{className:"mt-6"},k.createElement("button",{onClick:gN,className:"px-4 py-2 bg-red-500 text-white rounded-lg"},"Sign Out"))))}function Cae({user:e}){return e?k.createElement("div",{className:"p-6"},k.createElement("h1",{className:"text-3xl font-bold mb-6"},"Account Settings"),k.createElement("div",{className:"bg-white shadow p-4 rounded mb-4"},k.createElement("p",{className:"text-lg"},k.createElement("strong",null,"Name:")," ",e.displayName||"No name set"),k.createElement("p",{className:"text-lg"},k.createElement("strong",null,"Email:")," ",e.email))):k.createElement("div",{className:"p-6 text-center"},k.createElement("h2",{className:"text-xl font-semibold"},"Please log in to view settings."))}async function Oae(e){try{const t=wo(pa,"users",e),n=await aw(t);return n.exists()&&n.data().achievements?n.data().achievements:[]}catch(t){return console.error("Error fetching achievements:",t),[]}}async function Rae(e){try{const t=wo(pa,"users",e),n=await aw(t);return n.exists()?n.data().streaks||[]:[]}catch(t){return console.error("Error fetching user streaks:",t),[]}}function Nae({user:e}){const[t,n]=v.useState([]);return v.useEffect(()=>{async function r(){if(!e)return;const i=await Oae(e.uid);n(i)}r()},[e]),k.createElement("div",{className:"p-8 min-h-screen"},k.createElement("h2",{className:"text-3xl font-semibold mb-6"},"Achievements"),k.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},t.length===0&&k.createElement("p",null,"No achievements yet."),t.map((r,i)=>k.createElement("div",{key:i,className:"bg-white p-4 rounded-xl shadow text-center"},k.createElement("div",{className:"text-4xl mb-2"},r.emoji||""),k.createElement("h3",{className:"font-semibold"},r.title),k.createElement("p",{className:"text-sm text-gray-500"},r.description)))))}function Dae({user:e}){const[t,n]=v.useState([]);return v.useEffect(()=>{e!=null&&e.uid&&Rae(e.uid).then(r=>n(r))},[e]),e?t.length?k.createElement("div",{className:"p-4"},k.createElement("h2",{className:"text-xl font-semibold mb-4"},"Your Workout Streaks"),k.createElement("div",{className:"grid grid-cols-7 gap-2"},t.map((r,i)=>k.createElement("div",{key:i,className:`h-10 w-10 rounded-lg flex items-center justify-center 
              ${r.completed?"bg-green-500 text-white":"bg-gray-200 text-gray-500"}`},r.date.slice(-2)," ")))):k.createElement("p",null,"No streaks yet. Start your workouts!"):k.createElement("p",null,"Please log in to see your streaks")}function Mae(){const[e,t]=v.useState(null);return v.useEffect(()=>{const n=M9(Os,r=>t(r));return()=>n()},[]),k.createElement(TU,null,k.createElement(ir,{path:"/",element:k.createElement(br,{user:e},k.createElement(b8,{user:e}))}),k.createElement(ir,{path:"/history",element:k.createElement(br,{user:e},k.createElement(S8,{user:e}))}),k.createElement(ir,{path:"/add",element:k.createElement(br,{user:e},k.createElement(Tw,{user:e}))}),k.createElement(ir,{path:"/analytics",element:k.createElement(br,{user:e},k.createElement(Eae,{user:e}))}),k.createElement(ir,{path:"/templates",element:k.createElement(br,{user:e},k.createElement(Aae,{user:e}))}),k.createElement(ir,{path:"/pr",element:k.createElement(br,{user:e},k.createElement(Iae,{user:e}))}),k.createElement(ir,{path:"/profile",element:k.createElement(br,{user:e},k.createElement(kae,{user:e,setUser:t}))}),k.createElement(ir,{path:"/settings",element:k.createElement(br,{user:e},k.createElement(Cae,{user:e}))}),k.createElement(ir,{path:"/achievements",element:k.createElement(br,{user:e},k.createElement(Nae,{user:e}))}),k.createElement(ir,{path:"/streaks",element:k.createElement(br,{user:e},k.createElement(Dae,{user:e}))}))}pC(document.getElementById("root")).render(k.createElement(k.StrictMode,null,k.createElement(RU,null,k.createElement(Mae,null)," ")));
